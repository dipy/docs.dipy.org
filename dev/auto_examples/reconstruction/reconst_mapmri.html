
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DIPY &#8212; dipy 1.8.0dev0 documentation</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/dipy.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

  
<link rel="stylesheet" href="../../_static/styles/grg-sphinx-theme.css"/>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'auto_examples/reconstruction/reconst_mapmri';</script>
    <link rel="icon" href="../../_static/dipy-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
<nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/dipy-logo.png" class="logo__image only-light" alt="DIPY"/>
    <script>document.write(`<img src="../../_static/dipy-logo.png" class="logo__image only-dark" alt="DIPY"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org">
            Quick Start
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/tutorials">
            Tutorials
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/recipes">
            Recipes
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/cli">
            CLI / Workflows
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/reference">
            API
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/cli/reference">
            CLI API
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../../blog.html">
          Blog
        </a>
      </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

      <li class="nav-item">
        <a class="nav-link" href="../../https%3A//app.gitter.im/%23/room/%2523dipy_dipy%3Agitter.im.html">
          Live Chat (Gitter)
        </a>
      </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../../team.html">
          Team
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../releases.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter/X</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-youtube"></i></span>
            <label class="sr-only">YouTube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

</nav>
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org">
            Quick Start
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/tutorials">
            Tutorials
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/recipes">
            Recipes
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/cli">
            CLI / Workflows
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/reference">
            API
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://docs.dipy.org/cli/reference">
            CLI API
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../../blog.html">
          Blog
        </a>
      </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

      <li class="nav-item">
        <a class="nav-link" href="../../https%3A//app.gitter.im/%23/room/%2523dipy_dipy%3Agitter.im.html">
          Live Chat (Gitter)
        </a>
      </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../../team.html">
          Team
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../releases.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter/X</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-youtube"></i></span>
            <label class="sr-only">YouTube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="reconst_qtiplus.html">Applying positivity constraints to Q-space Trajectory Imaging (QTI+)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_shore.html">Continuous and analytical diffusion signal modelling with 3D-SHORE</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dsi.html">Reconstruct with Diffusion Spectrum Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dsid.html">DSI Deconvolution vs DSI</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_shore_metrics.html">Calculate SHORE scalar maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_gqi.html">Reconstruct with Generalized Q-Sampling Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_csa.html">Reconstruct with Constant Solid Angle (Q-Ball)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_sfm.html">Reconstruction with the Sparse Fascicle Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dsi_metrics.html">Calculate DSI-based scalar maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dki.html">Reconstruction of the diffusion signal with the kurtosis tensor model</a></li>
<li class="toctree-l1"><a class="reference internal" href="kfold_xval.html">K-fold cross-validation for model comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_qti.html">Reconstruct with Q-space Trajectory Imaging (QTI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dti.html">Reconstruction of the diffusion signal with the Tensor model</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_forecast.html">Crossing invariant fiber response function with FORECAST model</a></li>
<li class="toctree-l1"><a class="reference internal" href="restore_dti.html">Using the RESTORE algorithm for robust tensor fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="histology_resdnn.html">Local reconstruction using the Histological ResDNN</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_dki_micro.html">Reconstruction of the diffusion signal with the WMTI model</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_sh.html">Signal Reconstruction Using Spherical Harmonics</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_fwdti.html">Using the free water elimination model to remove DTI free water contamination</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_ivim.html">Intravoxel incoherent motion</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_csd.html">Reconstruction with Constrained Spherical Deconvolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_mcsd.html">Reconstruction with Multi-Shell Multi-Tissue CSD</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Continuous and analytical diffusion signal modelling with MAP-MRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_msdki.html">Mean signal diffusion kurtosis imaging (MSDKI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_rumba.html">Reconstruction with Robust and Unbiased Model-BAsed Spherical Deconvolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="reconst_qtdmri.html">Estimating diffusion time dependent q-space indices using qt-dMRI</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">DIPY</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-reconstruction-reconst-mapmri-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="continuous-and-analytical-diffusion-signal-modelling-with-map-mri">
<span id="sphx-glr-auto-examples-reconstruction-reconst-mapmri-py"></span><h1>Continuous and analytical diffusion signal modelling with MAP-MRI<a class="headerlink" href="#continuous-and-analytical-diffusion-signal-modelling-with-map-mri" title="Permalink to this heading">#</a></h1>
<p>We show how to model the diffusion signal as a linear combination of continuous
functions from the MAP-MRI basis <a class="reference internal" href="#ozarslan2013" id="id1"><span>[Ozarslan2013]</span></a>. This continuous representation
allows for the computation of many properties of both the signal and diffusion
propagator.</p>
<p>We show how to estimate the analytical orientation distribution function (ODF)
and a variety of scalar indices. These include rotationally invariant quantities
such as the mean squared displacement (MSD), Q-space inverse variance (QIV),
teturn-to-origin probability (RTOP) and non-Gaussianity (NG). Interestingly, the
MAP-MRI basis also allows for the computation of directional indices, such as
the return-to-axis probability (RTAP), the return-to-plane probability
(RTPP), and the parallel and perpendicular non-Gaussianity.</p>
<p>The estimation of these properties from noisy and sparse DWIs requires that the
fitting of the MAP-MRI basis is constrained and/or regularized. This can be done
by constraining the diffusion propagator to positive values <a class="reference internal" href="#ozarslan2013" id="id2"><span>[Ozarslan2013]</span></a>
<a class="reference internal" href="#delahaije2020" id="id3"><span>[DelaHaije2020]</span></a>, and through analytic Laplacian regularization (MAPL)
<a class="reference internal" href="#fick2016a" id="id4"><span>[Fick2016a]</span></a>.</p>
<p>First import the necessary modules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dipy.reconst</span> <span class="kn">import</span> <span class="n">mapmri</span>
<span class="kn">from</span> <span class="nn">dipy.viz</span> <span class="kn">import</span> <span class="n">window</span><span class="p">,</span> <span class="n">actor</span>
<span class="kn">from</span> <span class="nn">dipy.data</span> <span class="kn">import</span> <span class="n">get_fnames</span><span class="p">,</span> <a href="../../reference/dipy.data.html#dipy.data.get_sphere" title="dipy.data.get_sphere" class="sphx-glr-backref-module-dipy-data sphx-glr-backref-type-py-function"><span class="n">get_sphere</span></a>
<span class="kn">from</span> <span class="nn">dipy.core.gradients</span> <span class="kn">import</span> <a href="../../reference/dipy.core.html#dipy.core.gradients.gradient_table" title="dipy.core.gradients.gradient_table" class="sphx-glr-backref-module-dipy-core-gradients sphx-glr-backref-type-py-function"><span class="n">gradient_table</span></a>
<span class="kn">from</span> <span class="nn">dipy.io.image</span> <span class="kn">import</span> <a href="../../reference/dipy.io.html#dipy.io.image.load_nifti" title="dipy.io.image.load_nifti" class="sphx-glr-backref-module-dipy-io-image sphx-glr-backref-type-py-function"><span class="n">load_nifti</span></a>
<span class="kn">from</span> <span class="nn">dipy.io.gradients</span> <span class="kn">import</span> <span class="n">read_bvals_bvecs</span>
<span class="kn">from</span> <span class="nn">dipy.viz.plotting</span> <span class="kn">import</span> <a href="../../reference/dipy.viz.html#dipy.viz.plotting.compare_maps" title="dipy.viz.plotting.compare_maps" class="sphx-glr-backref-module-dipy-viz-plotting sphx-glr-backref-type-py-function"><span class="n">compare_maps</span></a>
</pre></div>
</div>
<p>Download and read the data for this tutorial.</p>
<p>MAP-MRI requires multi-shell data, to properly fit the radial part of the basis.
The total size of the downloaded data is 187.66 MBytes, however you only need
to fetch it once.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fraw</span><span class="p">,</span> <span class="n">fbval</span><span class="p">,</span> <span class="n">fbvec</span><span class="p">,</span> <span class="n">t1_fname</span> <span class="o">=</span> <span class="n">get_fnames</span><span class="p">(</span><span class="s1">&#39;cfin_multib&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code> contains the voxel data and <code class="docutils literal notranslate"><span class="pre">gtab</span></code> contains a <code class="docutils literal notranslate"><span class="pre">GradientTable</span></code>
object (gradient information e.g. b-values). For example, to show the b-values
it is possible to write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">gtab</span><span class="o">.</span><span class="n">bvals</span><span class="p">)</span>
</pre></div>
</div>
<p>For the values of the q-space indices to make sense it is necessary to
explicitly state the <code class="docutils literal notranslate"><span class="pre">big_delta</span></code> and <code class="docutils literal notranslate"><span class="pre">small_delta</span></code> parameters in the
gradient table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">,</span> <span class="n">affine</span> <span class="o">=</span> <a href="../../reference/dipy.io.html#dipy.io.image.load_nifti" title="dipy.io.image.load_nifti" class="sphx-glr-backref-module-dipy-io-image sphx-glr-backref-type-py-function"><span class="n">load_nifti</span></a><span class="p">(</span><span class="n">fraw</span><span class="p">)</span>
<span class="n">bvals</span><span class="p">,</span> <span class="n">bvecs</span> <span class="o">=</span> <span class="n">read_bvals_bvecs</span><span class="p">(</span><span class="n">fbval</span><span class="p">,</span> <span class="n">fbvec</span><span class="p">)</span>
<span class="n">gtab</span> <span class="o">=</span> <a href="../../reference/dipy.core.html#dipy.core.gradients.gradient_table" title="dipy.core.gradients.gradient_table" class="sphx-glr-backref-module-dipy-core-gradients sphx-glr-backref-type-py-function"><span class="n">gradient_table</span></a><span class="p">(</span><span class="n">bvals</span><span class="p">,</span> <span class="n">bvecs</span><span class="p">)</span>

<span class="n">big_delta</span> <span class="o">=</span> <span class="mf">0.0365</span>  <span class="c1"># seconds</span>
<span class="n">small_delta</span> <span class="o">=</span> <span class="mf">0.0157</span>  <span class="c1"># seconds</span>
<span class="n">gtab</span> <span class="o">=</span> <a href="../../reference/dipy.core.html#dipy.core.gradients.gradient_table" title="dipy.core.gradients.gradient_table" class="sphx-glr-backref-module-dipy-core-gradients sphx-glr-backref-type-py-function"><span class="n">gradient_table</span></a><span class="p">(</span><span class="n">bvals</span><span class="o">=</span><span class="n">gtab</span><span class="o">.</span><span class="n">bvals</span><span class="p">,</span> <span class="n">bvecs</span><span class="o">=</span><span class="n">gtab</span><span class="o">.</span><span class="n">bvecs</span><span class="p">,</span>
                      <span class="n">big_delta</span><span class="o">=</span><span class="n">big_delta</span><span class="p">,</span>
                      <span class="n">small_delta</span><span class="o">=</span><span class="n">small_delta</span><span class="p">)</span>

<span class="n">data_small</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">40</span><span class="p">:</span><span class="mi">65</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span><span class="mi">51</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;data.shape (</span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>The MAP-MRI Model can now be instantiated. The <code class="docutils literal notranslate"><span class="pre">radial_order</span></code> determines the
expansion order of the basis, i.e., how many basis functions are used to
approximate the signal.</p>
<p>First, we must decide to use the anisotropic or isotropic MAP-MRI basis. As was
shown in <a class="reference internal" href="#fick2016a" id="id5"><span>[Fick2016a]</span></a>, the isotropic basis is best used for tractography
purposes, as the anisotropic basis has a bias towards smaller crossing angles
in the ODF. For signal fitting and estimation of scalar quantities the
anisotropic basis is suggested. The choice can be made by setting
<code class="docutils literal notranslate"><span class="pre">anisotropic_scaling=True</span></code> or <code class="docutils literal notranslate"><span class="pre">anisotropic_scaling=False</span></code>.</p>
<p>First, we must select the method of regularization and/or constraining the
basis fitting.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">laplacian_regularization=True</span></code> makes it use Laplacian regularization
<a class="reference internal" href="#fick2016a" id="id6"><span>[Fick2016a]</span></a>. This method essentially reduces spurious oscillations in the
reconstruction by minimizing the Laplacian of the fitted signal. Several
options can be given to select the regularization weight:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">regularization_weighting=GCV</span></code> uses generalized cross-validation
<a class="reference internal" href="#craven1978" id="id7"><span>[Craven1978]</span></a> to find an optimal weight.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regularization_weighting=0.2</span></code> for example would omit the GCV and
just set it to 0.2 (found to be reasonable in HCP data <a class="reference internal" href="#fick2016a" id="id8"><span>[Fick2016a]</span></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regularization_weighting=np.array(weights)</span></code> would make the GCV use
a custom range to find an optimal weight.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">positivity_constraint=True</span></code> makes it use a positivity constraint on the
diffusion propagator. This method constrains the final solution of the
diffusion propagator to be positive either globally [DelaHaije2020] or at a
set of discrete points <a class="reference internal" href="#ozarslan2013" id="id9"><span>[Ozarslan2013]</span></a>, since negative values should not
exist.</p>
<blockquote>
<div><ul class="simple">
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">global_constraints=True</span></code> enforces positivity everywhere.
With the setting <code class="docutils literal notranslate"><span class="pre">global_constraints=False</span></code> positivity is enforced on
a grid determined by <code class="docutils literal notranslate"><span class="pre">pos_grid</span></code> and <code class="docutils literal notranslate"><span class="pre">pos_radius</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Both methods do a good job of producing viable solutions to the signal fitting
in practice. The difference is that the Laplacian regularization imposes
smoothness over the entire signal, including the extrapolation beyond the
measured signal. In practice this may result in, but does not guarantee,
positive solutions of the diffusion propagator. The positivity constraint
guarantees a positive solution which in general results in smooth solutions, but
does not guarantee it.</p>
<p>A suggested strategy is to use a low Laplacian weight together with a positivity
constraint. In this way both desired properties are guaranteed in final
solution. Higher Laplacian weights are recommended when the data is very noisy.</p>
<p>We use the package CVXPY (<a class="reference external" href="https://www.cvxpy.org/">https://www.cvxpy.org/</a>) to solve convex optimization
problems when <code class="docutils literal notranslate"><span class="pre">positivity_constraint=True</span></code>, so we need to first install CVXPY.
When using <code class="docutils literal notranslate"><span class="pre">global_constraints=True</span></code> to ensure global positivity, it is
recommended to use the MOSEK solver (<a class="reference external" href="https://www.mosek.com/">https://www.mosek.com/</a>) together with CVXPY
by setting <code class="docutils literal notranslate"><span class="pre">cvxpy_solver='MOSEK'</span></code>. Different solvers can differ greatly in
terms of runtime and solution accuracy, and in some cases solvers may show
warnings about convergence or recommended option settings.</p>
<p>For now we will generate the anisotropic models for different combinations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">radial_order</span> <span class="o">=</span> <span class="mi">6</span>

<span class="n">map_model_laplacian_aniso</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                               <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                               <span class="n">laplacian_weighting</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>

<span class="n">map_model_positivity_aniso</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span>
                                                <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                                <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">map_model_both_aniso</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                          <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                          <span class="n">laplacian_weighting</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
                                          <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">map_model_plus_aniso</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span>
                                          <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                          <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                          <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                          <span class="n">global_constraints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that when we use only Laplacian regularization, the <code class="docutils literal notranslate"><span class="pre">GCV</span></code> option may
select very low regularization weights in very anisotropic white matter such
as the corpus callosum, resulting in corrupted scalar indices. In this example
we therefore choose a preset value of 0.2, which was shown to be quite robust
and also faster in practice <a class="reference internal" href="#fick2016a" id="id10"><span>[Fick2016a]</span></a>.</p>
<p>We can then fit the MAP-MRI model to the data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapfit_laplacian_aniso</span> <span class="o">=</span> <span class="n">map_model_laplacian_aniso</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>
<span class="n">mapfit_positivity_aniso</span> <span class="o">=</span> <span class="n">map_model_positivity_aniso</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>
<span class="n">mapfit_both_aniso</span> <span class="o">=</span> <span class="n">map_model_both_aniso</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>
<span class="n">mapfit_plus_aniso</span> <span class="o">=</span> <span class="n">map_model_plus_aniso</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>

<span class="n">fits</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapfit_laplacian_aniso</span><span class="p">,</span> <span class="n">mapfit_positivity_aniso</span><span class="p">,</span> <span class="n">mapfit_both_aniso</span><span class="p">,</span>
        <span class="n">mapfit_plus_aniso</span><span class="p">]</span>
<span class="n">fit_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;MAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;CMAP&#39;</span><span class="p">,</span> <span class="s1">&#39;CMAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MAP+&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>From the fitted models we will first illustrate the estimation of q-space
indices. We will compare the estimation using only Laplacian regularization
(MAPL), using only the global positivity constraint (MAP+), using only
positivity in discrete points (CMAP), or using both Laplacian regularization and
positivity in discrete points (CMAPL). We first show the RTOP <a class="reference internal" href="#ozarslan2013" id="id11"><span>[Ozarslan2013]</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../reference/dipy.viz.html#dipy.viz.plotting.compare_maps" title="dipy.viz.plotting.compare_maps" class="sphx-glr-backref-module-dipy-viz-plotting sphx-glr-backref-type-py-function"><span class="n">compare_maps</span></a><span class="p">(</span><span class="n">fits</span><span class="p">,</span> <span class="n">maps</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;rtop&#39;</span><span class="p">],</span> <span class="n">fit_labels</span><span class="o">=</span><span class="n">fit_labels</span><span class="p">,</span> <span class="n">map_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;RTOP&#39;</span><span class="p">],</span>
             <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;MAPMRI_rtop.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<img alt="auto_examples/reconstruction/MAPMRI_rtop.png" src="auto_examples/reconstruction/MAPMRI_rtop.png" />
</figure>
<p>It can be seen that all maps appear quite smooth and similar, although it is
clear that the global positivity constraints provide smoother maps than the
discrete constraints. Higher Laplacian weights also produce smoother maps, but
tend to suppress the estimated RTOP values. The similarity and differences in
reconstruction can be further illustrated by visualizing the analytic norm of
the Laplacian of the fitted signal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="../../reference/dipy.viz.html#dipy.viz.plotting.compare_maps" title="dipy.viz.plotting.compare_maps" class="sphx-glr-backref-module-dipy-viz-plotting sphx-glr-backref-type-py-function"><span class="n">compare_maps</span></a><span class="p">(</span><span class="n">fits</span><span class="p">,</span> <span class="n">maps</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;norm_of_laplacian_signal&#39;</span><span class="p">],</span> <span class="n">fit_labels</span><span class="o">=</span><span class="n">fit_labels</span><span class="p">,</span>
             <span class="n">map_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Norm of Laplacian&#39;</span><span class="p">],</span>
             <span class="n">map_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;vmin&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;vmax&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
             <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;MAPMRI_norm_laplacian.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<img alt="auto_examples/reconstruction/MAPMRI_norm_laplacian.png" src="auto_examples/reconstruction/MAPMRI_norm_laplacian.png" />
</figure>
<p>A high Laplacian norm indicates that the gradient in the three-dimensional
signal reconstruction changes a lot  something that may indicate spurious
oscillations. In the Laplacian reconstruction (left) we see that there are some
isolated voxels that have a higher norm than the rest. In the positivity
constrained reconstruction the norm is already smoother. When both methods are
used together the overall norm gets smoother still, since both smoothness of the
signal and positivity of the propagator are imposed.</p>
<p>From now on we will just use the combined approach and the globally constrained
approach, show all maps we can generate, and explain their significance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fits</span> <span class="o">=</span> <span class="n">fits</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
<span class="n">fit_labels</span> <span class="o">=</span> <span class="n">fit_labels</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>

<a href="../../reference/dipy.viz.html#dipy.viz.plotting.compare_maps" title="dipy.viz.plotting.compare_maps" class="sphx-glr-backref-module-dipy-viz-plotting sphx-glr-backref-type-py-function"><span class="n">compare_maps</span></a><span class="p">(</span><span class="n">fits</span><span class="p">,</span> <span class="n">maps</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;msd&#39;</span><span class="p">,</span> <span class="s1">&#39;qiv&#39;</span><span class="p">,</span> <span class="s1">&#39;rtop&#39;</span><span class="p">,</span> <span class="s1">&#39;rtap&#39;</span><span class="p">,</span> <span class="s1">&#39;rtpp&#39;</span><span class="p">],</span>
             <span class="n">fit_labels</span><span class="o">=</span><span class="n">fit_labels</span><span class="p">,</span>
             <span class="n">map_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MSD&#39;</span><span class="p">,</span> <span class="s1">&#39;QIV&#39;</span><span class="p">,</span> <span class="s1">&#39;RTOP&#39;</span><span class="p">,</span> <span class="s1">&#39;RTAP&#39;</span><span class="p">,</span> <span class="s1">&#39;RTPP&#39;</span><span class="p">],</span>
             <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;MAPMRI_maps.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<img alt="auto_examples/reconstruction/MAPMRI_maps.png" src="auto_examples/reconstruction/MAPMRI_maps.png" />
</figure>
<p>From left to right:</p>
<ul class="simple">
<li><p>Mean squared displacement (MSD) is a measure for how far protons are able to
diffuse. a decrease in MSD indicates protons are hindered/restricted more,
as can be seen by the high MSD in the CSF, but low in the white matter.</p></li>
<li><p>Q-space Inverse Variance (QIV) is a measure of variance in the signal, which
is said to have higher contrast to white matter than the MSD
<a class="reference internal" href="#hosseinbor2013" id="id12"><span>[Hosseinbor2013]</span></a>. QIV has also been shown to have high sensitivity to tissue
composition change in a simulation study <a class="reference internal" href="#fick2016b" id="id13"><span>[Fick2016b]</span></a>.</p></li>
<li><p>Return-to-origin probability (RTOP) quantifies the probability that a proton
will be at the same position at the first and second diffusion gradient
pulse. A higher RTOP indicates that the volume a spin is inside of is
smaller, meaning more overall restriction. This is illustrated by the low
values in CSF and high values in white matter.</p></li>
<li><p>Return-to-axis probability (RTAP) is a directional index that quantifies
the probability that a proton will be along the axis of the main eigenvector
of a diffusion tensor during both diffusion gradient pulses. RTAP has been
related to the apparent axon diameter <a class="reference internal" href="#ozarslan2013" id="id14"><span>[Ozarslan2013]</span></a> <a class="reference internal" href="#fick2016a" id="id15"><span>[Fick2016a]</span></a> under
several strong assumptions on the tissue composition and acquisition
protocol.</p></li>
<li><p>Return-to-plane probability (RTPP) is a directional index that quantifies the
probability that a proton will be on the plane perpendicular to the main
eigenvector of a diffusion tensor during both gradient pulses. RTPP is
related to the length of a pore <a class="reference internal" href="#ozarslan2013" id="id16"><span>[Ozarslan2013]</span></a> but in practice should be
similar to that of Gaussian diffusion.</p></li>
</ul>
<p>It is also possible to estimate the amount of non-Gaussian diffusion in every
voxel <a class="reference internal" href="#ozarslan2013" id="id17"><span>[Ozarslan2013]</span></a>. This quantity is estimated through the ratio between
Gaussian volume (MAP-MRIs first basis function) and the non-Gaussian volume
(all other basis functions) of the fitted signal. For this value to be
physically meaningful we must use a b-value threshold in the MAP-MRI model. This
threshold makes the scale estimation in MAP-MRI use only samples that
realistically describe Gaussian diffusion, i.e., at low b-values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_model_both_ng</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                       <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">laplacian_weighting</span><span class="o">=</span><span class="mf">.05</span><span class="p">,</span>
                                       <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">bval_threshold</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>

<span class="n">map_model_plus_ng</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                       <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">global_constraints</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                       <span class="n">bval_threshold</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>

<span class="n">mapfit_both_ng</span> <span class="o">=</span> <span class="n">map_model_both_ng</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>
<span class="n">mapfit_plus_ng</span> <span class="o">=</span> <span class="n">map_model_plus_ng</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>

<span class="n">fits</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapfit_both_ng</span><span class="p">,</span> <span class="n">mapfit_plus_ng</span><span class="p">]</span>
<span class="n">fit_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CMAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;MAP+&#39;</span><span class="p">]</span>

<a href="../../reference/dipy.viz.html#dipy.viz.plotting.compare_maps" title="dipy.viz.plotting.compare_maps" class="sphx-glr-backref-module-dipy-viz-plotting sphx-glr-backref-type-py-function"><span class="n">compare_maps</span></a><span class="p">(</span><span class="n">fits</span><span class="p">,</span> <span class="n">maps</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ng&#39;</span><span class="p">,</span> <span class="s1">&#39;ng_perpendicular&#39;</span><span class="p">,</span> <span class="s1">&#39;ng_parallel&#39;</span><span class="p">],</span>
             <span class="n">fit_labels</span><span class="o">=</span><span class="n">fit_labels</span><span class="p">,</span>
             <span class="n">map_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NG&#39;</span><span class="p">,</span> <span class="s1">&#39;NG perpendicular&#39;</span><span class="p">,</span> <span class="s1">&#39;NG parallel&#39;</span><span class="p">],</span>
             <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;MAPMRI_ng.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<img alt="auto_examples/reconstruction/MAPMRI_ng.png" src="auto_examples/reconstruction/MAPMRI_ng.png" />
</figure>
<p>On the left we see the overall NG and on the right the directional perpendicular
NG and parallel NG. The NG ranges from 1 (completely non-Gaussian) to 0
(completely Gaussian). The overall NG of a voxel is always higher or equal than
each of its components. It can be seen that NG has low values in the CSF and
higher in the white matter.</p>
<p>Increases or decreases in these values do not point to a specific
microstructural change, but can indicate clues as to what is happening, similar
to fractional anisotropy. An initial simulation study that quantifies the added
value of q-space indices over DTI indices is given in <a class="reference internal" href="#fick2016b" id="id18"><span>[Fick2016b]</span></a>.</p>
<p>The MAP-MRI framework also allows for the estimation of orientation distribution
functions (ODFs). We recommend to use the isotropic implementation for this
purpose, as the anisotropic implementation has a bias towards smaller crossing
angles.</p>
<p>For the isotropic basis we recommend to use a <code class="docutils literal notranslate"><span class="pre">radial_order</span></code> of 8, as the
basis needs more generic and needs more basis functions to approximate the
signal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">radial_order</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">map_model_both_iso</span> <span class="o">=</span> <a href="../../reference/dipy.reconst.html#dipy.reconst.mapmri.MapmriModel" title="dipy.reconst.mapmri.MapmriModel" class="sphx-glr-backref-module-dipy-reconst-mapmri sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">mapmri</span><span class="o">.</span><span class="n">MapmriModel</span></a><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="n">radial_order</span><span class="o">=</span><span class="n">radial_order</span><span class="p">,</span>
                                        <span class="n">laplacian_regularization</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                        <span class="n">laplacian_weighting</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span>
                                        <span class="n">positivity_constraint</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                        <span class="n">anisotropic_scaling</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">mapfit_both_iso</span> <span class="o">=</span> <span class="n">map_model_both_iso</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_small</span><span class="p">)</span>
</pre></div>
</div>
<p>Load an ODF reconstruction sphere.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphere</span> <span class="o">=</span> <a href="../../reference/dipy.data.html#dipy.data.get_sphere" title="dipy.data.get_sphere" class="sphx-glr-backref-module-dipy-data sphx-glr-backref-type-py-function"><span class="n">get_sphere</span></a><span class="p">(</span><span class="s1">&#39;repulsion724&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Compute the ODFs.</p>
<p>The radial order <code class="docutils literal notranslate"><span class="pre">s</span></code> can be increased to sharpen the results, but it might
also make the ODFs noisier. Always check the results visually.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">odf</span> <span class="o">=</span> <span class="n">mapfit_both_iso</span><span class="o">.</span><span class="n">odf</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;odf.shape (</span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">, </span><span class="si">%d</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">odf</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>Display the ODFs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enables/disables interactive visualization</span>
<span class="n">interactive</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">scene</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
<span class="n">sfu</span> <span class="o">=</span> <span class="n">actor</span><span class="o">.</span><span class="n">odf_slicer</span><span class="p">(</span><span class="n">odf</span><span class="p">,</span> <span class="n">sphere</span><span class="o">=</span><span class="n">sphere</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;plasma&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">sfu</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sfu</span><span class="o">.</span><span class="n">RotateX</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sfu</span><span class="p">)</span>
<span class="n">window</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">scene</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;odfs.png&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">))</span>
<span class="k">if</span> <span class="n">interactive</span><span class="p">:</span>
    <span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">scene</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id20">
<img alt="auto_examples/reconstruction/odfs.png" src="auto_examples/reconstruction/odfs.png" />
<figcaption>
<p><span class="caption-text">Orientation distribution functions (ODFs).</span><a class="headerlink" href="#id20" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">#</a></h2>
<div role="list" class="citation-list">
<div class="citation" id="ozarslan2013" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Ozarslan2013<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>,<a role="doc-backlink" href="#id9">3</a>,<a role="doc-backlink" href="#id11">4</a>,<a role="doc-backlink" href="#id14">5</a>,<a role="doc-backlink" href="#id16">6</a>,<a role="doc-backlink" href="#id17">7</a>)</span>
<p>Ozarslan E. et al., Mean apparent propagator (MAP) MRI: A
novel diffusion imaging method for mapping tissue microstructure,
NeuroImage, 2013.</p>
</div>
<div class="citation" id="fick2016a" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Fick2016a<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id4">1</a>,<a role="doc-backlink" href="#id5">2</a>,<a role="doc-backlink" href="#id6">3</a>,<a role="doc-backlink" href="#id8">4</a>,<a role="doc-backlink" href="#id10">5</a>,<a role="doc-backlink" href="#id15">6</a>)</span>
<p>Fick, Rutger HJ, et al. MAPL: Tissue microstructure estimation
using Laplacian-regularized MAP-MRI and its application to HCP data.
NeuroImage (2016).</p>
</div>
<div class="citation" id="craven1978" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">Craven1978</a><span class="fn-bracket">]</span></span>
<p>Craven et al. Smoothing Noisy Data with Spline Functions.
NUMER MATH 31.4 (1978): 377-403.</p>
</div>
<div class="citation" id="hosseinbor2013" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">Hosseinbor2013</a><span class="fn-bracket">]</span></span>
<p>Hosseinbor et al. Bessel fourier orientation
reconstruction (bfor): an analytical diffusion propagator reconstruction
for hybrid diffusion imaging and computation of q-space indices. NeuroImage
64, 650-670.</p>
</div>
<div class="citation" id="fick2016b" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Fick2016b<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id13">1</a>,<a role="doc-backlink" href="#id18">2</a>)</span>
<p>Fick et al. A sensitivity analysis of Q-space indices with
respect to changes in axonal diameter, dispersion and tissue composition.
ISBI 2016.</p>
</div>
<div class="citation" id="delahaije2020" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">DelaHaije2020</a><span class="fn-bracket">]</span></span>
<p>Dela Haije et al. Enforcing necessary non-negativity
constraints for common diffusion MRI models using sum of squares
programming. NeuroImage 209, 2020, 116405.</p>
</div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.000 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-reconstruction-reconst-mapmri-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/3e0c8f0d460579c6ae95dac4103eff0e/reconst_mapmri.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">reconst_mapmri.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/7dfc2b1443b0b678cd2b1a418e1fcfbd/reconst_mapmri.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">reconst_mapmri.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  
<script type="module" src="../../_static/scripts/grg-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><div>
  <h3 class="footer-heading">
    Never miss an update from us!
  </h3>
  <p class="footer-sub-heading">
    Don't worry! we are not going to spam you.
  </p>
  <div class="input-group mb-3 mar-t-10">
    <input type="text" class="form-control" placeholder="You email" aria-label="You email">
    <div class="input-group-append">
      <span class="input-group-text subscribe">Subscribe</span>
    </div>
  </div>  
  <ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-twitter"></i></span>
            <label class="sr-only">Twitter/X</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-youtube"></i></span>
            <label class="sr-only">YouTube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
</ul>
</div></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><div class="grid-3">
  
  <div>
    <h5 class="footer-heading">
      About
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="../../team.html">
            Developers
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//github.com/dipy/dipy/discussions.html">
            Support
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../installation.html">
            Download
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//dipy.org/contributors/.html">
            Get Started
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//docs.dipy.org/tutorials/.html">
            Tutorials
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//www.youtube.com/c/diffusionimaginginpython.html">
            Videos
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Friends
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="../../http%3A//nipy.org/.html">
            Nipy Projects
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../http%3A//fury.gl/.html">
            FURY
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../http%3A//nipy.org/nibabel.html">
            Nibabel
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//tortoise.nibib.nih.gov/.html">
            Tortoise
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Support
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//engineering.indiana.edu/.html">
            The department of Intelligent Systems Engineering of Indiana University
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//www.nibib.nih.gov/.html">
            The National Institute of Biomedical Imaging and Bioengineering, NIH
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//escience.washington.edu/tag/alfred-p-sloan-foundation/.html">
            The Gordon and Betty Moore Foundation and the Alfred P. Sloan Foundation, through the University of Washington eScience Institute Data Science Environment
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../../https%3A//summerofcode.withgoogle.com/.html">
            Google supported DIPY through the Google Summer of Code Program during Summer 2015, 2016, 2018
          </a>
        </li>
        
      
    </ul>
  </div>
  
</div></div>
      
    </div>
  
</div>

    <div class="copyright-text">
      <i class="fa-regular fa-copyright"></i> Copyright 2008-2023, DIPY developers. Created using Grg Sphinx Theme and PyData Sphinx Theme.
    </div>
  </footer>
  </body>
</html>