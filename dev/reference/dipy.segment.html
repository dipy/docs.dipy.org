
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>segment &#8212; dipy 1.11.0 documentation</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/css/dipy.css?v=cedb193d" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

  
<link rel="stylesheet" href="../_static/styles/grg-sphinx-theme.css"/>

    <script src="../_static/documentation_options.js?v=6cf1fb80"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-D610GKJZRC"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-D610GKJZRC');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-D610GKJZRC');
            </script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/dipy.segment';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.dipy.org/dev/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.11.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="icon" href="../_static/dipy-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sims" href="dipy.sims.html" />
    <link rel="prev" title="reconst" href="dipy.reconst.html" />
  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
<nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
     
  

<a class="navbar-brand logo" href="https://dipy.org">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/dipy-logo.png" class="logo__image only-light" alt="DIPY"/>
    <script>document.write(`<img src="../_static/dipy-logo.png" class="logo__image only-dark" alt="DIPY"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../index.html">
          Overview
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../examples_built/index.html">
          Tutorials
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../recipes.html">
          Recipes
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../interfaces/index.html">
          CLI / Workflows
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="index.html">
          API
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../reference_cmd/index.html">
          CLI API
        </a>
      </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/calendar">
            Calendar
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/blog">
            Blog
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://app.gitter.im/#/room/%23dipy_dipy:gitter.im" target="_blank">
            Live Chat (Gitter) <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/team">
            Team
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../user_guide/mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../stateoftheart.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

</nav>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../index.html">
          Overview
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../examples_built/index.html">
          Tutorials
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../recipes.html">
          Recipes
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../interfaces/index.html">
          CLI / Workflows
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="index.html">
          API
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../reference_cmd/index.html">
          CLI API
        </a>
      </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/calendar">
            Calendar
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/blog">
            Blog
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://app.gitter.im/#/room/%23dipy_dipy:gitter.im" target="_blank">
            Live Chat (Gitter) <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/team">
            Team
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../user_guide/mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../stateoftheart.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="dipy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dipy</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.align.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">align</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.core.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.denoise.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">denoise</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.direction.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">direction</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.io.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.nn.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nn</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.reconst.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.sims.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.stats.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.tracking.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.version.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">version</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.viz.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viz</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.workflows.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">workflows</span></code></a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><code...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-dipy.segment">
<span id="segment"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code><a class="headerlink" href="#module-dipy.segment" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
</div>
<section id="module-dipy.segment.bundles">
<span id="module-segment-bundles"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.bundles</span></code><a class="headerlink" href="#module-dipy.segment.bundles" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.RecoBundles" title="dipy.segment.bundles.RecoBundles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RecoBundles</span></code></a>(streamlines, *[, greater_than, ...])</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.check_range" title="dipy.segment.bundles.check_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_range</span></code></a>(streamline, gt, lt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.bundle_adjacency" title="dipy.segment.bundles.bundle_adjacency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bundle_adjacency</span></code></a>(dtracks0, dtracks1, threshold)</p></td>
<td><p>Find bundle adjacency between two given tracks/bundles</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.ba_analysis" title="dipy.segment.bundles.ba_analysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ba_analysis</span></code></a>(recognized_bundle, expert_bundle, *)</p></td>
<td><p>Calculates bundle adjacency score between two given bundles</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.cluster_bundle" title="dipy.segment.bundles.cluster_bundle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster_bundle</span></code></a>(bundle, clust_thr, rng, *[, ...])</p></td>
<td><p>Clusters bundles</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.bundle_shape_similarity" title="dipy.segment.bundles.bundle_shape_similarity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bundle_shape_similarity</span></code></a>(bundle1, bundle2, rng, *)</p></td>
<td><p>Calculates bundle shape similarity between two given bundles using bundle adjacency (BA) metric</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.clustering">
<span id="module-segment-clustering"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.clustering</span></code><a class="headerlink" href="#module-dipy.segment.clustering" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.Identity" title="dipy.segment.clustering.Identity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Identity</span></code></a>()</p></td>
<td><p>Provides identity indexing functionality.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cluster</span></code></a>(*[, id, indices, refdata])</p></td>
<td><p>Provides functionalities for interacting with a cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a>(centroid, *[, id, indices, ...])</p></td>
<td><p>Provides functionalities for interacting with a cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterMap</span></code></a>(*[, refdata])</p></td>
<td><p>Provides functionalities for interacting with clustering outputs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMapCentroid" title="dipy.segment.clustering.ClusterMapCentroid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a>(*[, refdata])</p></td>
<td><p>Provides functionalities for interacting with clustering outputs that have centroids.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Clustering</span></code></a>()</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundles" title="dipy.segment.clustering.QuickBundles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuickBundles</span></code></a>(threshold, *[, metric, ...])</p></td>
<td><p>Clusters streamlines using QuickBundles.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundlesX" title="dipy.segment.clustering.QuickBundlesX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a>(thresholds, *[, metric])</p></td>
<td><p>Clusters streamlines using QuickBundlesX.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.TreeCluster" title="dipy.segment.clustering.TreeCluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeCluster</span></code></a>(threshold, centroid, *[, indices])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.TreeClusterMap" title="dipy.segment.clustering.TreeClusterMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a>(root)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.qbx_and_merge" title="dipy.segment.clustering.qbx_and_merge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qbx_and_merge</span></code></a>(streamlines, thresholds, *[, ...])</p></td>
<td><p>Run QuickBundlesX and then run again on the centroids of the last layer.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.fss">
<span id="module-segment-fss"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.fss</span></code><a class="headerlink" href="#module-dipy.segment.fss" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.fss.FastStreamlineSearch" title="dipy.segment.fss.FastStreamlineSearch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a>(ref_streamlines, ...[, ...])</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.fss.nearest_from_matrix_row" title="dipy.segment.fss.nearest_from_matrix_row"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nearest_from_matrix_row</span></code></a>(coo_array)</p></td>
<td><p>Return the nearest (smallest) for each row given an coup sparse matrix</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.fss.nearest_from_matrix_col" title="dipy.segment.fss.nearest_from_matrix_col"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nearest_from_matrix_col</span></code></a>(coo_array)</p></td>
<td><p>Return the nearest (smallest) for each column given an coup sparse matrix</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.mask">
<span id="module-segment-mask"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.mask</span></code><a class="headerlink" href="#module-dipy.segment.mask" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.multi_median" title="dipy.segment.mask.multi_median"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multi_median</span></code></a>(data, median_radius, numpass)</p></td>
<td><p>Applies median filter multiple times on input data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.applymask" title="dipy.segment.mask.applymask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">applymask</span></code></a>(vol, mask)</p></td>
<td><p>Mask vol with mask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.bounding_box" title="dipy.segment.mask.bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounding_box</span></code></a>(vol)</p></td>
<td><p>Compute the bounding box of nonzero intensity voxels in the volume.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.crop" title="dipy.segment.mask.crop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crop</span></code></a>(vol, mins, maxs)</p></td>
<td><p>Crops the input volume.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.median_otsu" title="dipy.segment.mask.median_otsu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">median_otsu</span></code></a>(input_volume, *[, vol_idx, ...])</p></td>
<td><p>Simple brain extraction tool method for images from DWI data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.segment_from_cfa" title="dipy.segment.mask.segment_from_cfa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_from_cfa</span></code></a>(tensor_fit, roi, threshold, *)</p></td>
<td><p>Segment the cfa inside roi using the values from threshold as bounds.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.clean_cc_mask" title="dipy.segment.mask.clean_cc_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean_cc_mask</span></code></a>(mask)</p></td>
<td><p>Cleans a segmentation of the corpus callosum so no random pixels are included.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.metric">
<span id="module-segment-metric"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.metric</span></code><a class="headerlink" href="#module-dipy.segment.metric" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.metric.mdf" title="dipy.segment.metric.mdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mdf</span></code></a>(s1, s2)</p></td>
<td><p>Computes the MDF (Minimum average Direct-Flip) distance between two streamlines.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.metric.mean_manhattan_distance" title="dipy.segment.metric.mean_manhattan_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_manhattan_distance</span></code></a>(a, b)</p></td>
<td><p>Compute the average Manhattan-L1 distance (MDF without flip)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.metric.mean_euclidean_distance" title="dipy.segment.metric.mean_euclidean_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_euclidean_distance</span></code></a>(a, b)</p></td>
<td><p>Compute the average Euclidean-L2 distance (MDF without flip)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.threshold">
<span id="module-segment-threshold"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.threshold</span></code><a class="headerlink" href="#module-dipy.segment.threshold" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.threshold.otsu" title="dipy.segment.threshold.otsu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">otsu</span></code></a>(image, *[, nbins])</p></td>
<td><p>Return threshold value based on Otsu's method.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.threshold.upper_bound_by_rate" title="dipy.segment.threshold.upper_bound_by_rate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_bound_by_rate</span></code></a>(data, *[, rate])</p></td>
<td><p>Adjusts upper intensity boundary using rates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.threshold.upper_bound_by_percent" title="dipy.segment.threshold.upper_bound_by_percent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_bound_by_percent</span></code></a>(data, *[, percent])</p></td>
<td><p>Find the upper bound for visualization of medical images</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.tissue">
<span id="module-segment-tissue"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.tissue</span></code><a class="headerlink" href="#module-dipy.segment.tissue" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.tissue.TissueClassifierHMRF" title="dipy.segment.tissue.TissueClassifierHMRF"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a>(*[, save_history, verbose])</p></td>
<td><p>This class contains the methods for tissue classification using the Markov Random Fields modeling approach.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.tissue.compute_directional_average" title="dipy.segment.tissue.compute_directional_average"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_directional_average</span></code></a>(data, bvals, *)</p></td>
<td><p>Compute the mean signal for each unique b-value shell and fit a linear model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.tissue.dam_classifier" title="dipy.segment.tissue.dam_classifier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dam_classifier</span></code></a>(data, bvals, wm_threshold, *)</p></td>
<td><p>Computes the P-map (fitting slope) on data to extract white and grey matter.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.segment.utils">
<span id="module-segment-utils"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.utils</span></code><a class="headerlink" href="#module-dipy.segment.utils" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.utils.remove_holes_and_islands" title="dipy.segment.utils.remove_holes_and_islands"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_holes_and_islands</span></code></a>(binary_img, *[, ...])</p></td>
<td><p>Remove any small mask chunks or holes that could be in the segmentation output.</p></td>
</tr>
</tbody>
</table>
</div>
<section id="recobundles">
<h3><a class="reference internal" href="#dipy.segment.bundles.RecoBundles" title="dipy.segment.bundles.RecoBundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><a class="headerlink" href="#recobundles" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">RecoBundles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">less_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#RecoBundles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.RecoBundles" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.RecoBundles.evaluate_results" title="dipy.segment.bundles.RecoBundles.evaluate_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate_results</span></code></a>(model_bundle, ...)</p></td>
<td><p>Compare the similarity between two given bundles, model bundle, and extracted bundle.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.RecoBundles.recognize" title="dipy.segment.bundles.RecoBundles.recognize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recognize</span></code></a>(model_bundle, model_clust_thr, *)</p></td>
<td><p>Recognize the model_bundle in self.streamlines</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.RecoBundles.refine" title="dipy.segment.bundles.RecoBundles.refine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">refine</span></code></a>(model_bundle, pruned_streamlines, ...)</p></td>
<td><p>Refine and recognize the model_bundle in self.streamlines This method expects once pruned streamlines as input.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.evaluate_results">
<span class="sig-name descname"><span class="pre">evaluate_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruned_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#RecoBundles.evaluate_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.evaluate_results" title="Link to this definition">#</a></dt>
<dd><p>Compare the similarity between two given bundles, model bundle,
and extracted bundle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model_bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>Model bundle streamlines.</p>
</dd>
<dt><strong>pruned_streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Pruned bundle streamlines.</p>
</dd>
<dt><strong>slr_select</strong><span class="classifier">tuple</span></dt><dd><p>Select the number of streamlines from model to neighborhood of
model to perform the local SLR.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ba_value</strong><span class="classifier">float</span></dt><dd><p>bundle adjacency value between model bundle and pruned bundle</p>
</dd>
<dt><strong>bmd_value</strong><span class="classifier">float</span></dt><dd><p>bundle minimum distance value between model bundle and
pruned bundle</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.recognize">
<span class="sig-name descname"><span class="pre">recognize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_clust_thr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(400,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L-BFGS-B'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#RecoBundles.recognize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.recognize" title="Link to this definition">#</a></dt>
<dd><p>Recognize the model_bundle in self.streamlines</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2018" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model_bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>model bundle streamlines used as a reference to extract similar
streamlines from input tractogram</p>
</dd>
<dt><strong>model_clust_thr</strong><span class="classifier">float</span></dt><dd><p>MDF distance threshold for the model bundles</p>
</dd>
<dt><strong>reduction_thr</strong><span class="classifier">float, optional</span></dt><dd><p>Reduce search space in the target tractogram by (mm) (default 10)</p>
</dd>
<dt><strong>reduction_distance</strong><span class="classifier">string, optional</span></dt><dd><p>Reduction distance type can be mdf or mam (default mdf)</p>
</dd>
<dt><strong>slr</strong><span class="classifier">bool, optional</span></dt><dd><p>Use Streamline-based Linear Registration (SLR) locally
(default True)</p>
</dd>
<dt><strong>num_threads</strong><span class="classifier">int, optional</span></dt><dd><p>Number of threads to be used for OpenMP parallelization. If None
(default) the value of OMP_NUM_THREADS environment variable is used
if it is set, otherwise all available threads are used. If &lt; 0 the
maximal number of threads minus <span class="math notranslate nohighlight">\(|num_threads + 1|\)</span> is used (enter
-1 to use as many threads as possible). 0 raises an error.</p>
</dd>
<dt><strong>slr_metric</strong><span class="classifier">BundleMinDistanceMetric</span></dt><dd></dd>
<dt><strong>slr_x0</strong><span class="classifier">array or int or str, optional</span></dt><dd><p>Transformation allowed. translation, rigid, similarity or scaling
Initial parametrization for the optimization.</p>
<dl>
<dt>If 1D array with:</dt><dd><p>a) 6 elements then only rigid registration is performed with
the 3 first elements for translation and 3 for rotation.
b) 7 elements also isotropic scaling is performed (similarity).
c) 12 elements then translation, rotation (in degrees),
scaling and shearing are performed (affine).</p>
<p>Here is an example of x0 with 12 elements:
<code class="docutils literal notranslate"><span class="pre">x0=np.array([0,</span> <span class="pre">10,</span> <span class="pre">0,</span> <span class="pre">40,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">2.,</span> <span class="pre">1.5,</span> <span class="pre">1,</span> <span class="pre">0.1,</span> <span class="pre">-0.5,</span> <span class="pre">0])</span></code></p>
<p>This has translation (0, 10, 0), rotation (40, 0, 0) in
degrees, scaling (2., 1.5, 1) and shearing (0.1, -0.5, 0).</p>
</dd>
<dt>If int:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>6</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>7</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>12</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
<dt>If str:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>“rigid”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“similarity”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“affine”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</dd>
<dt><strong>slr_bounds</strong><span class="classifier">array, optional</span></dt><dd><p>SLR bounds.</p>
</dd>
<dt><strong>slr_select</strong><span class="classifier">tuple, optional</span></dt><dd><p>Select the number of streamlines from model to neighborhood of
model to perform the local SLR.</p>
</dd>
<dt><strong>slr_method</strong><span class="classifier">string, optional</span></dt><dd><p>Optimization method ‘L_BFGS_B’ or ‘Powell’ optimizers can be used.
(default ‘L-BFGS-B’)</p>
</dd>
<dt><strong>pruning_thr</strong><span class="classifier">float, optional</span></dt><dd><p>Pruning after reducing the search space.</p>
</dd>
<dt><strong>pruning_distance</strong><span class="classifier">string, optional</span></dt><dd><p>Pruning distance type can be mdf or mam.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>recognized_transf</strong><span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle in the space of the model tractogram</p>
</dd>
<dt><strong>recognized_labels</strong><span class="classifier">array</span></dt><dd><p>Indices of recognized bundle in the original tractogram</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id2">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-garyfallidis2018" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id3">2</a>)</span>
<p>Eleftherios Garyfallidis, Marc-Alexandre Côté, François Rheault, Jasmeen Sidhu, Janice Hau, Laurent Petit, David Fortin, Stephen Cunanne, and Maxime Descoteaux. Recognition of white matter bundles using local and global streamline-based registration and clustering. <em>NeuroImage</em>, 170:283–295, April 2018. Segmenting the Brain. URL: <a class="reference external" href="https://doi.org/10.1016/j.neuroimage.2017.07.015">https://doi.org/10.1016/j.neuroimage.2017.07.015</a>, <a class="reference external" href="https://doi.org/10.1016/j.neuroimage.2017.07.015">doi:10.1016/j.neuroimage.2017.07.015</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.refine">
<span class="sig-name descname"><span class="pre">refine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruned_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_clust_thr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(400,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L-BFGS-B'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#RecoBundles.refine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.refine" title="Link to this definition">#</a></dt>
<dd><p>Refine and recognize the model_bundle in self.streamlines
This method expects once pruned streamlines as input. It refines the
first output of RecoBundles by applying second local slr (optional),
and second pruning. This method is useful when we are dealing with
noisy data or when we want to extract small tracks from tractograms.
This time, search space is created using pruned bundle and not model
bundle.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2018" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, <a class="footnote-reference brackets" href="#footcite-chandio2020a" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> for
further details about the method.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>model_bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>model bundle streamlines used as a reference to extract similar
streamlines from input tractogram</p>
</dd>
<dt><strong>pruned_streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle from target tractogram by RecoBundles.</p>
</dd>
<dt><strong>model_clust_thr</strong><span class="classifier">float</span></dt><dd><p>MDF distance threshold for the model bundles</p>
</dd>
<dt><strong>reduction_thr</strong><span class="classifier">float</span></dt><dd><p>Reduce search space by (mm) (default 14)</p>
</dd>
<dt><strong>reduction_distance</strong><span class="classifier">string</span></dt><dd><p>Reduction distance type can be mdf or mam (default mdf)</p>
</dd>
<dt><strong>slr</strong><span class="classifier">bool</span></dt><dd><p>Use Streamline-based Linear Registration (SLR) locally.</p>
</dd>
<dt><strong>slr_metric</strong><span class="classifier">BundleMinDistanceMetric</span></dt><dd><p>Bundle distance metric.</p>
</dd>
<dt><strong>slr_x0</strong><span class="classifier">array or int or str</span></dt><dd><p>Transformation allowed. translation, rigid, similarity or scaling
Initial parametrization for the optimization.</p>
<dl>
<dt>If 1D array with:</dt><dd><ol class="loweralpha simple">
<li><p>6 elements then only rigid registration is performed with
the 3 first elements for translation and 3 for rotation.</p></li>
<li><p>7 elements also isotropic scaling is performed (similarity).</p></li>
<li><p>12 elements then translation, rotation (in degrees),
scaling and shearing are performed (affine).</p></li>
</ol>
<p>Here is an example of x0 with 12 elements:
<code class="docutils literal notranslate"><span class="pre">x0=np.array([0,</span> <span class="pre">10,</span> <span class="pre">0,</span> <span class="pre">40,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">2.,</span> <span class="pre">1.5,</span> <span class="pre">1,</span> <span class="pre">0.1,</span> <span class="pre">-0.5,</span> <span class="pre">0])</span></code></p>
<p>This has translation (0, 10, 0), rotation (40, 0, 0) in
degrees, scaling (2., 1.5, 1) and shearing (0.1, -0.5, 0).</p>
</dd>
<dt>If int:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>6</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>7</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>12</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
<dt>If str:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>“rigid”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“similarity”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“affine”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
</dd>
<dt><strong>slr_bounds</strong><span class="classifier">array</span></dt><dd><p>SLR bounds.</p>
</dd>
<dt><strong>slr_select</strong><span class="classifier">tuple</span></dt><dd><p>Select the number of streamlines from model to neighborhood of
model to perform the local SLR.</p>
</dd>
<dt><strong>slr_method</strong><span class="classifier">string</span></dt><dd><p>Optimization method ‘L_BFGS_B’ or ‘Powell’ optimizers can be used.</p>
</dd>
<dt><strong>pruning_thr</strong><span class="classifier">float</span></dt><dd><p>Pruning after reducing the search space.</p>
</dd>
<dt><strong>pruning_distance</strong><span class="classifier">string</span></dt><dd><p>Pruning distance type can be mdf or mam.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>recognized_transf</strong><span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle in the space of the model tractogram</p>
</dd>
<dt><strong>recognized_labels</strong><span class="classifier">array</span></dt><dd><p>Indices of recognized bundle in the original tractogram</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id5">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-chandio2020a" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id4">1</a>,<a role="doc-backlink" href="#id11">2</a>)</span>
<p>Bramsh Qamar Chandio, Shannon Leigh Risacher, Franco Pestilli, Daniel Bullock, Fang-Cheng Yeh, Serge Koudoro, Ariel Rokem, Jaroslaw Harezlak, and Eleftherios Garyfallidis. Bundle analytics, a computational framework for investigating the shapes and profiles of brain pathways across populations. <em>Scientific Reports</em>, 10:17149, October 2020. URL: <a class="reference external" href="https://doi.org/10.1038/s41598-020-74054-4">https://doi.org/10.1038/s41598-020-74054-4</a>, <a class="reference external" href="https://doi.org/10.1038/s41598-020-74054-4">doi:10.1038/s41598-020-74054-4</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="check-range">
<h3>check_range<a class="headerlink" href="#check-range" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.check_range">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">check_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#check_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.check_range" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="bundle-adjacency">
<h3>bundle_adjacency<a class="headerlink" href="#bundle-adjacency" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.bundle_adjacency">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">bundle_adjacency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtracks0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtracks1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#bundle_adjacency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.bundle_adjacency" title="Link to this definition">#</a></dt>
<dd><p>Find bundle adjacency between two given tracks/bundles</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dtracks0</strong><span class="classifier">Streamlines</span></dt><dd><p>White matter tract from one subject</p>
</dd>
<dt><strong>dtracks1</strong><span class="classifier">Streamlines</span></dt><dd><p>White matter tract from another subject</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float</span></dt><dd><p>Threshold controls
how much strictness user wants while calculating bundle adjacency
between two bundles. Smaller threshold means bundles should be strictly
adjacent to get higher BA score.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>res</strong><span class="classifier">Float</span></dt><dd><p>Bundle adjacency score between two tracts</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id7">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-garyfallidis2012a" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id6">1</a>,<a role="doc-backlink" href="#id8">2</a>,<a role="doc-backlink" href="#id9">3</a>,<a role="doc-backlink" href="#id10">4</a>,<a role="doc-backlink" href="#id12">5</a>,<a role="doc-backlink" href="#id13">6</a>,<a role="doc-backlink" href="#id15">7</a>,<a role="doc-backlink" href="#id17">8</a>,<a role="doc-backlink" href="#id21">9</a>)</span>
<p>Eleftherios Garyfallidis, Matthew Brett, Marta M. Correia, Guy B. Williams, and Ian Nimmo-Smith. QuickBundles, a Method for Tractography Simplification. <em>Frontiers in Neuroscience</em>, 6():175, December 2012. URL: <a class="reference external" href="https://doi.org/10.3389/fnins.2012.00175">https://doi.org/10.3389/fnins.2012.00175</a>, <a class="reference external" href="https://doi.org/10.3389/fnins.2012.00175">doi:10.3389/fnins.2012.00175</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</section>
<section id="ba-analysis">
<h3>ba_analysis<a class="headerlink" href="#ba-analysis" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.ba_analysis">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">ba_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recognized_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expert_bundle</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#ba_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.ba_analysis" title="Link to this definition">#</a></dt>
<dd><p>Calculates bundle adjacency score between two given bundles</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>recognized_bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>Extracted bundle from the whole brain tractogram (eg: AF_L)</p>
</dd>
<dt><strong>expert_bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>Model bundle used as reference while extracting similar type bundle
from input tractogram</p>
</dd>
<dt><strong>nb_pts</strong><span class="classifier">integer, optional</span></dt><dd><p>Discretizing streamlines to have nb_pts number of points</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Threshold used for in computing bundle adjacency. Threshold controls
how much strictness user wants while calculating bundle adjacency
between two bundles. Smaller threshold means bundles should be strictly
adjacent to get higher BA score.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Bundle adjacency score between two tracts</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="cluster-bundle">
<h3>cluster_bundle<a class="headerlink" href="#cluster-bundle" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.cluster_bundle">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">cluster_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_randomly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#cluster_bundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.cluster_bundle" title="Link to this definition">#</a></dt>
<dd><p>Clusters bundles</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>bundle</strong><span class="classifier">Streamlines</span></dt><dd><p>White matter tract</p>
</dd>
<dt><strong>clust_thr</strong><span class="classifier">float</span></dt><dd><p>clustering threshold used in quickbundlesX</p>
</dd>
<dt><strong>rng</strong><span class="classifier">np.random.Generator</span></dt><dd><p>numpy’s random generator for generating random values.</p>
</dd>
<dt><strong>nb_pts: integer, optional</strong></dt><dd><p>Discretizing streamlines to have nb_points number of points</p>
</dd>
<dt><strong>select_randomly: integer, optional</strong></dt><dd><p>Randomly select streamlines from the input bundle</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>centroids</strong><span class="classifier">Streamlines</span></dt><dd><p>clustered centroids of the input bundle</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="bundle-shape-similarity">
<h3>bundle_shape_similarity<a class="headerlink" href="#bundle-shape-similarity" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.bundle_shape_similarity">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">bundle_shape_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(5,</span> <span class="pre">3,</span> <span class="pre">1.5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/bundles.html#bundle_shape_similarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.bundles.bundle_shape_similarity" title="Link to this definition">#</a></dt>
<dd><p>Calculates bundle shape similarity between two given bundles using
bundle adjacency (BA) metric</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>, <a class="footnote-reference brackets" href="#footcite-chandio2020a" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> for further
details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>bundle1</strong><span class="classifier">Streamlines</span></dt><dd><p>White matter tract from one subject (eg: AF_L)</p>
</dd>
<dt><strong>bundle2</strong><span class="classifier">Streamlines</span></dt><dd><p>White matter tract from another subject (eg: AF_L)</p>
</dd>
<dt><strong>rng</strong><span class="classifier">np.random.Generator</span></dt><dd><p>Random number generator.</p>
</dd>
<dt><strong>clust_thr</strong><span class="classifier">array-like, optional</span></dt><dd><p>list of clustering thresholds used in quickbundlesX</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">float, optional</span></dt><dd><p>Threshold used for in computing bundle adjacency. Threshold controls
how much strictness user wants while calculating shape similarity
between two bundles. Smaller threshold means bundles should be strictly
similar to get higher shape similarity score.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ba_value</strong><span class="classifier">float</span></dt><dd><p>Bundle similarity score between two tracts</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="identity">
<h3><a class="reference internal" href="#dipy.segment.clustering.Identity" title="dipy.segment.clustering.Identity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Identity</span></code></a><a class="headerlink" href="#identity" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Identity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Identity</span></span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#Identity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.Identity" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides identity indexing functionality.</p>
<p>This can replace any class supporting indexing used for referencing
(e.g. list, tuple). Indexing an instance of this class will return the
index provided instead of the element. It does not support slicing.</p>
</dd></dl>

</section>
<section id="cluster">
<h3><a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a><a class="headerlink" href="#cluster" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Cluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#Cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.Cluster" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides functionalities for interacting with a cluster.</p>
<p>Useful container to retrieve index of elements grouped together. If
a reference to the data is provided to <cite>cluster_map</cite>, elements will
be returned instead of their index when possible.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cluster_map</strong><span class="classifier"><cite>ClusterMap</cite> object</span></dt><dd><p>Reference to the set of clusters this cluster is being part of.</p>
</dd>
<dt><strong>id</strong><span class="classifier">int, optional</span></dt><dd><p>Id of this cluster in its associated <cite>cluster_map</cite> object.</p>
</dd>
<dt><strong>refdata</strong><span class="classifier">list, optional</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.Cluster.assign" title="dipy.segment.clustering.Cluster.assign"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assign</span></code></a>(*indices)</p></td>
<td><p>Assigns indices to this cluster.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Notes</p>
<p>A cluster does not contain actual data but instead knows how to
retrieve them using its <cite>ClusterMap</cite> object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Cluster.assign">
<span class="sig-name descname"><span class="pre">assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#Cluster.assign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.Cluster.assign" title="Link to this definition">#</a></dt>
<dd><p>Assigns indices to this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*indices</strong><span class="classifier">list of indices</span></dt><dd><p>Indices to add to this cluster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="clustercentroid">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><a class="headerlink" href="#clustercentroid" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterCentroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterCentroid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a></p>
<p>Provides functionalities for interacting with a cluster.</p>
<p>Useful container to retrieve the indices of elements grouped together and
the cluster’s centroid. If a reference to the data is provided to
<cite>cluster_map</cite>, elements will be returned instead of their index when
possible.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>cluster_map</strong><span class="classifier"><cite>ClusterMapCentroid</cite> object</span></dt><dd><p>Reference to the set of clusters this cluster is being part of.</p>
</dd>
<dt><strong>id</strong><span class="classifier">int, optional</span></dt><dd><p>Id of this cluster in its associated <cite>cluster_map</cite> object.</p>
</dd>
<dt><strong>refdata</strong><span class="classifier">list, optional</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid.assign" title="dipy.segment.clustering.ClusterCentroid.assign"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assign</span></code></a>(id_datum, features)</p></td>
<td><p>Assigns a data point to this cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid.update" title="dipy.segment.clustering.ClusterCentroid.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>()</p></td>
<td><p>Update centroid of this cluster.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Notes</p>
<p>A cluster does not contain actual data but instead knows how to
retrieve them using its <cite>ClusterMapCentroid</cite> object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid.assign">
<span class="sig-name descname"><span class="pre">assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterCentroid.assign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid.assign" title="Link to this definition">#</a></dt>
<dd><p>Assigns a data point to this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>id_datum</strong><span class="classifier">int</span></dt><dd><p>Index of the data point to add to this cluster.</p>
</dd>
<dt><strong>features</strong><span class="classifier">2D array</span></dt><dd><p>Data point’s features to modify this cluster’s centroid.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterCentroid.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid.update" title="Link to this definition">#</a></dt>
<dd><p>Update centroid of this cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>converged</strong><span class="classifier">bool</span></dt><dd><p>Tells if the centroid has moved.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="clustermap">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><a class="headerlink" href="#clustermap" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides functionalities for interacting with clustering outputs.</p>
<p>Useful container to create, remove, retrieve and filter clusters.
If <cite>refdata</cite> is given, elements will be returned instead of their
index when using <cite>Cluster</cite> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>refdata</strong><span class="classifier">list</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>clusters</strong></dt><dd></dd>
<dt><strong>refdata</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.add_cluster" title="dipy.segment.clustering.ClusterMap.add_cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cluster</span></code></a>(*clusters)</p></td>
<td><p>Adds one or multiple clusters to this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.clear" title="dipy.segment.clustering.ClusterMap.clear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code></a>()</p></td>
<td><p>Remove all clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.clusters_sizes" title="dipy.segment.clustering.ClusterMap.clusters_sizes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clusters_sizes</span></code></a>()</p></td>
<td><p>Gets the size of every cluster contained in this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.get_large_clusters" title="dipy.segment.clustering.ClusterMap.get_large_clusters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_large_clusters</span></code></a>(min_size)</p></td>
<td><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.get_small_clusters" title="dipy.segment.clustering.ClusterMap.get_small_clusters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_small_clusters</span></code></a>(max_size)</p></td>
<td><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.remove_cluster" title="dipy.segment.clustering.ClusterMap.remove_cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_cluster</span></code></a>(*clusters)</p></td>
<td><p>Remove one or multiple clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap.size" title="dipy.segment.clustering.ClusterMap.size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">size</span></code></a>()</p></td>
<td><p>Gets number of clusters contained in this cluster map.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.add_cluster">
<span class="sig-name descname"><span class="pre">add_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clusters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.add_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.add_cluster" title="Link to this definition">#</a></dt>
<dd><p>Adds one or multiple clusters to this cluster map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>*clusters</strong><span class="classifier"><cite>Cluster</cite> object, …</span></dt><dd><p>Cluster(s) to be added in this cluster map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clear" title="Link to this definition">#</a></dt>
<dd><p>Remove all clusters from this cluster map.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clusters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clusters</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clusters" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clusters_sizes">
<span class="sig-name descname"><span class="pre">clusters_sizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.clusters_sizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clusters_sizes" title="Link to this definition">#</a></dt>
<dd><p>Gets the size of every cluster contained in this cluster map.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>list of int</dt><dd><p>Sizes of every cluster in this cluster map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.get_large_clusters">
<span class="sig-name descname"><span class="pre">get_large_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.get_large_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.get_large_clusters" title="Link to this definition">#</a></dt>
<dd><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>min_size</strong><span class="classifier">int</span></dt><dd><p>Minimum number of elements a cluster needs to have to be selected.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of <cite>Cluster</cite> objects</dt><dd><p>Clusters having at least <cite>min_size</cite> elements.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.get_small_clusters">
<span class="sig-name descname"><span class="pre">get_small_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.get_small_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.get_small_clusters" title="Link to this definition">#</a></dt>
<dd><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>max_size</strong><span class="classifier">int</span></dt><dd><p>Maximum number of elements a cluster can have to be selected.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>list of <cite>Cluster</cite> objects</dt><dd><p>Clusters having at most <cite>max_size</cite> elements.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.refdata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refdata</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.refdata" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.remove_cluster">
<span class="sig-name descname"><span class="pre">remove_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clusters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.remove_cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.remove_cluster" title="Link to this definition">#</a></dt>
<dd><p>Remove one or multiple clusters from this cluster map.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>*clusters</strong><span class="classifier"><cite>Cluster</cite> object, …</span></dt><dd><p>Cluster(s) to be removed from this cluster map.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.size">
<span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMap.size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.size" title="Link to this definition">#</a></dt>
<dd><p>Gets number of clusters contained in this cluster map.</p>
</dd></dl>

</dd></dl>

</section>
<section id="clustermapcentroid">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterMapCentroid" title="dipy.segment.clustering.ClusterMapCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><a class="headerlink" href="#clustermapcentroid" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMapCentroid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterMapCentroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#ClusterMapCentroid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.ClusterMapCentroid" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a></p>
<p>Provides functionalities for interacting with clustering outputs
that have centroids.</p>
<p>Allows to retrieve easily the centroid of every cluster. Also, it is
a useful container to create, remove, retrieve and filter clusters.
If <cite>refdata</cite> is given, elements will be returned instead of their
index when using <cite>ClusterCentroid</cite> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>refdata</strong><span class="classifier">list</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>centroids</strong></dt><dd></dd>
<dt><strong>clusters</strong></dt><dd></dd>
<dt><strong>refdata</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cluster</span></code>(*clusters)</p></td>
<td><p>Adds one or multiple clusters to this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p>Remove all clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clusters_sizes</span></code>()</p></td>
<td><p>Gets the size of every cluster contained in this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_large_clusters</span></code>(min_size)</p></td>
<td><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_small_clusters</span></code>(max_size)</p></td>
<td><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_cluster</span></code>(*clusters)</p></td>
<td><p>Remove one or multiple clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">size</span></code>()</p></td>
<td><p>Gets number of clusters contained in this cluster map.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMapCentroid.centroids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centroids</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMapCentroid.centroids" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="clustering">
<h3><a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a><a class="headerlink" href="#clustering" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Clustering">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Clustering</span></span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#Clustering"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.Clustering" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.Clustering.cluster" title="dipy.segment.clustering.Clustering.cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster</span></code></a>(data, *[, ordering])</p></td>
<td><p>Clusters <cite>data</cite>.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Clustering.cluster">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#Clustering.cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.Clustering.cluster" title="Link to this definition">#</a></dt>
<dd><p>Clusters <cite>data</cite>.</p>
<p>Subclasses will perform their clustering algorithm here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">list of N-dimensional arrays</span></dt><dd><p>Each array represents a data point.</p>
</dd>
<dt><strong>ordering</strong><span class="classifier">iterable of indices, optional</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><cite>ClusterMap</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="quickbundles">
<h3><a class="reference internal" href="#dipy.segment.clustering.QuickBundles" title="dipy.segment.clustering.QuickBundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><a class="headerlink" href="#quickbundles" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">QuickBundles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nb_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#QuickBundles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.QuickBundles" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a></p>
<p>Clusters streamlines using QuickBundles.</p>
<p>Given a list of streamlines, the QuickBundles algorithm
<a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> sequentially assigns each streamline to its
closest bundle in <span class="math notranslate nohighlight">\(\mathcal{O}(Nk)\)</span> where <span class="math notranslate nohighlight">\(N\)</span> is the number of streamlines
and <span class="math notranslate nohighlight">\(k\)</span> is the final number of bundles. If for a given streamline its
closest bundle is farther than <cite>threshold</cite>, a new bundle is created and the
streamline is assigned to it except if the number of bundles has already
exceeded <cite>max_nb_clusters</cite>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>threshold</strong><span class="classifier">float</span></dt><dd><p>The maximum distance from a bundle for a streamline to be still
considered as part of it.</p>
</dd>
<dt><strong>metric</strong><span class="classifier">str or <cite>Metric</cite> object, optional</span></dt><dd><p>The distance metric to use when comparing two streamlines. By default,
the Minimum average Direct-Flip (MDF) distance
<a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> is used and streamlines are
automatically resampled so they have 12 points.</p>
</dd>
<dt><strong>max_nb_clusters</strong><span class="classifier">int, optional</span></dt><dd><p>Limits the creation of bundles.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundles.cluster" title="dipy.segment.clustering.QuickBundles.cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster</span></code></a>(streamlines, *[, ordering])</p></td>
<td><p>Clusters <cite>streamlines</cite> into bundles.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">References</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.segment.clustering</span> <span class="kn">import</span> <span class="n">QuickBundles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.data</span> <span class="kn">import</span> <span class="n">get_fnames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.io.streamline</span> <span class="kn">import</span> <span class="n">load_tractogram</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.streamline</span> <span class="kn">import</span> <span class="n">Streamlines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fname</span> <span class="o">=</span> <span class="n">get_fnames</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;fornix&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fornix</span> <span class="o">=</span> <span class="n">load_tractogram</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;same&#39;</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">bbox_valid_check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">streamlines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="n">Streamlines</span><span class="p">(</span><span class="n">fornix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Segment fornix with a threshold of 10mm and streamlines resampled</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># to 12 points.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qb</span> <span class="o">=</span> <span class="n">QuickBundles</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mf">10.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clusters</span> <span class="o">=</span> <span class="n">qb</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="n">streamlines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">clusters</span><span class="p">))</span>
<span class="go">[61, 191, 47, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Resampling streamlines differently is done explicitly as follows.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note this has an impact on the speed and the accuracy (tradeoff).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.segment.featurespeed</span> <span class="kn">import</span> <span class="n">ResampleFeature</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.segment.metricspeed</span> <span class="kn">import</span> <span class="n">AveragePointwiseEuclideanMetric</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature</span> <span class="o">=</span> <span class="n">ResampleFeature</span><span class="p">(</span><span class="n">nb_points</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metric</span> <span class="o">=</span> <span class="n">AveragePointwiseEuclideanMetric</span><span class="p">(</span><span class="n">feature</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qb</span> <span class="o">=</span> <span class="n">QuickBundles</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">metric</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clusters</span> <span class="o">=</span> <span class="n">qb</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="n">streamlines</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">clusters</span><span class="p">))</span>
<span class="go">[58, 142, 72, 28]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundles.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#QuickBundles.cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.QuickBundles.cluster" title="Link to this definition">#</a></dt>
<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>
<p>Performs quickbundles algorithm using predefined metric and threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list of 2D arrays</span></dt><dd><p>Each 2D array represents a sequence of 3D points (points, 3).</p>
</dd>
<dt><strong>ordering</strong><span class="classifier">iterable of indices, optional</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><cite>ClusterMapCentroid</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="quickbundlesx">
<h3><a class="reference internal" href="#dipy.segment.clustering.QuickBundlesX" title="dipy.segment.clustering.QuickBundlesX"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><a class="headerlink" href="#quickbundlesx" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundlesX">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">QuickBundlesX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#QuickBundlesX"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.QuickBundlesX" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a></p>
<p>Clusters streamlines using QuickBundlesX.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2016" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>thresholds</strong><span class="classifier">list of float</span></dt><dd><p>Thresholds to use for each clustering layer. A threshold represents the
maximum distance from a cluster for a streamline to be still considered
as part of it.</p>
</dd>
<dt><strong>metric</strong><span class="classifier">str or <cite>Metric</cite> object, optional</span></dt><dd><p>The distance metric to use when comparing two streamlines. By default,
the Minimum average Direct-Flip (MDF) distance
<a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> is used and streamlines are
automatically resampled so they have 12 points.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundlesX.cluster" title="dipy.segment.clustering.QuickBundlesX.cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster</span></code></a>(streamlines, *[, ordering])</p></td>
<td><p>Clusters <cite>streamlines</cite> into bundles.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">References</p>
<div class="docutils container" id="id16">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-garyfallidis2016" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id14">1</a>,<a role="doc-backlink" href="#id18">2</a>)</span>
<p>Eleftherios Garyfallidis, Marc-Alexandre Côté, François Rheault, and Maxime Descoteaux. QuickBundlesX: Sequential clustering of millions of streamlines in multiple levels of detail at record execution time. In <em>ISMRM 24th Annual Meeting &amp; Exhibition SMRT 25th Annual Meeting</em>, volume. Singapore, 2016. International Society for Magnetic Resonance in Medicine (ISMRM).</p>
</aside>
</aside>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundlesX.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#QuickBundlesX.cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.QuickBundlesX.cluster" title="Link to this definition">#</a></dt>
<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>
<p>Performs QuickbundleX using a predefined metric and thresholds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list of 2D arrays</span></dt><dd><p>Each 2D array represents a sequence of 3D points (points, 3).</p>
</dd>
<dt><strong>ordering</strong><span class="classifier">iterable of indices</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><cite>TreeClusterMap</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="treecluster">
<h3><a class="reference internal" href="#dipy.segment.clustering.TreeCluster" title="dipy.segment.clustering.TreeCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><a class="headerlink" href="#treecluster" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">TreeCluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeCluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeCluster" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>is_leaf</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">assign</span></code>(id_datum, features)</p></td>
<td><p>Assigns a data point to this cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>()</p></td>
<td><p>Update centroid of this cluster.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>add</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>return_indices</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeCluster.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.add" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.is_leaf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_leaf</span></span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.is_leaf" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.return_indices">
<span class="sig-name descname"><span class="pre">return_indices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeCluster.return_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.return_indices" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="treeclustermap">
<h3><a class="reference internal" href="#dipy.segment.clustering.TreeClusterMap" title="dipy.segment.clustering.TreeClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><a class="headerlink" href="#treeclustermap" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">TreeClusterMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeClusterMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>clusters</strong></dt><dd></dd>
<dt><strong>refdata</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_cluster</span></code>(*clusters)</p></td>
<td><p>Adds one or multiple clusters to this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p>Remove all clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clusters_sizes</span></code>()</p></td>
<td><p>Gets the size of every cluster contained in this cluster map.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_large_clusters</span></code>(min_size)</p></td>
<td><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_small_clusters</span></code>(max_size)</p></td>
<td><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_cluster</span></code>(*clusters)</p></td>
<td><p>Remove one or multiple clusters from this cluster map.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">size</span></code>()</p></td>
<td><p>Gets number of clusters contained in this cluster map.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>get_clusters</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>iter_preorder</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>traverse_postorder</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.get_clusters">
<span class="sig-name descname"><span class="pre">get_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wanted_level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeClusterMap.get_clusters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.get_clusters" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.iter_preorder">
<span class="sig-name descname"><span class="pre">iter_preorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeClusterMap.iter_preorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.iter_preorder" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.refdata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refdata</span></span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.refdata" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.traverse_postorder">
<span class="sig-name descname"><span class="pre">traverse_postorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#TreeClusterMap.traverse_postorder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.traverse_postorder" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="qbx-and-merge">
<h3>qbx_and_merge<a class="headerlink" href="#qbx-and-merge" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.clustering.qbx_and_merge">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">qbx_and_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_randomly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/clustering.html#qbx_and_merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.clustering.qbx_and_merge" title="Link to this definition">#</a></dt>
<dd><p>Run QuickBundlesX and then run again on the centroids of the last layer.</p>
<p>Running again QuickBundles at a layer has the effect of merging
some of the clusters that may be originally divided because of branching.
This function help obtain a result at a QuickBundles quality but with
QuickBundlesX speed. The merging phase has low cost because it is applied
only on the centroids rather than the entire dataset.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id17" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> and <a class="footnote-reference brackets" href="#footcite-garyfallidis2016" id="id18" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> for
further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Streamlines.</p>
</dd>
<dt><strong>thresholds</strong><span class="classifier">sequence</span></dt><dd><p>List of distance thresholds for QuickBundlesX.</p>
</dd>
<dt><strong>nb_pts</strong><span class="classifier">int</span></dt><dd><p>Number of points for discretizing each streamline</p>
</dd>
<dt><strong>select_randomly</strong><span class="classifier">int</span></dt><dd><p>Randomly select a specific number of streamlines. If None all the
streamlines are used.</p>
</dd>
<dt><strong>rng</strong><span class="classifier">numpy.random.Generator</span></dt><dd><p>If None then generator is initialized internally.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional.</span></dt><dd><p>If True, log information. Default False.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>clusters</strong><span class="classifier">obj</span></dt><dd><p>Contains the clusters of the last layer of QuickBundlesX after merging.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="faststreamlinesearch">
<h3><a class="reference internal" href="#dipy.segment.fss.FastStreamlineSearch" title="dipy.segment.fss.FastStreamlineSearch"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><a class="headerlink" href="#faststreamlinesearch" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.fss.FastStreamlineSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">FastStreamlineSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_mpts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/fss.html#FastStreamlineSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.fss.FastStreamlineSearch" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.fss.FastStreamlineSearch.radius_search" title="dipy.segment.fss.FastStreamlineSearch.radius_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">radius_search</span></code></a>(streamlines, radius, *[, ...])</p></td>
<td><p>Radius Search using Fast Streamline Search</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.fss.FastStreamlineSearch.radius_search">
<span class="sig-name descname"><span class="pre">radius_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_negative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/fss.html#FastStreamlineSearch.radius_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.fss.FastStreamlineSearch.radius_search" title="Link to this definition">#</a></dt>
<dd><p>Radius Search using Fast Streamline Search</p>
<p>For each given streamlines, return all reference streamlines
within the given radius. See <a class="footnote-reference brackets" href="#footcite-stonge2022" id="id19" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> for further
details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Streamlines to generate the tree structure.</p>
</dd>
<dt><strong>radius</strong><span class="classifier">float</span></dt><dd><p>Search radius (with MDF / average L2 distance)
must be smaller than max_radius when FFS was initialized.</p>
</dd>
<dt><strong>use_negative</strong><span class="classifier">bool, optional</span></dt><dd><p>When used with bidirectional,
negative values are returned for reversed order neighbors.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>res</strong><span class="classifier">scipy COOrdinates sparse matrix (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Given streamlines should be already aligned with ref streamlines.
Preferably in millimeter space (voxmm or rasmm).</p>
<p class="rubric">References</p>
<div class="docutils container" id="id20">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-stonge2022" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id19">5</a><span class="fn-bracket">]</span></span>
<p>Etienne St-Onge, Eleftherios Garyfallidis, and D. Louis Collins. Fast Streamline Search: An Exact Technique for Diffusion MRI Tractography. <em>Neuroinformatics</em>, 20(4):1093–1104, 2022. URL: <a class="reference external" href="https://doi.org/10.1007/s12021-022-09590-7">https://doi.org/10.1007/s12021-022-09590-7</a>, <a class="reference external" href="https://doi.org/10.1007/s12021-022-09590-7">doi:10.1007/s12021-022-09590-7</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="nearest-from-matrix-row">
<h3>nearest_from_matrix_row<a class="headerlink" href="#nearest-from-matrix-row" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.fss.nearest_from_matrix_row">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">nearest_from_matrix_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coo_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/fss.html#nearest_from_matrix_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.fss.nearest_from_matrix_row" title="Link to this definition">#</a></dt>
<dd><p>Return the nearest (smallest) for each row given an coup sparse matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coo_array</strong><span class="classifier">scipy COOrdinates sparse array (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>non_zero_ids</strong><span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Indices of each non-empty slines (row)</p>
</dd>
<dt><strong>nearest_id</strong><span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Indices of the nearest reference match (column)</p>
</dd>
<dt><strong>nearest_dist</strong><span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Distance for each nearest match</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="nearest-from-matrix-col">
<h3>nearest_from_matrix_col<a class="headerlink" href="#nearest-from-matrix-col" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.fss.nearest_from_matrix_col">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">nearest_from_matrix_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coo_array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/fss.html#nearest_from_matrix_col"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.fss.nearest_from_matrix_col" title="Link to this definition">#</a></dt>
<dd><p>Return the nearest (smallest) for each column given an coup sparse matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coo_array</strong><span class="classifier">scipy COOrdinates sparse matrix (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>non_zero_ids</strong><span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Indices of each non-empty reference (column)</p>
</dd>
<dt><strong>nearest_id</strong><span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Indices of the nearest slines match (row)</p>
</dd>
<dt><strong>nearest_dist</strong><span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Distance for each nearest match</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="multi-median">
<h3>multi_median<a class="headerlink" href="#multi-median" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.multi_median">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">multi_median</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#multi_median"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.multi_median" title="Link to this definition">#</a></dt>
<dd><p>Applies median filter multiple times on input data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">ndarray</span></dt><dd><p>The input volume to apply filter on.</p>
</dd>
<dt><strong>median_radius</strong><span class="classifier">int</span></dt><dd><p>Radius (in voxels) of the applied median filter</p>
</dd>
<dt><strong>numpass: int</strong></dt><dd><p>Number of pass of the median filter</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>data</strong><span class="classifier">ndarray</span></dt><dd><p>Filtered input volume.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="applymask">
<h3>applymask<a class="headerlink" href="#applymask" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.applymask">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">applymask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#applymask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.applymask" title="Link to this definition">#</a></dt>
<dd><p>Mask vol with mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vol</strong><span class="classifier">ndarray</span></dt><dd><p>Array with <span class="math notranslate nohighlight">\(V\)</span> dimensions</p>
</dd>
<dt><strong>mask</strong><span class="classifier">ndarray</span></dt><dd><p>Binary mask.  Has <span class="math notranslate nohighlight">\(M\)</span> dimensions where <span class="math notranslate nohighlight">\(M &lt;= V\)</span>. When <span class="math notranslate nohighlight">\(M &lt; V\)</span>, we
append <span class="math notranslate nohighlight">\(V - M\)</span> dimensions with axis length 1 to <cite>mask</cite> so that <cite>mask</cite>
will broadcast against <cite>vol</cite>.  In the typical case <cite>vol</cite> can be 4D,
<cite>mask</cite> can be 3D, and we append a 1 to the mask shape which (via numpy
broadcasting) has the effect of applying the 3D mask to each 3D slice in
<cite>vol</cite> (<code class="docutils literal notranslate"><span class="pre">vol[...,</span> <span class="pre">0]</span></code> to <code class="docutils literal notranslate"><span class="pre">vol[...,</span> <span class="pre">-1</span></code>).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>masked_vol</strong><span class="classifier">ndarray</span></dt><dd><p><cite>vol</cite> multiplied by <cite>mask</cite> where <cite>mask</cite> may have been extended to match
extra dimensions in <cite>vol</cite></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="bounding-box">
<h3>bounding_box<a class="headerlink" href="#bounding-box" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.bounding_box">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#bounding_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.bounding_box" title="Link to this definition">#</a></dt>
<dd><p>Compute the bounding box of nonzero intensity voxels in the volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vol</strong><span class="classifier">ndarray</span></dt><dd><p>Volume to compute bounding box on.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>npmins</strong><span class="classifier">list</span></dt><dd><p>Array containing minimum index of each dimension</p>
</dd>
<dt><strong>npmaxs</strong><span class="classifier">list</span></dt><dd><p>Array containing maximum index of each dimension</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="crop">
<h3>crop<a class="headerlink" href="#crop" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.crop">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#crop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.crop" title="Link to this definition">#</a></dt>
<dd><p>Crops the input volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>vol</strong><span class="classifier">ndarray</span></dt><dd><p>Volume to crop.</p>
</dd>
<dt><strong>mins</strong><span class="classifier">array</span></dt><dd><p>Array containing minimum index of each dimension.</p>
</dd>
<dt><strong>maxs</strong><span class="classifier">array</span></dt><dd><p>Array containing maximum index of each dimension.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>vol</strong><span class="classifier">ndarray</span></dt><dd><p>The cropped volume.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="median-otsu">
<h3>median_otsu<a class="headerlink" href="#median-otsu" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.median_otsu">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">median_otsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_volume</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autocrop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finalize_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#median_otsu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.median_otsu" title="Link to this definition">#</a></dt>
<dd><p>Simple brain extraction tool method for images from DWI data.</p>
<p>It uses a median filter smoothing of the input_volumes <cite>vol_idx</cite> and an
automatic histogram Otsu thresholding technique, hence the name
<em>median_otsu</em>.</p>
<p>This function is inspired from Mrtrix’s bet which has default values
<code class="docutils literal notranslate"><span class="pre">median_radius=3</span></code>, <code class="docutils literal notranslate"><span class="pre">numpass=2</span></code>. However, from tests on multiple 1.5T
and 3T data     from GE, Philips, Siemens, the most robust choice is
<code class="docutils literal notranslate"><span class="pre">median_radius=4</span></code>, <code class="docutils literal notranslate"><span class="pre">numpass=4</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>input_volume</strong><span class="classifier">ndarray</span></dt><dd><p>3D or 4D array of the brain volume.</p>
</dd>
<dt><strong>vol_idx</strong><span class="classifier">None or array, optional</span></dt><dd><p>1D array representing indices of <code class="docutils literal notranslate"><span class="pre">axis=3</span></code> of a 4D <cite>input_volume</cite>.
None is only an acceptable input if <code class="docutils literal notranslate"><span class="pre">input_volume</span></code> is 3D.</p>
</dd>
<dt><strong>median_radius</strong><span class="classifier">int, optional</span></dt><dd><p>Radius (in voxels) of the applied median filter.</p>
</dd>
<dt><strong>numpass: int, optional</strong></dt><dd><p>Number of pass of the median filter.</p>
</dd>
<dt><strong>autocrop: bool, optional</strong></dt><dd><p>if True, the masked input_volume will also be cropped using the
bounding box defined by the masked data. Should be on if DWI is
upsampled to 1x1x1 resolution.</p>
</dd>
<dt><strong>dilate</strong><span class="classifier">None or int, optional</span></dt><dd><p>number of iterations for binary dilation</p>
</dd>
<dt><strong>finalize_mask</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to remove potential holes or islands.
Useful for solving minor errors.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>maskedvolume</strong><span class="classifier">ndarray</span></dt><dd><p>Masked input_volume</p>
</dd>
<dt><strong>mask</strong><span class="classifier">3D ndarray</span></dt><dd><p>The binary brain mask</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Copyright (C) 2011, the scikit-image team
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the
distribution.</p></li>
<li><p>Neither the name of skimage nor the names of its contributors may be
used to endorse or promote products derived from this software without
specific prior written permission.</p></li>
</ol>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR “AS IS” AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</p>
</dd></dl>

</section>
<section id="segment-from-cfa">
<h3>segment_from_cfa<a class="headerlink" href="#segment-from-cfa" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.segment_from_cfa">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">segment_from_cfa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cfa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#segment_from_cfa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.segment_from_cfa" title="Link to this definition">#</a></dt>
<dd><p>Segment the cfa inside roi using the values from threshold as bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tensor_fit</strong><span class="classifier">TensorFit object</span></dt><dd><p>TensorFit object</p>
</dd>
<dt><strong>roi</strong><span class="classifier">ndarray</span></dt><dd><p>A binary mask, which contains the bounding box for the segmentation.</p>
</dd>
<dt><strong>threshold</strong><span class="classifier">array-like</span></dt><dd><p>An iterable that defines the min and max values to use for the
thresholding.
The values are specified as (R_min, R_max, G_min, G_max, B_min, B_max)</p>
</dd>
<dt><strong>return_cfa</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, the cfa is also returned.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>mask</strong><span class="classifier">ndarray</span></dt><dd><p>Binary mask of the segmentation.</p>
</dd>
<dt><strong>cfa</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Array with shape = (…, 3), where … is the shape of tensor_fit.
The color fractional anisotropy, ordered as a nd array with the last
dimension of size 3 for the R, G and B channels.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="clean-cc-mask">
<h3>clean_cc_mask<a class="headerlink" href="#clean-cc-mask" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.clean_cc_mask">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">clean_cc_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/mask.html#clean_cc_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.mask.clean_cc_mask" title="Link to this definition">#</a></dt>
<dd><p>Cleans a segmentation of the corpus callosum so no random pixels
are included.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mask</strong><span class="classifier">ndarray</span></dt><dd><p>Binary mask of the coarse segmentation.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_cc_mask</strong><span class="classifier">ndarray</span></dt><dd><p>Binary mask of the cleaned segmentation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="mdf">
<h3>mdf<a class="headerlink" href="#mdf" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mdf">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/metric.html#mdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.metric.mdf" title="Link to this definition">#</a></dt>
<dd><p>Computes the MDF (Minimum average Direct-Flip) distance between two
streamlines.</p>
<p>Streamlines must have the same number of points.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id21" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> for a definition of the distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>s1</strong><span class="classifier">2D array</span></dt><dd><p>A streamline (sequence of N-dimensional points).</p>
</dd>
<dt><strong>s2</strong><span class="classifier">2D array</span></dt><dd><p>A streamline (sequence of N-dimensional points).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>double</dt><dd><p>Distance between two streamlines.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="mean-manhattan-distance">
<h3>mean_manhattan_distance<a class="headerlink" href="#mean-manhattan-distance" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mean_manhattan_distance">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mean_manhattan_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/metric.html#mean_manhattan_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.metric.mean_manhattan_distance" title="Link to this definition">#</a></dt>
<dd><p>Compute the average Manhattan-L1 distance (MDF without flip)</p>
<p>Arrays are representing a single streamline or a list of streamlines
that have the same number of N-dimensional points (two last axis).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a</strong><span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
<dt><strong>b</strong><span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>1D array</dt><dd><p>Distance between each S streamlines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="mean-euclidean-distance">
<h3>mean_euclidean_distance<a class="headerlink" href="#mean-euclidean-distance" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mean_euclidean_distance">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mean_euclidean_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/metric.html#mean_euclidean_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.metric.mean_euclidean_distance" title="Link to this definition">#</a></dt>
<dd><p>Compute the average Euclidean-L2 distance (MDF without flip)</p>
<p>Arrays are representing a single streamline or a list of streamlines
that have the same number of N-dimensional points (two last axis).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>a</strong><span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
<dt><strong>b</strong><span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>1D array</dt><dd><p>Distance between each S streamlines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="otsu">
<h3>otsu<a class="headerlink" href="#otsu" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.otsu">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">otsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/threshold.html#otsu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.threshold.otsu" title="Link to this definition">#</a></dt>
<dd><p>Return threshold value based on Otsu’s method.
Copied from scikit-image to remove dependency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image</strong><span class="classifier">array</span></dt><dd><p>Input image.</p>
</dd>
<dt><strong>nbins</strong><span class="classifier">int</span></dt><dd><p>Number of bins used to calculate histogram. This value is ignored for
integer arrays.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>threshold</strong><span class="classifier">float</span></dt><dd><p>Threshold value.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="upper-bound-by-rate">
<h3>upper_bound_by_rate<a class="headerlink" href="#upper-bound-by-rate" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.upper_bound_by_rate">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">upper_bound_by_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/threshold.html#upper_bound_by_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.threshold.upper_bound_by_rate" title="Link to this definition">#</a></dt>
<dd><p>Adjusts upper intensity boundary using rates</p>
<p>It calculates the image intensity histogram, and based on the rate value it
decide what is the upperbound value for intensity normalization, usually
lower bound is 0. The rate is the ratio between the amount of pixels in
every bins and the bins with highest pixel amount</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">float</span></dt><dd><p>Input intensity value data</p>
</dd>
<dt><strong>rate</strong><span class="classifier">float</span></dt><dd><p>representing the threshold whether a specific histogram bin that should
be count in the normalization range</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>high</strong><span class="classifier">float</span></dt><dd><p>the upper_bound value for normalization</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="upper-bound-by-percent">
<h3>upper_bound_by_percent<a class="headerlink" href="#upper-bound-by-percent" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.upper_bound_by_percent">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">upper_bound_by_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/threshold.html#upper_bound_by_percent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.threshold.upper_bound_by_percent" title="Link to this definition">#</a></dt>
<dd><p>Find the upper bound for visualization of medical images</p>
<p>Calculate the histogram of the image and go right to left until you find
the bound that contains more than a percentage of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">ndarray</span></dt><dd></dd>
<dt><strong>percent</strong><span class="classifier">float</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>upper_bound</strong><span class="classifier">float</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="tissueclassifierhmrf">
<h3><a class="reference internal" href="#dipy.segment.tissue.TissueClassifierHMRF" title="dipy.segment.tissue.TissueClassifierHMRF"><code class="xref py py-class docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><a class="headerlink" href="#tissueclassifierhmrf" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.tissue.TissueClassifierHMRF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.tissue.</span></span><span class="sig-name descname"><span class="pre">TissueClassifierHMRF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/tissue.html#TissueClassifierHMRF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.tissue.TissueClassifierHMRF" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class contains the methods for tissue classification using the
Markov Random Fields modeling approach.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.tissue.TissueClassifierHMRF.classify" title="dipy.segment.tissue.TissueClassifierHMRF.classify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">classify</span></code></a>(image, nclasses, beta, *[, ...])</p></td>
<td><p>This method uses the Maximum a posteriori - Markov Random Field approach for segmentation by using the Iterative Conditional Modes and Expectation Maximization to estimate the parameters.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.tissue.TissueClassifierHMRF.classify">
<span class="sig-name descname"><span class="pre">classify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nclasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/tissue.html#TissueClassifierHMRF.classify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.tissue.TissueClassifierHMRF.classify" title="Link to this definition">#</a></dt>
<dd><p>This method uses the Maximum a posteriori - Markov Random Field
approach for segmentation by using the Iterative Conditional Modes
and Expectation Maximization to estimate the parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image</strong><span class="classifier">ndarray,</span></dt><dd><p>3D structural image.</p>
</dd>
<dt><strong>nclasses</strong><span class="classifier">int,</span></dt><dd><p>Number of desired classes.</p>
</dd>
<dt><strong>beta</strong><span class="classifier">float,</span></dt><dd><p>Smoothing parameter, the higher this number the smoother the
output will be.</p>
</dd>
<dt><strong>tolerance: float, optional</strong></dt><dd><p>Value that defines the percentage of change tolerated to
prevent the ICM loop to stop. Default is 1e-05.
If you want tolerance check to be disabled put ‘tolerance = 0’.</p>
</dd>
<dt><strong>max_iter</strong><span class="classifier">int, optional</span></dt><dd><p>Fixed number of desired iterations. Default is 100.
This parameter defines the maximum number of iterations the
algorithm will perform. The loop may terminate early if the
change in energy sum between iterations falls below the
threshold defined by <cite>tolerance</cite>. However, if <cite>tolerance</cite> is
explicitly set to 0, this early stopping mechanism is disabled,
and the algorithm will run for the specified number of
iterations unless another stopping criterion is met.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>initial_segmentation</strong><span class="classifier">ndarray,</span></dt><dd><p>3D segmented image with all tissue types specified in nclasses.</p>
</dd>
<dt><strong>final_segmentation</strong><span class="classifier">ndarray,</span></dt><dd><p>3D final refined segmentation containing all tissue types.</p>
</dd>
<dt><strong>PVE</strong><span class="classifier">ndarray,</span></dt><dd><p>3D probability map of each tissue type.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="compute-directional-average">
<h3>compute_directional_average<a class="headerlink" href="#compute-directional-average" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.tissue.compute_directional_average">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.tissue.</span></span><span class="sig-name descname"><span class="pre">compute_directional_average</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bvals</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s0_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b0_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b0_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_signal_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/tissue.html#compute_directional_average"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.tissue.compute_directional_average" title="Link to this definition">#</a></dt>
<dd><p>Compute the mean signal for each unique b-value shell and fit a linear model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">ndarray</span></dt><dd><p>The diffusion MRI data.</p>
</dd>
<dt><strong>bvals</strong><span class="classifier">ndarray</span></dt><dd><p>The b-values corresponding to the diffusion data.</p>
</dd>
<dt><strong>s0_map</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Precomputed mean signal map for b=0 images.</p>
</dd>
<dt><strong>masks</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Precomputed masks for each unique b-value shell.</p>
</dd>
<dt><strong>b0_mask</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Precomputed mask for b=0 images.</p>
</dd>
<dt><strong>b0_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>The intensity threshold for a b=0 image.</p>
</dd>
<dt><strong>low_signal_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>The threshold below which a voxel is considered to have low signal.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>P</strong><span class="classifier">float</span></dt><dd><p>The slope of the linear model.</p>
</dd>
<dt><strong>V</strong><span class="classifier">float</span></dt><dd><p>The intercept of the linear model.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="dam-classifier">
<h3>dam_classifier<a class="headerlink" href="#dam-classifier" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.tissue.dam_classifier">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.tissue.</span></span><span class="sig-name descname"><span class="pre">dam_classifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wm_threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b0_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_signal_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/tissue.html#dam_classifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.tissue.dam_classifier" title="Link to this definition">#</a></dt>
<dd><p>Computes the P-map (fitting slope) on data to extract white and grey matter.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-cheng2020" id="id22" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">ndarray</span></dt><dd><p>The diffusion MRI data.</p>
</dd>
<dt><strong>bvals</strong><span class="classifier">ndarray</span></dt><dd><p>The b-values corresponding to the diffusion data.</p>
</dd>
<dt><strong>wm_threshold</strong><span class="classifier">float</span></dt><dd><p>The threshold below which a voxel is considered white matter.</p>
</dd>
<dt><strong>b0_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>The intensity threshold for a b=0 image.</p>
</dd>
<dt><strong>low_signal_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>The threshold below which a voxel is considered to have low signal.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>wm_mask</strong><span class="classifier">ndarray</span></dt><dd><p>A binary mask for white matter.</p>
</dd>
<dt><strong>gm_mask</strong><span class="classifier">ndarray</span></dt><dd><p>A binary mask for grey matter.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id23">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-cheng2020" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id22">6</a><span class="fn-bracket">]</span></span>
<p>Hu Cheng, Sharlene Newman, Maryam Afzali, Shreyas Fadnavis, and Eleftherios Garyfallidis. Segmentation of the brain using direction-averaged signal of DWI images. <em>Magnetic Resonance Imaging</em>, 69:1–7, June 2020. URL: <a class="reference external" href="https://doi.org/10.1016/j.mri.2020.02.010">https://doi.org/10.1016/j.mri.2020.02.010</a>, <a class="reference external" href="https://doi.org/10.1016/j.mri.2020.02.010">doi:10.1016/j.mri.2020.02.010</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</section>
<section id="remove-holes-and-islands">
<h3>remove_holes_and_islands<a class="headerlink" href="#remove-holes-and-islands" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.utils.remove_holes_and_islands">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.utils.</span></span><span class="sig-name descname"><span class="pre">remove_holes_and_islands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary_img</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slice_wise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/segment/utils.html#remove_holes_and_islands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.segment.utils.remove_holes_and_islands" title="Link to this definition">#</a></dt>
<dd><p>Remove any small mask chunks or holes
that could be in the segmentation output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>binary_img</strong><span class="classifier">np.ndarray</span></dt><dd><p>Binary image</p>
</dd>
<dt><strong>slice_wise</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to run slice wise background correction as well</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>largest_img</strong><span class="classifier">np.ndarray</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dipy.reconst.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="dipy.sims.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.bundles">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.bundles</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.clustering">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.clustering</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.fss">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.fss</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.mask">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.mask</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.metric">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.metric</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.threshold">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.threshold</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.tissue">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.tissue</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.utils">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.utils</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recobundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles"><code class="docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.evaluate_results"><code class="docutils literal notranslate"><span class="pre">RecoBundles.evaluate_results()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.recognize"><code class="docutils literal notranslate"><span class="pre">RecoBundles.recognize()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.refine"><code class="docutils literal notranslate"><span class="pre">RecoBundles.refine()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-range">check_range</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.check_range"><code class="docutils literal notranslate"><span class="pre">check_range()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bundle-adjacency">bundle_adjacency</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.bundle_adjacency"><code class="docutils literal notranslate"><span class="pre">bundle_adjacency()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ba-analysis">ba_analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.ba_analysis"><code class="docutils literal notranslate"><span class="pre">ba_analysis()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cluster-bundle">cluster_bundle</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.cluster_bundle"><code class="docutils literal notranslate"><span class="pre">cluster_bundle()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bundle-shape-similarity">bundle_shape_similarity</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.bundle_shape_similarity"><code class="docutils literal notranslate"><span class="pre">bundle_shape_similarity()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Identity</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Identity"><code class="docutils literal notranslate"><span class="pre">Identity</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Cluster"><code class="docutils literal notranslate"><span class="pre">Cluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Cluster.assign"><code class="docutils literal notranslate"><span class="pre">Cluster.assign()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustercentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid.assign"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid.assign()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid.update"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid.update()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustermap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap"><code class="docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.add_cluster"><code class="docutils literal notranslate"><span class="pre">ClusterMap.add_cluster()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clear"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clear()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clusters</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clusters_sizes"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clusters_sizes()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.get_large_clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.get_large_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.get_small_clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.get_small_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.refdata"><code class="docutils literal notranslate"><span class="pre">ClusterMap.refdata</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.remove_cluster"><code class="docutils literal notranslate"><span class="pre">ClusterMap.remove_cluster()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.size"><code class="docutils literal notranslate"><span class="pre">ClusterMap.size()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustermapcentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMapCentroid"><code class="docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMapCentroid.centroids"><code class="docutils literal notranslate"><span class="pre">ClusterMapCentroid.centroids</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Clustering"><code class="docutils literal notranslate"><span class="pre">Clustering</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Clustering.cluster"><code class="docutils literal notranslate"><span class="pre">Clustering.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quickbundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundles"><code class="docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundles.cluster"><code class="docutils literal notranslate"><span class="pre">QuickBundles.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quickbundlesx"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundlesX"><code class="docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundlesX.cluster"><code class="docutils literal notranslate"><span class="pre">QuickBundlesX.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treecluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster"><code class="docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.add"><code class="docutils literal notranslate"><span class="pre">TreeCluster.add()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.is_leaf"><code class="docutils literal notranslate"><span class="pre">TreeCluster.is_leaf</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.return_indices"><code class="docutils literal notranslate"><span class="pre">TreeCluster.return_indices()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treeclustermap"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.get_clusters"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.get_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.iter_preorder"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.iter_preorder()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.refdata"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.refdata</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.traverse_postorder"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.traverse_postorder()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#qbx-and-merge">qbx_and_merge</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.qbx_and_merge"><code class="docutils literal notranslate"><span class="pre">qbx_and_merge()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#faststreamlinesearch"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.FastStreamlineSearch"><code class="docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.FastStreamlineSearch.radius_search"><code class="docutils literal notranslate"><span class="pre">FastStreamlineSearch.radius_search()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nearest-from-matrix-row">nearest_from_matrix_row</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.nearest_from_matrix_row"><code class="docutils literal notranslate"><span class="pre">nearest_from_matrix_row()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nearest-from-matrix-col">nearest_from_matrix_col</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.nearest_from_matrix_col"><code class="docutils literal notranslate"><span class="pre">nearest_from_matrix_col()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-median">multi_median</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.multi_median"><code class="docutils literal notranslate"><span class="pre">multi_median()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#applymask">applymask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.applymask"><code class="docutils literal notranslate"><span class="pre">applymask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bounding-box">bounding_box</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.bounding_box"><code class="docutils literal notranslate"><span class="pre">bounding_box()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crop">crop</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.crop"><code class="docutils literal notranslate"><span class="pre">crop()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#median-otsu">median_otsu</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.median_otsu"><code class="docutils literal notranslate"><span class="pre">median_otsu()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segment-from-cfa">segment_from_cfa</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.segment_from_cfa"><code class="docutils literal notranslate"><span class="pre">segment_from_cfa()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clean-cc-mask">clean_cc_mask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.clean_cc_mask"><code class="docutils literal notranslate"><span class="pre">clean_cc_mask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mdf">mdf</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mdf"><code class="docutils literal notranslate"><span class="pre">mdf()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-manhattan-distance">mean_manhattan_distance</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mean_manhattan_distance"><code class="docutils literal notranslate"><span class="pre">mean_manhattan_distance()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-euclidean-distance">mean_euclidean_distance</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mean_euclidean_distance"><code class="docutils literal notranslate"><span class="pre">mean_euclidean_distance()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otsu">otsu</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.otsu"><code class="docutils literal notranslate"><span class="pre">otsu()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#upper-bound-by-rate">upper_bound_by_rate</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.upper_bound_by_rate"><code class="docutils literal notranslate"><span class="pre">upper_bound_by_rate()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#upper-bound-by-percent">upper_bound_by_percent</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.upper_bound_by_percent"><code class="docutils literal notranslate"><span class="pre">upper_bound_by_percent()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tissueclassifierhmrf"><code class="xref py py-class docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.TissueClassifierHMRF"><code class="docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.TissueClassifierHMRF.classify"><code class="docutils literal notranslate"><span class="pre">TissueClassifierHMRF.classify()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compute-directional-average">compute_directional_average</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.compute_directional_average"><code class="docutils literal notranslate"><span class="pre">compute_directional_average()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dam-classifier">dam_classifier</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.dam_classifier"><code class="docutils literal notranslate"><span class="pre">dam_classifier()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#remove-holes-and-islands">remove_holes_and_islands</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.utils.remove_holes_and_islands"><code class="docutils literal notranslate"><span class="pre">remove_holes_and_islands()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  
<script type="module" src="../_static/scripts/grg-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><div>
  <h3 class="footer-heading">
    Never miss an update from us!
  </h3>
  <p class="footer-sub-heading">
    Don't worry! we are not going to spam you.
  </p>
  <div class="input-group mb-3 mar-t-10">
    <input type="text" class="form-control" placeholder="You email" aria-label="You email" id="grg-subscribe-email">
    <div class="input-group-append pointer" onclick="(document.getElementById('grg-subscribe-email').value)">
      <span class="input-group-text subscribe">Subscribe</span>
    </div>
  </div>  
  <ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul>
</div></div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><div class="grid-3">
  
  <div>
    <h5 class="footer-heading">
      About
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="https://dipy.org/team">
            Developers
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://github.com/dipy/dipy/discussions" target="_blank" rel="noopener noreferrer">
            Support
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../user_guide/installation.html">
            Download
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../user_guide/getting_started.html">
            Get Started
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../examples_built/index.html">
            Tutorials
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank" rel="noopener noreferrer">
            Videos
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Friends
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="http://nipy.org/" target="_blank" rel="noopener noreferrer">
            Nipy Projects
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="http://fury.gl/" target="_blank" rel="noopener noreferrer">
            FURY
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="http://nipy.org/nibabel" target="_blank" rel="noopener noreferrer">
            Nibabel
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://tortoise.nibib.nih.gov/" target="_blank" rel="noopener noreferrer">
            Tortoise
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Support
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="https://engineering.indiana.edu/" target="_blank" rel="noopener noreferrer">
            The department of Intelligent Systems Engineering of Indiana University
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://www.nibib.nih.gov/" target="_blank" rel="noopener noreferrer">
            The National Institute of Biomedical Imaging and Bioengineering, NIH
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://escience.washington.edu" target="_blank" rel="noopener noreferrer">
            The Gordon and Betty Moore Foundation and the Alfred P. Sloan Foundation, through the University of Washington eScience Institute Data Science Environment
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://summerofcode.withgoogle.com/" target="_blank" rel="noopener noreferrer">
            Google supported DIPY through the Google Summer of Code Program (2015-2024)
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
</div></div>
      
    </div>
  
</div>

    <div class="copyright-text">
      <i class="fa-regular fa-copyright"></i> Copyright 2008-2025,DIPY developers. Created using Grg Sphinx Theme and PyData Sphinx Theme.
    </div>
  </footer>
  </body>
</html>