
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tracking &#8212; dipy 1.11.0 documentation</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/css/dipy.css?v=cedb193d" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

  
<link rel="stylesheet" href="../_static/styles/grg-sphinx-theme.css"/>

    <script src="../_static/documentation_options.js?v=6cf1fb80"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-D610GKJZRC"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-D610GKJZRC');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-D610GKJZRC');
            </script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/dipy.tracking';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.dipy.org/dev/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.11.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="icon" href="../_static/dipy-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="version" href="dipy.version.html" />
    <link rel="prev" title="stats" href="dipy.stats.html" />
  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
<nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
     
  

<a class="navbar-brand logo" href="https://dipy.org">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/dipy-logo.png" class="logo__image only-light" alt="DIPY"/>
    <script>document.write(`<img src="../_static/dipy-logo.png" class="logo__image only-dark" alt="DIPY"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../index.html">
          Overview
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../examples_built/index.html">
          Tutorials
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../recipes.html">
          Recipes
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../interfaces/index.html">
          CLI / Workflows
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="index.html">
          API
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../reference_cmd/index.html">
          CLI API
        </a>
      </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/calendar">
            Calendar
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/blog">
            Blog
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://app.gitter.im/#/room/%23dipy_dipy:gitter.im" target="_blank">
            Live Chat (Gitter) <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/team">
            Team
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../user_guide/mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../stateoftheart.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

</nav>

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  
  <ul class="bd-navbar-elements navbar-nav">
    
          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Docs
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
      <li class="nav-item">
        <a class="nav-link" href="../index.html">
          Overview
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../examples_built/index.html">
          Tutorials
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../recipes.html">
          Recipes
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../interfaces/index.html">
          CLI / Workflows
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="index.html">
          API
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../reference_cmd/index.html">
          CLI API
        </a>
      </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Workshops
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Latest
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2024" target="_blank">
            DIPY Workshop 2024 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Past
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2023" target="_blank">
            DIPY Workshop 2023 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2022" target="_blank">
            DIPY Workshop 2022 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2021" target="_blank">
            DIPY Workshop 2021 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2020" target="_blank">
            DIPY Workshop 2020 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/workshops/dipy-workshop-2019" target="_blank">
            DIPY Workshop 2019 <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    Community
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
    <li class="nav-item">
      <p class="nav-section-title nav-link">
        News
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/calendar">
            Calendar
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://mail.python.org/mailman3/lists/dipy.python.org/" target="_blank">
            Newsletters <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/blog">
            Blog
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank">
            Youtube <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

    <li class="nav-item">
      <p class="nav-section-title nav-link">
        Help
      </p>
    </li>

        <li class="nav-item">
          <a class="nav-link" href="https://app.gitter.im/#/room/%23dipy_dipy:gitter.im" target="_blank">
            Live Chat (Gitter) <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/dipy/dipy/discussions" target="_blank">
            Github Discussions <i class="fa-solid fa-arrow-up-long external-icon mar-l-5"></i>
          </a>
        </li>
                </ul>
            </li>
          

          <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-header-nav-more-links">
                    About
                </button>
                <ul id="pst-header-nav-more-links" class="dropdown-menu">
                    
        <li class="nav-item">
          <a class="nav-link" href="https://dipy.org/team">
            Team
          </a>
        </li>

      <li class="nav-item">
        <a class="nav-link" href="../faq.html">
          FAQ
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../user_guide/mission.html">
          Mission Statement
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../stateoftheart.html">
          Releases
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../cite.html">
          Cite
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../glossary.html">
          Glossary
        </a>
      </li>
                </ul>
            </li>
          
  </ul>
  
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="dipy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dipy</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.align.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">align</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.core.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.denoise.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">denoise</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.direction.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">direction</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.io.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.nn.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nn</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.reconst.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.segment.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.sims.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.stats.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.version.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">version</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.viz.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viz</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="dipy.workflows.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">workflows</span></code></a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><code...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-dipy.tracking">
<span id="tracking"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking</span></code><a class="headerlink" href="#module-dipy.tracking" title="Link to this heading">#</a></h1>
<p>Tracking objects</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
</div>
<section id="module-dipy.tracking._utils">
<span id="module-tracking-utils"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking._utils</span></code><a class="headerlink" href="#module-dipy.tracking._utils" title="Link to this heading">#</a></h2>
<p>This is a helper module for dipy.tracking.utils.</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.learning">
<span id="module-tracking-learning"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.learning</span></code><a class="headerlink" href="#module-dipy.tracking.learning" title="Link to this heading">#</a></h2>
<p>Learning algorithms for tractography</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.learning.detect_corresponding_tracks" title="dipy.tracking.learning.detect_corresponding_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_corresponding_tracks</span></code></a>(indices, ...)</p></td>
<td><p>Detect corresponding tracks from list tracks1 to list tracks2 where tracks1 &amp; tracks2 are lists of tracks</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.learning.detect_corresponding_tracks_plus" title="dipy.tracking.learning.detect_corresponding_tracks_plus"><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_corresponding_tracks_plus</span></code></a>(indices, ...)</p></td>
<td><p>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are sequences of tracks</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.life">
<span id="module-tracking-life"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.life</span></code><a class="headerlink" href="#module-dipy.tracking.life" title="Link to this heading">#</a></h2>
<p>This is an implementation of the Linear Fascicle Evaluation (LiFE) algorithm
described in <a class="footnote-reference brackets" href="#footcite-pestilli2014" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<section id="references">
<h3>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h3>
<div class="docutils container" id="id2">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-pestilli2014" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id4">2</a>)</span>
<p>Franco Pestilli, Jason D. Yeatman, Ariel Rokem, Kendrick N. Kay, and Brian A. Wandell. Evaluation and statistical inference for human connectomes. <em>Nature Methods</em>, 11(10):1058–1063, 2014. URL: <a class="reference external" href="https://doi.org/10.1038/nmeth.3098">https://doi.org/10.1038/nmeth.3098</a>, <a class="reference external" href="https://doi.org/10.1038/nmeth.3098">doi:10.1038/nmeth.3098</a>.</p>
</aside>
</aside>
</div>
</section>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.LifeSignalMaker" title="dipy.tracking.life.LifeSignalMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LifeSignalMaker</span></code></a>(gtab, *[, evals, sphere])</p></td>
<td><p>A class for generating signals from streamlines in an efficient and speedy manner.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.life.FiberModel" title="dipy.tracking.life.FiberModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FiberModel</span></code></a>(gtab)</p></td>
<td><p>A class for representing and solving predictive models based on tractography solutions.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.FiberFit" title="dipy.tracking.life.FiberFit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FiberFit</span></code></a>(fiber_model, life_matrix, ...)</p></td>
<td><p>A fit of the LiFE model to diffusion data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.life.gradient" title="dipy.tracking.life.gradient"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gradient</span></code></a>(f)</p></td>
<td><p>Return the gradient of an N-dimensional array.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.streamline_gradients" title="dipy.tracking.life.streamline_gradients"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamline_gradients</span></code></a>(streamline)</p></td>
<td><p>Calculate the gradients of the streamline along the spatial dimension</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.life.grad_tensor" title="dipy.tracking.life.grad_tensor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">grad_tensor</span></code></a>(grad, evals)</p></td>
<td><p>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical tensor shape (also as a 3 by 3), pointing at [1,0,0]</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.streamline_tensors" title="dipy.tracking.life.streamline_tensors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamline_tensors</span></code></a>(streamline, *[, evals])</p></td>
<td><p>The tensors generated by this fiber.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.life.streamline_signal" title="dipy.tracking.life.streamline_signal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamline_signal</span></code></a>(streamline, gtab, *[, evals])</p></td>
<td><p>The signal from a single streamline estimate along each of its nodes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.voxel2streamline" title="dipy.tracking.life.voxel2streamline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">voxel2streamline</span></code></a>(streamline, affine, *[, ...])</p></td>
<td><p>Maps voxels to streamlines and streamlines to voxels, for setting up the LiFE equations matrix</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.local_tracking">
<span id="module-tracking-local-tracking"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.local_tracking</span></code><a class="headerlink" href="#module-dipy.tracking.local_tracking" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.local_tracking.LocalTracking" title="dipy.tracking.local_tracking.LocalTracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocalTracking</span></code></a>(direction_getter, ...[, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.local_tracking.ParticleFilteringTracking" title="dipy.tracking.local_tracking.ParticleFilteringTracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParticleFilteringTracking</span></code></a>(direction_getter, ...)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.mesh">
<span id="module-tracking-mesh"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.mesh</span></code><a class="headerlink" href="#module-dipy.tracking.mesh" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.mesh.random_coordinates_from_surface" title="dipy.tracking.mesh.random_coordinates_from_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_coordinates_from_surface</span></code></a>(...[, ...])</p></td>
<td><p>Generate random triangles_indices and trilinear_coord</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.mesh.seeds_from_surface_coordinates" title="dipy.tracking.mesh.seeds_from_surface_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seeds_from_surface_coordinates</span></code></a>(triangles, ...)</p></td>
<td><p>Compute points from triangles_indices and trilinear_coord</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.mesh.triangles_area" title="dipy.tracking.mesh.triangles_area"><code class="xref py py-obj docutils literal notranslate"><span class="pre">triangles_area</span></code></a>(triangles, vts)</p></td>
<td><p>Compute the local area of each triangle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.mesh.vertices_to_triangles_values" title="dipy.tracking.mesh.vertices_to_triangles_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vertices_to_triangles_values</span></code></a>(triangles, ...)</p></td>
<td><p>Change from values per vertex to values per triangle</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.metrics">
<span id="module-tracking-metrics"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.metrics</span></code><a class="headerlink" href="#module-dipy.tracking.metrics" title="Link to this heading">#</a></h2>
<p>Metrics for tracks, where tracks are arrays of points</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.winding" title="dipy.tracking.metrics.winding"><code class="xref py py-obj docutils literal notranslate"><span class="pre">winding</span></code></a>(xyz)</p></td>
<td><p>Total turning angle projected.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.length" title="dipy.tracking.metrics.length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">length</span></code></a>(xyz, *[, along])</p></td>
<td><p>Euclidean length of track line</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.bytes" title="dipy.tracking.metrics.bytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a>(xyz)</p></td>
<td><p>Size of track in bytes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.midpoint" title="dipy.tracking.metrics.midpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">midpoint</span></code></a>(xyz)</p></td>
<td><p>Midpoint of track</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.center_of_mass" title="dipy.tracking.metrics.center_of_mass"><code class="xref py py-obj docutils literal notranslate"><span class="pre">center_of_mass</span></code></a>(xyz)</p></td>
<td><p>Center of mass of streamline</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.magn" title="dipy.tracking.metrics.magn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">magn</span></code></a>(xyz, *[, n])</p></td>
<td><p>magnitude of vector</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.frenet_serret" title="dipy.tracking.metrics.frenet_serret"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frenet_serret</span></code></a>(xyz)</p></td>
<td><p>Frenet-Serret Space Curve Invariants</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.mean_curvature" title="dipy.tracking.metrics.mean_curvature"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_curvature</span></code></a>(xyz)</p></td>
<td><p>Calculates the mean curvature of a curve</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.mean_orientation" title="dipy.tracking.metrics.mean_orientation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_orientation</span></code></a>(xyz)</p></td>
<td><p>Calculates the mean orientation of a curve</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.generate_combinations" title="dipy.tracking.metrics.generate_combinations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_combinations</span></code></a>(items, n)</p></td>
<td><p>Combine sets of size n from items</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.longest_track_bundle" title="dipy.tracking.metrics.longest_track_bundle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">longest_track_bundle</span></code></a>(bundle, *[, sort])</p></td>
<td><p>Return longest track or length sorted track indices in <cite>bundle</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.intersect_sphere" title="dipy.tracking.metrics.intersect_sphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intersect_sphere</span></code></a>(xyz, center, radius)</p></td>
<td><p>If any segment of the track is intersecting with a sphere of specific center and radius return True otherwise False</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.inside_sphere" title="dipy.tracking.metrics.inside_sphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inside_sphere</span></code></a>(xyz, center, radius)</p></td>
<td><p>If any point of the track is inside a sphere of a specified center and radius return True otherwise False.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.inside_sphere_points" title="dipy.tracking.metrics.inside_sphere_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inside_sphere_points</span></code></a>(xyz, center, radius)</p></td>
<td><p>If a track intersects with a sphere of a specified center and radius return the points that are inside the sphere otherwise False.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.spline" title="dipy.tracking.metrics.spline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spline</span></code></a>(xyz, *[, s, k, nest])</p></td>
<td><p>Generate B-splines as documented in <a class="reference external" href="https://scipy-cookbook.readthedocs.io/items/Interpolation.html">https://scipy-cookbook.readthedocs.io/items/Interpolation.html</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.startpoint" title="dipy.tracking.metrics.startpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">startpoint</span></code></a>(xyz)</p></td>
<td><p>First point of the track</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.endpoint" title="dipy.tracking.metrics.endpoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">endpoint</span></code></a>(xyz)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.arbitrarypoint" title="dipy.tracking.metrics.arbitrarypoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arbitrarypoint</span></code></a>(xyz, distance)</p></td>
<td><p>Select an arbitrary point along distance on the track (curve)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.metrics.principal_components" title="dipy.tracking.metrics.principal_components"><code class="xref py py-obj docutils literal notranslate"><span class="pre">principal_components</span></code></a>(xyz)</p></td>
<td><p>We use PCA to calculate the 3 principal directions for a track</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.metrics.midpoint2point" title="dipy.tracking.metrics.midpoint2point"><code class="xref py py-obj docutils literal notranslate"><span class="pre">midpoint2point</span></code></a>(xyz, p)</p></td>
<td><p>Calculate distance from midpoint of a curve to arbitrary point p</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.streamline">
<span id="module-tracking-streamline"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.streamline</span></code><a class="headerlink" href="#module-dipy.tracking.streamline" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.unlist_streamlines" title="dipy.tracking.streamline.unlist_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unlist_streamlines</span></code></a>(streamlines)</p></td>
<td><p>Return the streamlines not as a list but as an array and an offset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.relist_streamlines" title="dipy.tracking.streamline.relist_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relist_streamlines</span></code></a>(points, offsets)</p></td>
<td><p>Given a representation of a set of streamlines as a large array and an offsets array return the streamlines as a list of shorter arrays.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.center_streamlines" title="dipy.tracking.streamline.center_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">center_streamlines</span></code></a>(streamlines)</p></td>
<td><p>Move streamlines to the origin</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.deform_streamlines" title="dipy.tracking.streamline.deform_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deform_streamlines</span></code></a>(streamlines, ...)</p></td>
<td><p>Apply deformation field to streamlines</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.transform_streamlines" title="dipy.tracking.streamline.transform_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform_streamlines</span></code></a>(streamlines, mat, *[, ...])</p></td>
<td><p>Apply affine transformation to streamlines</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.select_random_set_of_streamlines" title="dipy.tracking.streamline.select_random_set_of_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_random_set_of_streamlines</span></code></a>(...[, rng])</p></td>
<td><p>Select a random set of streamlines</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.select_by_rois" title="dipy.tracking.streamline.select_by_rois"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_by_rois</span></code></a>(streamlines, affine, rois, ...)</p></td>
<td><p>Select streamlines based on logical relations with several regions of interest (ROIs).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.cluster_confidence" title="dipy.tracking.streamline.cluster_confidence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster_confidence</span></code></a>(streamlines, *[, ...])</p></td>
<td><p>Computes the cluster confidence index (cci), which is an estimation of the support a set of streamlines gives to a particular pathway.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.orient_by_rois" title="dipy.tracking.streamline.orient_by_rois"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orient_by_rois</span></code></a>(streamlines, affine, roi1, ...)</p></td>
<td><p>Orient a set of streamlines according to a pair of ROIs</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.orient_by_streamline" title="dipy.tracking.streamline.orient_by_streamline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orient_by_streamline</span></code></a>(streamlines, standard, *)</p></td>
<td><p>Orient a bundle of streamlines to a standard streamline.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.streamline.values_from_volume" title="dipy.tracking.streamline.values_from_volume"><code class="xref py py-obj docutils literal notranslate"><span class="pre">values_from_volume</span></code></a>(data, streamlines, affine)</p></td>
<td><p>Extract values of a scalar/vector along each streamline from a volume.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.streamline.nbytes" title="dipy.tracking.streamline.nbytes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nbytes</span></code></a>(streamlines)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.tracker">
<span id="module-tracking-tracker"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.tracker</span></code><a class="headerlink" href="#module-dipy.tracking.tracker" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.tracker.generic_tracking" title="dipy.tracking.tracker.generic_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generic_tracking</span></code></a>(seed_positions, ...[, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.tracker.probabilistic_tracking" title="dipy.tracking.tracker.probabilistic_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">probabilistic_tracking</span></code></a>(seed_positions, sc, ...)</p></td>
<td><p>Probabilistic tracking algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.tracker.deterministic_tracking" title="dipy.tracking.tracker.deterministic_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deterministic_tracking</span></code></a>(seed_positions, sc, ...)</p></td>
<td><p>Deterministic tracking algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.tracker.ptt_tracking" title="dipy.tracking.tracker.ptt_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ptt_tracking</span></code></a>(seed_positions, sc, affine, *)</p></td>
<td><p>Parallel Transport Tractography (PTT) tracking algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.tracker.closestpeak_tracking" title="dipy.tracking.tracker.closestpeak_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">closestpeak_tracking</span></code></a>(seed_positions, sc, ...)</p></td>
<td><p>Closest peak tracking algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.tracker.bootstrap_tracking" title="dipy.tracking.tracker.bootstrap_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bootstrap_tracking</span></code></a>(seed_positions, sc, affine, *)</p></td>
<td><p>Bootstrap tracking algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.tracker.eudx_tracking" title="dipy.tracking.tracker.eudx_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">eudx_tracking</span></code></a>(seed_positions, sc, affine, *)</p></td>
<td><p>EuDX tracking algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.tracker.pft_tracking" title="dipy.tracking.tracker.pft_tracking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pft_tracking</span></code></a>(seed_positions, sc, affine, *)</p></td>
<td><p>Particle Filtering Tracking (PFT) tracking algorithm.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-dipy.tracking.utils">
<span id="id3"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.utils</span></code><a class="headerlink" href="#module-dipy.tracking.utils" title="Link to this heading">#</a></h2>
<p>Various tools related to creating and working with streamlines.</p>
<p>This module provides tools for targeting streamlines using ROIs, for making
connectivity matrices from whole brain fiber tracking and some other tools that
allow streamlines to interact with image data.</p>
<section id="important-notes">
<h3>Important Notes<a class="headerlink" href="#important-notes" title="Link to this heading">#</a></h3>
<p>Dipy uses affine matrices to represent the relationship between streamline
points, which are defined as points in a continuous 3d space, and image voxels,
which are typically arranged in a discrete 3d grid. Dipy uses a convention
similar to nifti files to interpret these affine matrices. This convention is
that the point at the center of voxel <code class="docutils literal notranslate"><span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k]</span></code> is represented by the point
<code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z]</span></code> where <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">1]</span> <span class="pre">=</span> <span class="pre">affine</span> <span class="pre">*</span> <span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k,</span> <span class="pre">1]</span></code>.  Also when the
phrase “voxel coordinates” is used, it is understood to be the same as <code class="docutils literal notranslate"><span class="pre">affine</span>
<span class="pre">=</span> <span class="pre">eye(4)</span></code>.</p>
<p>As an example, let’s take a 2d image where the affine is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]]</span>
</pre></div>
</div>
<p>The pixels of an image with this affine would look something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">------------</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span> <span class="n">C</span> <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">----</span><span class="n">B</span><span class="o">--------</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">-------------</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>
<span class="o">------------</span><span class="n">D</span>
</pre></div>
</div>
<p>And the letters A-D represent the following points in
“real world coordinates”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.</span><span class="p">]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">.5</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">]</span>
<span class="n">C</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">]</span>
<span class="n">D</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">2.5</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">]</span>
</pre></div>
</div>
</section>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.density_map" title="dipy.tracking.utils.density_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">density_map</span></code></a>(streamlines, affine, vol_dims)</p></td>
<td><p>Count the number of unique streamlines that pass through each voxel.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.connectivity_matrix" title="dipy.tracking.utils.connectivity_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">connectivity_matrix</span></code></a>(streamlines, affine, ...)</p></td>
<td><p>Count the streamlines that start and end at each label pair.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.ndbincount" title="dipy.tracking.utils.ndbincount"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndbincount</span></code></a>(x, *[, weights, shape])</p></td>
<td><p>Like bincount, but for nd-indices.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.reduce_labels" title="dipy.tracking.utils.reduce_labels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce_labels</span></code></a>(label_volume)</p></td>
<td><p>Reduce an array of labels to the integers from 0 to n with smallest possible n.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.subsegment" title="dipy.tracking.utils.subsegment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subsegment</span></code></a>(streamlines, max_segment_length)</p></td>
<td><p>Split the segments of the streamlines into small segments.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.seeds_from_mask" title="dipy.tracking.utils.seeds_from_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seeds_from_mask</span></code></a>(mask, affine, *[, density])</p></td>
<td><p>Create seeds for fiber tracking from a binary mask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.random_seeds_from_mask" title="dipy.tracking.utils.random_seeds_from_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_seeds_from_mask</span></code></a>(mask, affine, *[, ...])</p></td>
<td><p>Create randomly placed seeds for fiber tracking from a binary mask.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.target" title="dipy.tracking.utils.target"><code class="xref py py-obj docutils literal notranslate"><span class="pre">target</span></code></a>(streamlines, affine, target_mask, *)</p></td>
<td><p>Filter streamlines based on whether or not they pass through an ROI.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.target_line_based" title="dipy.tracking.utils.target_line_based"><code class="xref py py-obj docutils literal notranslate"><span class="pre">target_line_based</span></code></a>(streamlines, affine, ...)</p></td>
<td><p>Filter streamlines based on whether or not they pass through a ROI, using a line-based algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.streamline_near_roi" title="dipy.tracking.utils.streamline_near_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamline_near_roi</span></code></a>(streamline, roi_coords, ...)</p></td>
<td><p>Is a streamline near an ROI.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.near_roi" title="dipy.tracking.utils.near_roi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">near_roi</span></code></a>(streamlines, affine, ...[, tol, mode])</p></td>
<td><p>Provide filtering criteria for a set of streamlines based on whether they fall within a tolerance distance from an ROI.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.length" title="dipy.tracking.utils.length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">length</span></code></a>(streamlines)</p></td>
<td><p>Calculate the lengths of many streamlines in a bundle.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.unique_rows" title="dipy.tracking.utils.unique_rows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unique_rows</span></code></a>(in_array, *[, dtype])</p></td>
<td><p>Find the unique rows in an array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.transform_tracking_output" title="dipy.tracking.utils.transform_tracking_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform_tracking_output</span></code></a>(tracking_output, ...)</p></td>
<td><p>Apply a linear transformation, given by affine, to streamlines.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.reduce_rois" title="dipy.tracking.utils.reduce_rois"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce_rois</span></code></a>(rois, include)</p></td>
<td><p>Reduce multiple ROIs to one inclusion and one exclusion ROI.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.path_length" title="dipy.tracking.utils.path_length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path_length</span></code></a>(streamlines, affine, aoi, *[, ...])</p></td>
<td><p>Compute the shortest path, along any streamline, between aoi and each voxel.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.max_angle_from_curvature" title="dipy.tracking.utils.max_angle_from_curvature"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_angle_from_curvature</span></code></a>(...)</p></td>
<td><p>Get the maximum deviation angle from the minimum radius curvature.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.utils.min_radius_curvature_from_angle" title="dipy.tracking.utils.min_radius_curvature_from_angle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">min_radius_curvature_from_angle</span></code></a>(max_angle, ...)</p></td>
<td><p>Get minimum radius of curvature from a deviation angle.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.utils.seeds_directions_pairs" title="dipy.tracking.utils.seeds_directions_pairs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seeds_directions_pairs</span></code></a>(positions, peaks, *)</p></td>
<td><p>Pair each seed to the corresponding peaks.</p></td>
</tr>
</tbody>
</table>
</div>
<section id="detect-corresponding-tracks">
<h3>detect_corresponding_tracks<a class="headerlink" href="#detect-corresponding-tracks" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.learning.detect_corresponding_tracks">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.learning.</span></span><span class="sig-name descname"><span class="pre">detect_corresponding_tracks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/learning.html#detect_corresponding_tracks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.learning.detect_corresponding_tracks" title="Link to this definition">#</a></dt>
<dd><p>Detect corresponding tracks from list tracks1 to list tracks2
where tracks1 &amp; tracks2 are lists of tracks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>indices</strong><span class="classifier">sequence</span></dt><dd><p>of indices of tracks1 that are to be detected in tracks2</p>
</dd>
<dt><strong>tracks1</strong><span class="classifier">sequence</span></dt><dd><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>
</dd>
<dt><strong>tracks2</strong><span class="classifier">sequence</span></dt><dd><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>track2track</strong><span class="classifier">array (N,2) where N is len(indices) of int</span></dt><dd><p>it shows the correspondence in the following way:
the first column is the current index in tracks1
the second column is the corresponding index in tracks2</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To find the corresponding tracks we use mam_distances with ‘avg’ option.
Then we calculate the argmin of all the calculated distances and return it
for every index. (See 3rd column of arr in the example given below.)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dipy.tracking.learning</span> <span class="k">as</span> <span class="nn">tl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle1</span> <span class="o">=</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle2</span> <span class="o">=</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">detect_corresponding_tracks</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">bundle1</span><span class="p">,</span> <span class="n">bundle2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="detect-corresponding-tracks-plus">
<h3>detect_corresponding_tracks_plus<a class="headerlink" href="#detect-corresponding-tracks-plus" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.learning.detect_corresponding_tracks_plus">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.learning.</span></span><span class="sig-name descname"><span class="pre">detect_corresponding_tracks_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracks2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/learning.html#detect_corresponding_tracks_plus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.learning.detect_corresponding_tracks_plus" title="Link to this definition">#</a></dt>
<dd><p>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are
sequences of tracks</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>indices</strong><span class="classifier">sequence</span></dt><dd><p>of indices of tracks1 that are to be detected in tracks2</p>
</dd>
<dt><strong>tracks1</strong><span class="classifier">sequence</span></dt><dd><p>of tracks as arrays, shape (N1,3) .. (Nm,3)</p>
</dd>
<dt><strong>indices2</strong><span class="classifier">sequence</span></dt><dd><p>of indices of tracks2 in the initial brain</p>
</dd>
<dt><strong>tracks2</strong><span class="classifier">sequence</span></dt><dd><p>of tracks as arrays, shape (M1,3) .. (Mm,3)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>track2track</strong><span class="classifier">array (N,2) where N is len(indices)</span></dt><dd><p>of int showing the correspondence in th following way
the first column is the current index of tracks1
the second column is the corresponding index in tracks2</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">distances.mam_distances</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>To find the corresponding tracks we use mam_distances with ‘avg’ option.
Then we calculate the argmin of all the calculated distances and return it
for every index. (See 3rd column of arr in the example given below.)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dipy.tracking.learning</span> <span class="k">as</span> <span class="nn">tl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle1</span> <span class="o">=</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle2</span> <span class="o">=</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">A</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">indices2</span> <span class="o">=</span> <span class="n">indices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">tl</span><span class="o">.</span><span class="n">detect_corresponding_tracks_plus</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">bundle1</span><span class="p">,</span> <span class="n">indices2</span><span class="p">,</span> <span class="n">bundle2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="lifesignalmaker">
<h3><a class="reference internal" href="#dipy.tracking.life.LifeSignalMaker" title="dipy.tracking.life.LifeSignalMaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">LifeSignalMaker</span></code></a><a class="headerlink" href="#lifesignalmaker" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.tracking.life.LifeSignalMaker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">LifeSignalMaker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gtab</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.001,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#LifeSignalMaker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.LifeSignalMaker" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for generating signals from streamlines in an efficient and speedy
manner.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.LifeSignalMaker.streamline_signal" title="dipy.tracking.life.LifeSignalMaker.streamline_signal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamline_signal</span></code></a>(streamline)</p></td>
<td><p>Approximate the signal for a given streamline</p></td>
</tr>
</tbody>
</table>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>calc_signal</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.tracking.life.LifeSignalMaker.calc_signal">
<span class="sig-name descname"><span class="pre">calc_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#LifeSignalMaker.calc_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.LifeSignalMaker.calc_signal" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.tracking.life.LifeSignalMaker.streamline_signal">
<span class="sig-name descname"><span class="pre">streamline_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#LifeSignalMaker.streamline_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.LifeSignalMaker.streamline_signal" title="Link to this definition">#</a></dt>
<dd><p>Approximate the signal for a given streamline</p>
</dd></dl>

</dd></dl>

</section>
<section id="fibermodel">
<h3><a class="reference internal" href="#dipy.tracking.life.FiberModel" title="dipy.tracking.life.FiberModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiberModel</span></code></a><a class="headerlink" href="#fibermodel" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.tracking.life.FiberModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">FiberModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gtab</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#FiberModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.FiberModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.base.ReconstModel" title="dipy.reconst.base.ReconstModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconstModel</span></code></a></p>
<p>A class for representing and solving predictive models based on
tractography solutions.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.FiberModel.fit" title="dipy.tracking.life.FiberModel.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(data, streamline, affine, *[, evals, sphere])</p></td>
<td><p>Fit the LiFE FiberModel for data and a set of streamlines associated with this data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.tracking.life.FiberModel.setup" title="dipy.tracking.life.FiberModel.setup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup</span></code></a>(streamline, affine, *[, evals, sphere])</p></td>
<td><p>Set up the necessary components for the LiFE model: the matrix of fiber-contributions to the DWI signal, and the coordinates of voxels for which the equations will be solved</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Notes</p>
<p>This is an implementation of the LiFE model described in
<a class="footnote-reference brackets" href="#footcite-pestilli2014" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p class="rubric">References</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.tracking.life.FiberModel.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.001,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#FiberModel.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.FiberModel.fit" title="Link to this definition">#</a></dt>
<dd><p>Fit the LiFE FiberModel for data and a set of streamlines associated
with this data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">4D array</span></dt><dd><p>Diffusion-weighted data</p>
</dd>
<dt><strong>streamline</strong><span class="classifier">list</span></dt><dd><p>A bunch of streamlines</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>evals</strong><span class="classifier">array-like, optional</span></dt><dd><p>The eigenvalues of the tensor response function used in
constructing the model signal. Default: [0.001, 0, 0]</p>
</dd>
<dt><strong>sphere: `dipy.core.Sphere` instance or False, optional</strong></dt><dd><p>Whether to approximate (and cache) the signal on a discrete
sphere. This may confer a significant speed-up in setting up the
problem, but is not as accurate. If <cite>False</cite>, we use the exact
gradients along the streamlines to calculate the matrix, instead of
an approximation.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>FiberFit class instance</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.tracking.life.FiberModel.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.001,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#FiberModel.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.FiberModel.setup" title="Link to this definition">#</a></dt>
<dd><p>Set up the necessary components for the LiFE model: the matrix of
fiber-contributions to the DWI signal, and the coordinates of voxels
for which the equations will be solved</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamline</strong><span class="classifier">list</span></dt><dd><p>Streamlines, each is an array of shape (n, 3)</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>evals</strong><span class="classifier">array-like (3 items, optional)</span></dt><dd><p>The eigenvalues of the canonical tensor used as a response
function. Default:[0.001, 0, 0].</p>
</dd>
<dt><strong>sphere: `dipy.core.Sphere` instance, optional</strong></dt><dd><p>Whether to approximate (and cache) the signal on a discrete
sphere. This may confer a significant speed-up in setting up the
problem, but is not as accurate. If <cite>False</cite>, we use the exact
gradients along the streamlines to calculate the matrix, instead of
an approximation. Defaults to use the 724-vertex symmetric sphere
from <a class="reference internal" href="dipy.data.html#module-dipy.data" title="dipy.data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dipy.data</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="fiberfit">
<h3><a class="reference internal" href="#dipy.tracking.life.FiberFit" title="dipy.tracking.life.FiberFit"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiberFit</span></code></a><a class="headerlink" href="#fiberfit" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.tracking.life.FiberFit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">FiberFit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fiber_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">life_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vox_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weighted_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b0_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vox_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#FiberFit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.FiberFit" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="dipy.reconst.html#dipy.reconst.base.ReconstFit" title="dipy.reconst.base.ReconstFit"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReconstFit</span></code></a></p>
<p>A fit of the LiFE model to diffusion data</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.tracking.life.FiberFit.predict" title="dipy.tracking.life.FiberFit.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict</span></code></a>(*[, gtab, S0])</p></td>
<td><p>Predict the signal</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.tracking.life.FiberFit.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gtab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#FiberFit.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.FiberFit.predict" title="Link to this definition">#</a></dt>
<dd><p>Predict the signal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>gtab</strong><span class="classifier">GradientTable</span></dt><dd><p>Default: use self.gtab</p>
</dd>
<dt><strong>S0</strong><span class="classifier">float or array</span></dt><dd><p>The non-diffusion-weighted signal in the voxels for which a
prediction is made. Default: use self.b0_signal</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>prediction</strong><span class="classifier">ndarray of shape (voxels, bvecs)</span></dt><dd><p>An array with a prediction of the signal in each voxel/direction</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="gradient">
<h3>gradient<a class="headerlink" href="#gradient" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.gradient">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#gradient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.gradient" title="Link to this definition">#</a></dt>
<dd><p>Return the gradient of an N-dimensional array.</p>
<p>The gradient is computed using central differences in the interior
and first differences at the boundaries. The returned gradient hence has
the same shape as the input array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f</strong><span class="classifier">array_like</span></dt><dd><p>An N-dimensional array containing samples of a scalar function.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>gradient</strong><span class="classifier">ndarray</span></dt><dd><p>N arrays of the same shape as <cite>f</cite> giving the derivative of <cite>f</cite> with
respect to each dimension.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a simplified implementation of gradient that is part of numpy
1.8. In order to mitigate the effects of changes added to this
implementation in version 1.9 of numpy, we include this implementation
here.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gradient</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">array([ 1. ,  1.5,  2.5,  3.5,  4.5,  5. ])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gradient</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
<span class="go">[array([[ 2.,  2., -1.],</span>
<span class="go">       [ 2.,  2., -1.]]), array([[ 1. ,  2.5,  4. ],</span>
<span class="go">       [ 1. ,  1. ,  1. ]])]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="streamline-gradients">
<h3>streamline_gradients<a class="headerlink" href="#streamline-gradients" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.streamline_gradients">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">streamline_gradients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#streamline_gradients"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.streamline_gradients" title="Link to this definition">#</a></dt>
<dd><p>Calculate the gradients of the streamline along the spatial dimension</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamline</strong><span class="classifier">array-like of shape (n, 3)</span></dt><dd><p>The 3d coordinates of a single streamline</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Array of shape (3, n): Spatial gradients along the length of the</dt><dd></dd>
<dt>streamline.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="grad-tensor">
<h3>grad_tensor<a class="headerlink" href="#grad-tensor" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.grad_tensor">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">grad_tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#grad_tensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.grad_tensor" title="Link to this definition">#</a></dt>
<dd><p>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical
tensor shape (also as a 3 by 3), pointing at [1,0,0]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grad</strong><span class="classifier">1d array of shape (3,)</span></dt><dd><p>The spatial gradient (e.g between two nodes of a streamline).</p>
</dd>
<dt><strong>evals: 1d array of shape (3,)</strong></dt><dd><p>The eigenvalues of a canonical tensor to be used as a response
function.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="streamline-tensors">
<h3>streamline_tensors<a class="headerlink" href="#streamline-tensors" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.streamline_tensors">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">streamline_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.001,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#streamline_tensors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.streamline_tensors" title="Link to this definition">#</a></dt>
<dd><p>The tensors generated by this fiber.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamline</strong><span class="classifier">array-like of shape (n, 3)</span></dt><dd><p>The 3d coordinates of a single streamline</p>
</dd>
<dt><strong>evals</strong><span class="classifier">iterable with three entries, optional</span></dt><dd><p>The estimated eigenvalues of a single fiber tensor.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>An n_nodes by 3 by 3 array with the tensor for each node in the fiber.</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Estimates of the radial/axial diffusivities may rely on
empirical measurements (for example, the AD in the Corpus Callosum), or
may be based on a biophysical model of some kind.</p>
</dd></dl>

</section>
<section id="streamline-signal">
<h3>streamline_signal<a class="headerlink" href="#streamline-signal" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.streamline_signal">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">streamline_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gtab</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.001,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#streamline_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.streamline_signal" title="Link to this definition">#</a></dt>
<dd><p>The signal from a single streamline estimate along each of its nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamline</strong><span class="classifier">a single streamline</span></dt><dd><p>Streamline data.</p>
</dd>
<dt><strong>gtab</strong><span class="classifier">GradientTable class instance</span></dt><dd><p>Gradient table.</p>
</dd>
<dt><strong>evals</strong><span class="classifier">array-like of length 3, optional</span></dt><dd><p>The eigenvalues of the canonical tensor used as an estimate of the
signal generated by each node of the streamline.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="voxel2streamline">
<h3>voxel2streamline<a class="headerlink" href="#voxel2streamline" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.life.voxel2streamline">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.life.</span></span><span class="sig-name descname"><span class="pre">voxel2streamline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/life.html#voxel2streamline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.life.voxel2streamline" title="Link to this definition">#</a></dt>
<dd><p>Maps voxels to streamlines and streamlines to voxels, for setting up
the LiFE equations matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamline</strong><span class="classifier">list</span></dt><dd><p>A collection of streamlines, each n by 3, with n being the number of
nodes in the fiber.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>unique_idx</strong><span class="classifier">array, optional.</span></dt><dd><p>The unique indices in the streamlines</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>v2f, v2fn</strong><span class="classifier">tuple of dicts</span></dt><dd></dd>
<dt>The first dict in the tuple answers the question: Given a voxel (from</dt><dd></dd>
<dt>the unique indices in this model), which fibers pass through it?</dt><dd></dd>
<dt>The second answers the question: Given a streamline, for each voxel that</dt><dd></dd>
<dt>this streamline passes through, which nodes of that streamline are in that</dt><dd></dd>
<dt>voxel?</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="localtracking">
<h3><a class="reference internal" href="#dipy.tracking.local_tracking.LocalTracking" title="dipy.tracking.local_tracking.LocalTracking"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalTracking</span></code></a><a class="headerlink" href="#localtracking" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.tracking.local_tracking.LocalTracking">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.tracking.local_tracking.</span></span><span class="sig-name descname"><span class="pre">LocalTracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction_getter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stopping_criterion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cross</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixedstep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize_forward_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/local_tracking.html#LocalTracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.local_tracking.LocalTracking" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</section>
<section id="particlefilteringtracking">
<h3><a class="reference internal" href="#dipy.tracking.local_tracking.ParticleFilteringTracking" title="dipy.tracking.local_tracking.ParticleFilteringTracking"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParticleFilteringTracking</span></code></a><a class="headerlink" href="#particlefilteringtracking" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.tracking.local_tracking.ParticleFilteringTracking">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.tracking.local_tracking.</span></span><span class="sig-name descname"><span class="pre">ParticleFilteringTracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction_getter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stopping_criterion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cross</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minlen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_back_tracking_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_front_tracking_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_max_trial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_wm_pve_before_stopping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize_forward_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/local_tracking.html#ParticleFilteringTracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.local_tracking.ParticleFilteringTracking" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.tracking.local_tracking.LocalTracking" title="dipy.tracking.local_tracking.LocalTracking"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalTracking</span></code></a></p>
</dd></dl>

</section>
<section id="random-coordinates-from-surface">
<h3>random_coordinates_from_surface<a class="headerlink" href="#random-coordinates-from-surface" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.mesh.random_coordinates_from_surface">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.mesh.</span></span><span class="sig-name descname"><span class="pre">random_coordinates_from_surface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nb_triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_seed</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangles_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangles_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rand_gen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/mesh.html#random_coordinates_from_surface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.mesh.random_coordinates_from_surface" title="Link to this definition">#</a></dt>
<dd><p>Generate random triangles_indices and trilinear_coord</p>
<dl class="simple">
<dt>Triangles_indices probability are weighted by triangles_weight,</dt><dd><p>for each triangles inside the given triangles_mask</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nb_triangles</strong><span class="classifier">int (n)</span></dt><dd><p>The amount of triangles in the mesh</p>
</dd>
<dt><strong>nb_seed</strong><span class="classifier">int</span></dt><dd><p>The number of random indices and coordinates generated.</p>
</dd>
<dt><strong>triangles_mask</strong><span class="classifier">[n] numpy array</span></dt><dd><p>Specifies which triangles should be chosen (or not)</p>
</dd>
<dt><strong>triangles_weight</strong><span class="classifier">[n] numpy array</span></dt><dd><p>Specifies the weight/probability of choosing each triangle</p>
</dd>
<dt><strong>rand_gen</strong><span class="classifier">int</span></dt><dd><p>The seed for the random seed generator (numpy.random.seed).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>triangles_idx: [s] array</dt><dd><p>Randomly chosen triangles_indices</p>
</dd>
<dt>trilin_coord: [s,3] array</dt><dd><p>Randomly chosen trilinear_coordinates</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.mesh.seeds_from_surface_coordinates" title="dipy.tracking.mesh.seeds_from_surface_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seeds_from_surface_coordinates</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">random_seeds_from_mask</span></code></dt><dd></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="seeds-from-surface-coordinates">
<h3>seeds_from_surface_coordinates<a class="headerlink" href="#seeds-from-surface-coordinates" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.mesh.seeds_from_surface_coordinates">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.mesh.</span></span><span class="sig-name descname"><span class="pre">seeds_from_surface_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vts_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangles_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trilinear_coord</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/mesh.html#seeds_from_surface_coordinates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.mesh.seeds_from_surface_coordinates" title="Link to this definition">#</a></dt>
<dd><p>Compute points from triangles_indices and trilinear_coord</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>triangles</strong><span class="classifier">[n, 3] -&gt; m array</span></dt><dd><p>A list of triangles from a mesh</p>
</dd>
<dt><strong>vts_values</strong><span class="classifier">[m, .] array</span></dt><dd><p>List of values to interpolates from coordinates along vertices,
(vertices, vertices_normal, vertices_colors …)</p>
</dd>
<dt><strong>triangles_idx</strong><span class="classifier">[s] array</span></dt><dd><p>Specifies which triangles should be chosen (or not)</p>
</dd>
<dt><strong>trilinear_coord</strong><span class="classifier">[s, 3] array</span></dt><dd><p>Specifies the weight/probability of choosing each triangle</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pts</strong><span class="classifier">[s, …] array</span></dt><dd><p>Interpolated values of vertices with triangles_idx and trilinear_coord</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.mesh.random_coordinates_from_surface" title="dipy.tracking.mesh.random_coordinates_from_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_coordinates_from_surface</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="triangles-area">
<h3>triangles_area<a class="headerlink" href="#triangles-area" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.mesh.triangles_area">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.mesh.</span></span><span class="sig-name descname"><span class="pre">triangles_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/mesh.html#triangles_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.mesh.triangles_area" title="Link to this definition">#</a></dt>
<dd><p>Compute the local area of each triangle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>triangles</strong><span class="classifier">[n, 3] -&gt; m array</span></dt><dd><p>A list of triangles from a mesh</p>
</dd>
<dt><strong>vts</strong><span class="classifier">[m, .] array</span></dt><dd><p>List of vertices</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>triangles_area</strong><span class="classifier">[m] array</span></dt><dd><p>List of area for each triangle in the mesh</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.mesh.random_coordinates_from_surface" title="dipy.tracking.mesh.random_coordinates_from_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_coordinates_from_surface</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="vertices-to-triangles-values">
<h3>vertices_to_triangles_values<a class="headerlink" href="#vertices-to-triangles-values" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.mesh.vertices_to_triangles_values">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.mesh.</span></span><span class="sig-name descname"><span class="pre">vertices_to_triangles_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vts_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/mesh.html#vertices_to_triangles_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.mesh.vertices_to_triangles_values" title="Link to this definition">#</a></dt>
<dd><p>Change from values per vertex to values per triangle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>triangles</strong><span class="classifier">[n, 3] -&gt; m array</span></dt><dd><p>A list of triangles from a mesh</p>
</dd>
<dt><strong>vts_values</strong><span class="classifier">[m, .] array</span></dt><dd><p>List of values to interpolates from coordinates along vertices,
(vertices, vertices_normal, vertices_colors …)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>triangles_values</strong><span class="classifier">[m] array</span></dt><dd><p>List of values for each triangle in the mesh</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.mesh.random_coordinates_from_surface" title="dipy.tracking.mesh.random_coordinates_from_surface"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_coordinates_from_surface</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="winding">
<h3>winding<a class="headerlink" href="#winding" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.winding">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">winding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#winding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.winding" title="Link to this definition">#</a></dt>
<dd><p>Total turning angle projected.</p>
<p>Project space curve to best fitting plane. Calculate the cumulative signed
angle between each line segment and the previous one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>Array representing x,y,z of N points in a track.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>a</strong><span class="classifier">scalar</span></dt><dd><p>Total turning angle in degrees.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="length">
<h3>length<a class="headerlink" href="#length" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.length">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">along</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.length" title="Link to this definition">#</a></dt>
<dd><p>Euclidean length of track line</p>
<p>This will give length in mm if tracks are expressed in world coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
<dt><strong>along</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, return array giving cumulative length along track,
otherwise (default) return scalar giving total length.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>L</strong><span class="classifier">scalar or array shape (N-1,)</span></dt><dd><p>scalar in case of <cite>along</cite> == False, giving total length, array if
<cite>along</cite> == True, giving cumulative lengths.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expected_lens</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">([</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">4</span><span class="o">**</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected_lens</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">len_along</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">along</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">len_along</span><span class="p">,</span> <span class="n">expected_lens</span><span class="o">.</span><span class="n">cumsum</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="p">([],</span> <span class="n">along</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">array([0])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="bytes">
<h3>bytes<a class="headerlink" href="#bytes" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.bytes">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.bytes" title="Link to this definition">#</a></dt>
<dd><p>Size of track in bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>Array representing x,y,z of N points in a track.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>b</strong><span class="classifier">int</span></dt><dd><p>Number of bytes.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="midpoint">
<h3>midpoint<a class="headerlink" href="#midpoint" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.midpoint">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">midpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#midpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.midpoint" title="Link to this definition">#</a></dt>
<dd><p>Midpoint of track</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>mp</strong><span class="classifier">array shape (3,)</span></dt><dd><p>Middle point of line, such that, if L is the line length then
<cite>np</cite> is the point such that the length xyz[0] to <cite>mp</cite> and from
<cite>mp</cite> to xyz[-1] is L/2.  If the middle point is not a point in
<cite>xyz</cite>, then we take the interpolation between the two nearest
<cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">midpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">   </span><span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">xyz array cannot be empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">array([1, 2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  2. ,  2.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.,  1.,  1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  0. ,  0. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">midpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.5,  9. ,  7. ])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="center-of-mass">
<h3>center_of_mass<a class="headerlink" href="#center-of-mass" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.center_of_mass">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">center_of_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#center_of_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.center_of_mass" title="Link to this definition">#</a></dt>
<dd><p>Center of mass of streamline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>com</strong><span class="classifier">array shape (3,)</span></dt><dd><p>center of mass of streamline</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">center_of_mass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">   </span><span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">xyz array cannot be empty</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">array([ 1.,  1.,  1.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">center_of_mass</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">array([ 1.,  1.,  1.])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="magn">
<h3>magn<a class="headerlink" href="#magn" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.magn">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">magn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#magn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.magn" title="Link to this definition">#</a></dt>
<dd><p>magnitude of vector</p>
</dd></dl>

</section>
<section id="frenet-serret">
<h3>frenet_serret<a class="headerlink" href="#frenet-serret" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.frenet_serret">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">frenet_serret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#frenet_serret"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.frenet_serret" title="Link to this definition">#</a></dt>
<dd><p>Frenet-Serret Space Curve Invariants</p>
<p>Calculates the 3 vector and 2 scalar invariants of a space curve
defined by vectors r = (x,y,z).  If z is omitted (i.e. the array xyz has
shape (N,2)), then the curve is
only 2D (planar), but the equations are still valid.</p>
<p>Similar to
<a class="reference external" href="https://www.mathworks.com/matlabcentral/fileexchange/11169-frenet">https://www.mathworks.com/matlabcentral/fileexchange/11169-frenet</a></p>
<p>In the following equations the prime (<span class="math notranslate nohighlight">\('\)</span>) indicates differentiation
with respect to the parameter <span class="math notranslate nohighlight">\(s\)</span> of a parametrised curve <span class="math notranslate nohighlight">\(\mathbf{r}(s)\)</span>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{T}=\mathbf{r'}/|\mathbf{r'}|\qquad\)</span> (Tangent vector)}</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{N}=\mathbf{T'}/|\mathbf{T'}|\qquad\)</span> (Normal vector)</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{B}=\mathbf{T}\times\mathbf{N}\qquad\)</span> (Binormal vector)</p></li>
<li><p><span class="math notranslate nohighlight">\(\kappa=|\mathbf{T'}|\qquad\)</span> (Curvature)</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathrm{\tau}=-\mathbf{B'}\cdot\mathbf{N}\)</span> (Torsion)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>T</strong><span class="classifier">array shape (N,3)</span></dt><dd><p>array representing the tangent of the curve xyz</p>
</dd>
<dt><strong>N</strong><span class="classifier">array shape (N,3)</span></dt><dd><p>array representing the normal of the curve xyz</p>
</dd>
<dt><strong>B</strong><span class="classifier">array shape (N,3)</span></dt><dd><p>array representing the binormal of the curve xyz</p>
</dd>
<dt><strong>k</strong><span class="classifier">array shape (N,1)</span></dt><dd><p>array representing the curvature of the curve xyz</p>
</dd>
<dt><strong>t</strong><span class="classifier">array shape (N,1)</span></dt><dd><p>array representing the torsion of the curve xyz</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Create a helix and calculate its tangent, normal, binormal, curvature
and torsion</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="k">as</span> <span class="n">tm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="n">theta</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="n">tm</span><span class="o">.</span><span class="n">frenet_serret</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="mean-curvature">
<h3>mean_curvature<a class="headerlink" href="#mean-curvature" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.mean_curvature">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">mean_curvature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#mean_curvature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.mean_curvature" title="Link to this definition">#</a></dt>
<dd><p>Calculates the mean curvature of a curve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a curve</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>m</strong><span class="classifier">float</span></dt><dd><p>Mean curvature.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Create a straight line and a semi-circle and print their mean curvatures</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="k">as</span> <span class="n">tm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">tm</span><span class="o">.</span><span class="n">mean_curvature</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="c1">#mean curvature straight line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span><span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">mean_curvature</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span> <span class="c1">#mean curvature for semi-circle</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="mean-orientation">
<h3>mean_orientation<a class="headerlink" href="#mean-orientation" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.mean_orientation">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">mean_orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#mean_orientation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.mean_orientation" title="Link to this definition">#</a></dt>
<dd><p>Calculates the mean orientation of a curve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a curve</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>m</strong><span class="classifier">float</span></dt><dd><p>Mean orientation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="generate-combinations">
<h3>generate_combinations<a class="headerlink" href="#generate-combinations" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.generate_combinations">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">generate_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#generate_combinations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.generate_combinations" title="Link to this definition">#</a></dt>
<dd><p>Combine sets of size n from items</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>items</strong><span class="classifier">sequence</span></dt><dd></dd>
<dt><strong>n</strong><span class="classifier">int</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ic</strong><span class="classifier">iterator</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">generate_combinations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ic</span><span class="o">=</span><span class="n">generate_combinations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ic</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">[0, 1]</span>
<span class="go">[0, 2]</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="longest-track-bundle">
<h3>longest_track_bundle<a class="headerlink" href="#longest-track-bundle" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.longest_track_bundle">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">longest_track_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#longest_track_bundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.longest_track_bundle" title="Link to this definition">#</a></dt>
<dd><p>Return longest track or length sorted track indices in <cite>bundle</cite></p>
<p>If <cite>sort</cite> == True, return the indices of the sorted tracks in the
bundle, otherwise return the longest track.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>bundle</strong><span class="classifier">sequence</span></dt><dd><p>of tracks as arrays, shape (N1,3) … (Nm,3)</p>
</dd>
<dt><strong>sort</strong><span class="classifier">bool, optional</span></dt><dd><p>If False (default) return longest track.  If True, return length
sorted indices for tracks in bundle</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>longest_or_indices</strong><span class="classifier">array</span></dt><dd><p>longest track - shape (N,3) -  (if <cite>sort</cite> is False), or indices
of length sorted tracks (if <cite>sort</cite> is True)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">longest_track_bundle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bundle</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">longest_track_bundle</span><span class="p">(</span><span class="n">bundle</span><span class="p">)</span>
<span class="go">array([[0, 0, 0],</span>
<span class="go">       [4, 4, 4]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">longest_track_bundle</span><span class="p">(</span><span class="n">bundle</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="go">array([0, 1]...)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="intersect-sphere">
<h3>intersect_sphere<a class="headerlink" href="#intersect-sphere" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.intersect_sphere">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">intersect_sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#intersect_sphere"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.intersect_sphere" title="Link to this definition">#</a></dt>
<dd><p>If any segment of the track is intersecting with a sphere of
specific center and radius return True otherwise False</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape (N,3)</span></dt><dd><p>representing x,y,z of the N points of the track</p>
</dd>
<dt><strong>center</strong><span class="classifier">array, shape (3,)</span></dt><dd><p>center of the sphere</p>
</dd>
<dt><strong>radius</strong><span class="classifier">float</span></dt><dd><p>radius of the sphere</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>tf</strong><span class="classifier">{True, False}</span></dt><dd><p>True if track <cite>xyz</cite> intersects sphere</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">intersect_sphere</span>
<span class="go">    ..</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">    ..</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sph_cent</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">    ..</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sph_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="go">    ..</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">intersect_sphere</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">sph_cent</span><span class="p">,</span><span class="n">sph_radius</span><span class="p">)</span>
<span class="go">    ..</span>
</pre></div>
</div>
<dl class="simple">
<dt>True</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The ray to sphere intersection method used here is similar with
<a class="reference external" href="https://paulbourke.net/geometry/circlesphere/">https://paulbourke.net/geometry/circlesphere/</a>
<a class="reference external" href="https://paulbourke.net/geometry/circlesphere/source.cpp">https://paulbourke.net/geometry/circlesphere/source.cpp</a>
we just applied it for every segment neglecting the intersections where
the intersecting points are not inside the segment</p>
</dd></dl>

</section>
<section id="inside-sphere">
<h3>inside_sphere<a class="headerlink" href="#inside-sphere" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.inside_sphere">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">inside_sphere</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#inside_sphere"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.inside_sphere" title="Link to this definition">#</a></dt>
<dd><p>If any point of the track is inside a sphere of a specified
center and radius return True otherwise False.  Mathematically this
can be simply described by <span class="math notranslate nohighlight">\(|x-c|\le r\)</span> where <span class="math notranslate nohighlight">\(x\)</span> a point <span class="math notranslate nohighlight">\(c\)</span> the
center of the sphere and <span class="math notranslate nohighlight">\(r\)</span> the radius of the sphere.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape (N,3)</span></dt><dd><p>representing x,y,z of the N points of the track</p>
</dd>
<dt><strong>center</strong><span class="classifier">array, shape (3,)</span></dt><dd><p>center of the sphere</p>
</dd>
<dt><strong>radius</strong><span class="classifier">float</span></dt><dd><p>radius of the sphere</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>tf</strong><span class="classifier">{True,False}</span></dt><dd><p>Whether point is inside sphere.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">inside_sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_cent</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inside_sphere</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">sph_cent</span><span class="p">,</span><span class="n">sph_radius</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="inside-sphere-points">
<h3>inside_sphere_points<a class="headerlink" href="#inside-sphere-points" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.inside_sphere_points">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">inside_sphere_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#inside_sphere_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.inside_sphere_points" title="Link to this definition">#</a></dt>
<dd><p>If a track intersects with a sphere of a specified center and
radius return the points that are inside the sphere otherwise False.
Mathematically this can be simply described by <span class="math notranslate nohighlight">\(|x-c| \le r\)</span> where <span class="math notranslate nohighlight">\(x\)</span>
a point <span class="math notranslate nohighlight">\(c\)</span> the center of the sphere and <span class="math notranslate nohighlight">\(r\)</span> the radius of the
sphere.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape (N,3)</span></dt><dd><p>representing x,y,z of the N points of the track</p>
</dd>
<dt><strong>center</strong><span class="classifier">array, shape (3,)</span></dt><dd><p>center of the sphere</p>
</dd>
<dt><strong>radius</strong><span class="classifier">float</span></dt><dd><p>radius of the sphere</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>xyzn</strong><span class="classifier">array, shape(M,3)</span></dt><dd><p>array representing x,y,z of the M points inside the sphere</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">inside_sphere_points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_cent</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sph_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inside_sphere_points</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">sph_cent</span><span class="p">,</span><span class="n">sph_radius</span><span class="p">)</span>
<span class="go">array([[1, 1, 1]])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="spline">
<h3>spline<a class="headerlink" href="#spline" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.spline">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">spline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#spline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.spline" title="Link to this definition">#</a></dt>
<dd><p>Generate B-splines as documented in
<a class="reference external" href="https://scipy-cookbook.readthedocs.io/items/Interpolation.html">https://scipy-cookbook.readthedocs.io/items/Interpolation.html</a></p>
<p>The scipy.interpolate packages wraps the netlib FITPACK routines
(Dierckx) for calculating smoothing splines for various kinds of
data and geometries. Although the data is evenly spaced in this
example, it need not be so to use this routine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in 3d space</p>
</dd>
<dt><strong>s</strong><span class="classifier">float, optional</span></dt><dd><p>A smoothing condition.  The amount of smoothness is determined by
satisfying the conditions: sum((w * (y - g))**2,axis=0) &lt;= s
where g(x) is the smoothed interpolation of (x,y).  The user can
use s to control the tradeoff between closeness and smoothness of
fit.  Larger satisfying the conditions: sum((w * (y -
g))**2,axis=0) &lt;= s where g(x) is the smoothed interpolation of
(x,y).  The user can use s to control the tradeoff between
closeness and smoothness of fit.  Larger s means more smoothing
while smaller values of s indicate less smoothing. Recommended
values of s depend on the weights, w.  If the weights represent
the inverse of the standard-deviation of y, then a: good s value
should be found in the range (m-sqrt(2*m),m+sqrt(2*m)) where m is
the number of datapoints in x, y, and w.</p>
</dd>
<dt><strong>k</strong><span class="classifier">int, optional</span></dt><dd><p>Degree of the spline.  Cubic splines are recommended.  Even
values of k should be avoided especially with a small s-value.
for the same set of data.  If task=-1 find the weighted least
square spline for a given set of knots, t.</p>
</dd>
<dt><strong>nest</strong><span class="classifier">None or int, optional</span></dt><dd><p>An over-estimate of the total number of knots of the spline to
help in determining the storage space.  None results in value
m+2*k. -1 results in m+k+1. Always large enough is nest=m+k+1.
Default is -1.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>xyzn</strong><span class="classifier">array, shape (M,3)</span></dt><dd><p>array representing x,y,z of the M points inside the sphere</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.interpolate.splprep</span></code></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.interpolate.splev</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.75</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="c1"># make ascending spiral in 3-space</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">t</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># add noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">z</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyzn</span><span class="o">=</span><span class="n">spline</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">nest</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">xyzn</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="startpoint">
<h3>startpoint<a class="headerlink" href="#startpoint" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.startpoint">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">startpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#startpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.startpoint" title="Link to this definition">#</a></dt>
<dd><p>First point of the track</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape(N,3)</span></dt><dd><p>Track.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>sp</strong><span class="classifier">array, shape(3,)</span></dt><dd><p>First track point.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">startpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">=</span><span class="n">startpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">==</span><span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="endpoint">
<h3>endpoint<a class="headerlink" href="#endpoint" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.endpoint">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.endpoint" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array, shape(N,3)</span></dt><dd><p>Track.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ep</strong><span class="classifier">array, shape(3,)</span></dt><dd><p>First track point.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">endpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span><span class="o">=</span><span class="n">endpoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span><span class="o">.</span><span class="n">any</span><span class="p">()</span><span class="o">==</span><span class="n">xyz</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="arbitrarypoint">
<h3>arbitrarypoint<a class="headerlink" href="#arbitrarypoint" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.arbitrarypoint">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">arbitrarypoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#arbitrarypoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.arbitrarypoint" title="Link to this definition">#</a></dt>
<dd><p>Select an arbitrary point along distance on the track (curve)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
<dt><strong>distance</strong><span class="classifier">float</span></dt><dd><p>float representing distance travelled from the xyz[0] point of
the curve along the curve.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ap</strong><span class="classifier">array shape (3,)</span></dt><dd><p>Arbitrary point of line, such that, if the arbitrary point is not
a point in <cite>xyz</cite>, then we take the interpolation between the two
nearest <cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">arbitrarypoint</span><span class="p">,</span> <span class="n">length</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ap</span><span class="o">=</span><span class="n">arbitrarypoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">length</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="principal-components">
<h3>principal_components<a class="headerlink" href="#principal-components" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.principal_components">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">principal_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#principal_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.principal_components" title="Link to this definition">#</a></dt>
<dd><p>We use PCA to calculate the 3 principal directions for a track</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>va</strong><span class="classifier">array_like</span></dt><dd><p>eigenvalues</p>
</dd>
<dt><strong>ve</strong><span class="classifier">array_like</span></dt><dd><p>eigenvectors</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">principal_components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va</span><span class="p">,</span> <span class="n">ve</span> <span class="o">=</span> <span class="n">principal_components</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">va</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.51010101</span><span class="p">,</span> <span class="mf">0.09883545</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="midpoint2point">
<h3>midpoint2point<a class="headerlink" href="#midpoint2point" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.metrics.midpoint2point">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.metrics.</span></span><span class="sig-name descname"><span class="pre">midpoint2point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/metrics.html#midpoint2point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.metrics.midpoint2point" title="Link to this definition">#</a></dt>
<dd><p>Calculate distance from midpoint of a curve to arbitrary point p</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like shape (N,3)</span></dt><dd><p>array representing x,y,z of N points in a track</p>
</dd>
<dt><strong>p</strong><span class="classifier">array shape (3,)</span></dt><dd><p>array representing an arbitrary point with x,y,z coordinates in
space.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>d</strong><span class="classifier">float</span></dt><dd><p>a float number representing Euclidean distance</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.tracking.metrics</span> <span class="kn">import</span> <span class="n">midpoint2point</span><span class="p">,</span> <span class="n">midpoint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="o">*</span><span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xyz</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist</span><span class="o">=</span><span class="n">midpoint2point</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="unlist-streamlines">
<h3>unlist_streamlines<a class="headerlink" href="#unlist-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.unlist_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">unlist_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#unlist_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.unlist_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Return the streamlines not as a list but as an array and an offset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines: sequence</strong></dt><dd><p>Streamlines.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>points</strong><span class="classifier">array</span></dt><dd><p>Streamlines’ points.</p>
</dd>
<dt><strong>offsets</strong><span class="classifier">array</span></dt><dd><p>Streamlines’ offsets.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="relist-streamlines">
<h3>relist_streamlines<a class="headerlink" href="#relist-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.relist_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">relist_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offsets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#relist_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.relist_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Given a representation of a set of streamlines as a large array and
an offsets array return the streamlines as a list of shorter arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>points</strong><span class="classifier">array</span></dt><dd><p>Streamlines’ points.</p>
</dd>
<dt><strong>offsets</strong><span class="classifier">array</span></dt><dd><p>Streamlines’ offsets.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>streamlines: sequence</dt><dd><p>Streamlines.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="center-streamlines">
<h3>center_streamlines<a class="headerlink" href="#center-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.center_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">center_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#center_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.center_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Move streamlines to the origin</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>List of 2D ndarrays of shape[-1]==3</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_streamlines</strong><span class="classifier">list</span></dt><dd><p>List of 2D ndarrays of shape[-1]==3</p>
</dd>
<dt><strong>inv_shift</strong><span class="classifier">ndarray</span></dt><dd><p>Translation in x,y,z to go back in the initial position</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="deform-streamlines">
<h3>deform_streamlines<a class="headerlink" href="#deform-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.deform_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">deform_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deform_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_to_current_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_grid_to_world</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_to_ref_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_grid_to_world</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#deform_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.deform_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Apply deformation field to streamlines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>List of 2D ndarrays of shape[-1]==3</p>
</dd>
<dt><strong>deform_field</strong><span class="classifier">4D numpy array</span></dt><dd><p>x,y,z displacements stored in volume, shape[-1]==3</p>
</dd>
<dt><strong>stream_to_current_grid</strong><span class="classifier">array, (4, 4)</span></dt><dd><p>transform matrix voxmm space to original grid space</p>
</dd>
<dt><strong>current_grid_to_world</strong><span class="classifier">array (4, 4)</span></dt><dd><p>transform matrix original grid space to world coordinates</p>
</dd>
<dt><strong>stream_to_ref_grid</strong><span class="classifier">array (4, 4)</span></dt><dd><p>transform matrix voxmm space to new grid space</p>
</dd>
<dt><strong>ref_grid_to_world</strong><span class="classifier">array(4, 4)</span></dt><dd><p>transform matrix new grid space to world coordinates</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_streamlines</strong><span class="classifier">list</span></dt><dd><p>List of the transformed 2D ndarrays of shape[-1]==3</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="transform-streamlines">
<h3>transform_streamlines<a class="headerlink" href="#transform-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.transform_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">transform_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mat</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#transform_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.transform_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Apply affine transformation to streamlines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Streamlines object</p>
</dd>
<dt><strong>mat</strong><span class="classifier">array, (4, 4)</span></dt><dd><p>transformation matrix</p>
</dd>
<dt><strong>in_place</strong><span class="classifier">bool</span></dt><dd><p>If True then change data in place.
Be careful changes input streamlines.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Sequence transformed 2D ndarrays of shape[-1]==3</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="select-random-set-of-streamlines">
<h3>select_random_set_of_streamlines<a class="headerlink" href="#select-random-set-of-streamlines" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.select_random_set_of_streamlines">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">select_random_set_of_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#select_random_set_of_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.select_random_set_of_streamlines" title="Link to this definition">#</a></dt>
<dd><p>Select a random set of streamlines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Object of 2D ndarrays of shape[-1]==3</p>
</dd>
<dt><strong>select</strong><span class="classifier">int</span></dt><dd><p>Number of streamlines to select. If there are less streamlines
than <code class="docutils literal notranslate"><span class="pre">select</span></code> then <code class="docutils literal notranslate"><span class="pre">select=len(streamlines)</span></code>.</p>
</dd>
<dt><strong>rng</strong><span class="classifier">np.random.Generator</span></dt><dd><p>Default None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>selected_streamlines</strong><span class="classifier">list</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The same streamline will not be selected twice.</p>
</dd></dl>

</section>
<section id="select-by-rois">
<h3>select_by_rois<a class="headerlink" href="#select-by-rois" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.select_by_rois">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">select_by_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#select_by_rois"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.select_by_rois" title="Link to this definition">#</a></dt>
<dd><p>Select streamlines based on logical relations with several regions of
interest (ROIs). For example, select streamlines that pass near ROI1,
but only if they do not pass near ROI2.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>A list of candidate streamlines for selection</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>rois</strong><span class="classifier">list or ndarray</span></dt><dd><p>A list of 3D arrays, each with shape (x, y, z) corresponding to the
shape of the brain volume, or a 4D array with shape (n_rois, x, y,
z). Non-zeros in each volume are considered to be within the region</p>
</dd>
<dt><strong>include</strong><span class="classifier">array or list</span></dt><dd><p>A list or 1D array of boolean values marking inclusion or exclusion
criteria. If a streamline is near any of the inclusion ROIs, it
should evaluate to True, unless it is also near any of the exclusion
ROIs.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">string, optional</span></dt><dd><p>One of {“any”, “all”, “either_end”, “both_end”}, where a streamline is
associated with an ROI if:</p>
<p>“any” : any point is within tol from ROI. Default.</p>
<p>“all” : all points are within tol from ROI.</p>
<p>“either_end” : either of the end-points is within tol from ROI</p>
<p>“both_end” : both end points are within tol from ROI.</p>
</dd>
<dt><strong>tol</strong><span class="classifier">float</span></dt><dd><p>Distance (in the units of the streamlines, usually mm). If any
coordinate in the streamline is within this distance from the center
of any voxel in the ROI, the filtering criterion is set to True for
this streamline, otherwise False. Defaults to the distance between
the center of each voxel and the corner of the voxel.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>generator</dt><dd><p>Generates the streamlines to be included based on these criteria.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.utils.near_roi" title="dipy.tracking.utils.near_roi"><code class="xref py py-func docutils literal notranslate"><span class="pre">dipy.tracking.utils.near_roi()</span></code></a></dt><dd></dd>
<dt><a class="reference internal" href="#dipy.tracking.utils.reduce_rois" title="dipy.tracking.utils.reduce_rois"><code class="xref py py-func docutils literal notranslate"><span class="pre">dipy.tracking.utils.reduce_rois()</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The only operation currently possible is “(A or B or …) and not (X or Y
or …)”, where A, B are inclusion regions and X, Y are exclusion regions.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mf">1.9</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]]),</span>
<span class="gp">... </span>               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]]),</span>
<span class="gp">... </span>               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">mask1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask1</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">select_by_rois</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">[</span><span class="n">mask1</span><span class="p">,</span> <span class="n">mask2</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="n">tol</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span> <span class="c1"># The result is a generator</span>
<span class="go">[array([[ 0. ,  0. ,  0.9],</span>
<span class="go">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 0.,  1.,  1.],</span>
<span class="go">       [ 0.,  2.,  2.]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">select_by_rois</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">[</span><span class="n">mask1</span><span class="p">,</span> <span class="n">mask2</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="n">tol</span><span class="o">=</span><span class="mf">0.87</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
<span class="go">[array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 0.,  1.,  1.],</span>
<span class="go">       [ 0.,  2.,  2.]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">select_by_rois</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">[</span><span class="n">mask1</span><span class="p">,</span> <span class="n">mask2</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;both_end&quot;</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">tol</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
<span class="go">[array([[ 0. ,  0. ,  0.9],</span>
<span class="go">       [ 1.9,  0. ,  0. ]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selection</span> <span class="o">=</span> <span class="n">select_by_rois</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">[</span><span class="n">mask1</span><span class="p">,</span> <span class="n">mask2</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span>
<span class="gp">... </span>                           <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;both_end&quot;</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">tol</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">selection</span><span class="p">)</span>
<span class="go">[array([[ 0. ,  0. ,  0.9],</span>
<span class="go">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 0.,  1.,  1.],</span>
<span class="go">       [ 0.,  2.,  2.]])]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="cluster-confidence">
<h3>cluster_confidence<a class="headerlink" href="#cluster-confidence" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.cluster_confidence">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">cluster_confidence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_mdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subsample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#cluster_confidence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.cluster_confidence" title="Link to this definition">#</a></dt>
<dd><p>Computes the cluster confidence index (cci), which is an
estimation of the support a set of streamlines gives to
a particular pathway.</p>
<p>Ex: A single streamline with no others in the dataset
following a similar pathway has a low cci. A streamline
in a bundle of 100 streamlines that follow similar
pathways has a high cci.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-jordan2018" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> (based on the streamline MDF distance from
Garyfallidis <em>et al.</em><a class="footnote-reference brackets" href="#footcite-garyfallidis2012a" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list of 2D (N, 3) arrays</span></dt><dd><p>A sequence of streamlines of length N (# streamlines)</p>
</dd>
<dt><strong>max_mdf</strong><span class="classifier">int</span></dt><dd><p>The maximum MDF distance (mm) that will be considered a
“supporting” streamline and included in cci calculation</p>
</dd>
<dt><strong>subsample: int</strong></dt><dd><p>The number of points that are considered for each streamline
in the calculation. To save on calculation time, each
streamline is subsampled to subsampleN points.</p>
</dd>
<dt><strong>power: int</strong></dt><dd><p>The power to which the MDF distance for each streamline
will be raised to determine how much it contributes to
the cci. High values of power make the contribution value
degrade much faster. E.g., a streamline with 5mm MDF
similarity contributes 1/5 to the cci if power is 1, but
only contributes 1/5^2 = 1/25 if power is 2.</p>
</dd>
<dt><strong>override: bool, False by default</strong></dt><dd><p>override means that the cci calculation will still occur even
though there are short streamlines in the dataset that may alter
expected behaviour.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Returns an array of CCI scores</dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id7">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-jordan2018" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">2</a><span class="fn-bracket">]</span></span>
<p>Kesshi M. Jordan, Bagrat Amirbekian, Anisha Keshavan, and Roland G. Henry. Cluster Confidence Index: A Streamline-Wise Pathway Reproducibility Metric for Diffusion-Weighted MRI Tractography. <em>Journal of Neuroimaging</em>, 28(1):64–69, 2018. URL: <a class="reference external" href="https://doi.org/10.1111/jon.12467">https://doi.org/10.1111/jon.12467</a>, <a class="reference external" href="https://doi.org/10.1111/jon.12467">doi:10.1111/jon.12467</a>.</p>
</aside>
<aside class="footnote brackets" id="footcite-garyfallidis2012a" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">3</a><span class="fn-bracket">]</span></span>
<p>Eleftherios Garyfallidis, Matthew Brett, Marta M. Correia, Guy B. Williams, and Ian Nimmo-Smith. QuickBundles, a Method for Tractography Simplification. <em>Frontiers in Neuroscience</em>, 6():175, December 2012. URL: <a class="reference external" href="https://doi.org/10.3389/fnins.2012.00175">https://doi.org/10.3389/fnins.2012.00175</a>, <a class="reference external" href="https://doi.org/10.3389/fnins.2012.00175">doi:10.3389/fnins.2012.00175</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</section>
<section id="orient-by-rois">
<h3>orient_by_rois<a class="headerlink" href="#orient-by-rois" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.orient_by_rois">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">orient_by_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#orient_by_rois"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.orient_by_rois" title="Link to this definition">#</a></dt>
<dd><p>Orient a set of streamlines according to a pair of ROIs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list or generator</span></dt><dd><p>List or generator of 2d arrays of 3d coordinates. Each array contains
the xyz coordinates of a single streamline.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>roi1, roi2</strong><span class="classifier">ndarray</span></dt><dd><p>Binary masks designating the location of the regions of interest, or
coordinate arrays (n-by-3 array with ROI coordinate in each row).</p>
</dd>
<dt><strong>in_place</strong><span class="classifier">bool</span></dt><dd><p>Whether to make the change in-place in the original list
(and return a reference to the list), or to make a copy of the list
and return this copy, with the relevant streamlines reoriented.</p>
</dd>
<dt><strong>as_generator</strong><span class="classifier">bool</span></dt><dd><p>Whether to return a generator as output.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list or generator</span></dt><dd><p>The same 3D arrays as a list or generator, but reoriented with respect
to the ROIs</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]]),</span>
<span class="gp">... </span>               <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                         <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">roi1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi1</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roi2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">orient_by_rois</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">roi1</span><span class="p">,</span> <span class="n">roi2</span><span class="p">)</span>
<span class="go">[array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 1.,  0.,  0.],</span>
<span class="go">       [ 2.,  0.,  0.]]), array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 1.,  0.,  0.],</span>
<span class="go">       [ 2.,  0.,  0.]])]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="orient-by-streamline">
<h3>orient_by_streamline<a class="headerlink" href="#orient-by-streamline" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.orient_by_streamline">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">orient_by_streamline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_place</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#orient_by_streamline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.orient_by_streamline" title="Link to this definition">#</a></dt>
<dd><p>Orient a bundle of streamlines to a standard streamline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines, list</span></dt><dd><p>The input streamlines to orient.</p>
</dd>
<dt><strong>standard</strong><span class="classifier">Streamlines, list, or ndarrray</span></dt><dd><p>This provides the standard orientation according to which the
streamlines in the provided bundle should be reoriented.</p>
</dd>
<dt><strong>n_points: int, optional</strong></dt><dd><p>The number of samples to apply to each of the streamlines.</p>
</dd>
<dt><strong>in_place</strong><span class="classifier">bool</span></dt><dd><p>Whether to make the change in-place in the original input
(and return a reference), or to make a copy of the list
and return this copy, with the relevant streamlines reoriented.</p>
</dd>
<dt><strong>as_generator</strong><span class="classifier">bool</span></dt><dd><p>Whether to return a generator as output.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>Streamlines</strong><span class="classifier">with each individual array oriented to be as similar as</span></dt><dd><p>possible to the standard.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="values-from-volume">
<h3>values_from_volume<a class="headerlink" href="#values-from-volume" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.values_from_volume">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">values_from_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#values_from_volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.values_from_volume" title="Link to this definition">#</a></dt>
<dd><p>Extract values of a scalar/vector along each streamline from a volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">3D or 4D array</span></dt><dd><p>Scalar (for 3D) and vector (for 4D) values to be extracted. For 4D
data, interpolation will be done on the 3 spatial dimensions in each
volume.</p>
</dd>
<dt><strong>streamlines</strong><span class="classifier">ndarray or list</span></dt><dd><p>If array, of shape (n_streamlines, n_nodes, 3)
If list, len(n_streamlines) with (n_nodes, 3) array in
each element of the list.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>array or list (depending on the input)</strong><span class="classifier">values interpolate to each</span></dt><dd><p>coordinate along the length of each streamline.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Values are extracted from the image based on the 3D coordinates of the
nodes that comprise the points in the streamline, without any interpolation
into segments between the nodes. Using this function with streamlines that
have been resampled into a very small number of nodes will result in very
few values.</p>
</dd></dl>

</section>
<section id="nbytes">
<h3>nbytes<a class="headerlink" href="#nbytes" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.streamline.nbytes">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.streamline.</span></span><span class="sig-name descname"><span class="pre">nbytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/streamline.html#nbytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.streamline.nbytes" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="generic-tracking">
<h3>generic_tracking<a class="headerlink" href="#generic-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.generic_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">generic_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#generic_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.generic_tracking" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="probabilistic-tracking">
<h3>probabilistic_tracking<a class="headerlink" href="#probabilistic-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.probabilistic_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">probabilistic_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#probabilistic_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.probabilistic_tracking" title="Link to this definition">#</a></dt>
<dd><p>Probabilistic tracking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seed_positions</strong><span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt><strong>sc</strong><span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt><strong>seed_directions</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt><strong>sh</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt><strong>peaks</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt><strong>sf</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt><strong>min_len</strong><span class="classifier">int, optional</span></dt><dd><p>Minimum length (Nb points) of the streamlines.</p>
</dd>
<dt><strong>max_len</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum length (Nb points) of the streamlines.</p>
</dd>
<dt><strong>step_size</strong><span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt><strong>voxel_size</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt><strong>max_angle</strong><span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt><strong>pmf_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt><strong>sphere</strong><span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt><strong>basis_type</strong><span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt><strong>legacy: bool, optional</strong></dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt><strong>nbr_threads: int, optional</strong></dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt><strong>random_seed: int, optional</strong></dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt><strong>seed_buffer_fraction: float, optional</strong></dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt><strong>return_all: bool, optional</strong></dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt><strong>save_seeds: bool, optional</strong></dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="deterministic-tracking">
<h3>deterministic_tracking<a class="headerlink" href="#deterministic-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.deterministic_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">deterministic_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#deterministic_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.deterministic_tracking" title="Link to this definition">#</a></dt>
<dd><p>Deterministic tracking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seed_positions</strong><span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt><strong>sc</strong><span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt><strong>seed_directions</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt><strong>sh</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt><strong>peaks</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt><strong>sf</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt><strong>min_len</strong><span class="classifier">int, optional</span></dt><dd><p>Minimum length (nb points) of the streamlines.</p>
</dd>
<dt><strong>max_len</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum length (nb points) of the streamlines.</p>
</dd>
<dt><strong>step_size</strong><span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt><strong>voxel_size</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt><strong>max_angle</strong><span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt><strong>pmf_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt><strong>sphere</strong><span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt><strong>basis_type</strong><span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt><strong>legacy: bool, optional</strong></dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt><strong>nbr_threads: int, optional</strong></dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt><strong>random_seed: int, optional</strong></dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt><strong>seed_buffer_fraction: float, optional</strong></dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt><strong>return_all: bool, optional</strong></dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt><strong>save_seeds: bool, optional</strong></dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="ptt-tracking">
<h3>ptt_tracking<a class="headerlink" href="#ptt-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.ptt_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">ptt_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe_quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_support_exponent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#ptt_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.ptt_tracking" title="Link to this definition">#</a></dt>
<dd><p>Parallel Transport Tractography (PTT) tracking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seed_positions</strong><span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt><strong>sc</strong><span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt><strong>seed_directions</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt><strong>sh</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH) data.</p>
</dd>
<dt><strong>peaks</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array</p>
</dd>
<dt><strong>sf</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt><strong>min_len</strong><span class="classifier">int, optional</span></dt><dd><p>Minimum length of the streamlines.</p>
</dd>
<dt><strong>max_len</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum length of the streamlines.</p>
</dd>
<dt><strong>step_size</strong><span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt><strong>voxel_size</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt><strong>max_angle</strong><span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt><strong>pmf_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt><strong>probe_length</strong><span class="classifier">float, optional</span></dt><dd><p>Probe length.</p>
</dd>
<dt><strong>probe_radius</strong><span class="classifier">float, optional</span></dt><dd><p>Probe radius.</p>
</dd>
<dt><strong>probe_quality</strong><span class="classifier">int, optional</span></dt><dd><p>Probe quality.</p>
</dd>
<dt><strong>probe_count</strong><span class="classifier">int, optional</span></dt><dd><p>Probe count.</p>
</dd>
<dt><strong>data_support_exponent</strong><span class="classifier">int, optional</span></dt><dd><p>Data support exponent.</p>
</dd>
<dt><strong>sphere</strong><span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt><strong>basis_type</strong><span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt><strong>legacy: bool, optional</strong></dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt><strong>nbr_threads: int, optional</strong></dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt><strong>random_seed: int, optional</strong></dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt><strong>seed_buffer_fraction: float, optional</strong></dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt><strong>return_all: bool, optional</strong></dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt><strong>save_seeds: bool, optional</strong></dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>Tractogram</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="closestpeak-tracking">
<h3>closestpeak_tracking<a class="headerlink" href="#closestpeak-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.closestpeak_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">closestpeak_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#closestpeak_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.closestpeak_tracking" title="Link to this definition">#</a></dt>
<dd><p>Closest peak tracking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seed_positions</strong><span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt><strong>sc</strong><span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt><strong>seed_directions</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt><strong>sh</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt><strong>peaks</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt><strong>sf</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt><strong>min_len</strong><span class="classifier">int, optional</span></dt><dd><p>Minimum length (nb points) of the streamlines.</p>
</dd>
<dt><strong>max_len</strong><span class="classifier">int, optional</span></dt><dd><p>Maximum length (nb points) of the streamlines.</p>
</dd>
<dt><strong>step_size</strong><span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt><strong>voxel_size</strong><span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt><strong>max_angle</strong><span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt><strong>pmf_threshold</strong><span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt><strong>sphere</strong><span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt><strong>basis_type</strong><span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt><strong>legacy: bool, optional</strong></dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt><strong>nbr_threads: int, optional</strong></dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt><strong>random_seed: int, optional</strong></dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt><strong>seed_buffer_fraction: float, optional</strong></dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt><strong>return_all: bool, optional</strong></dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt><strong>save_seeds: bool, optional</strong></dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="bootstrap-tracking">
<h3>bootstrap_tracking<a class="headerlink" href="#bootstrap-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.bootstrap_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">bootstrap_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#bootstrap_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.bootstrap_tracking" title="Link to this definition">#</a></dt>
<dd><p>Bootstrap tracking algorithm.</p>
<dl class="simple">
<dt>seed_positions<span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt>sc<span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt>affine<span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt>seed_directions<span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt>data<span class="classifier">ndarray, optional</span></dt><dd><p>Diffusion data.</p>
</dd>
<dt>model<span class="classifier">Model, optional</span></dt><dd><p>Reconstruction model.</p>
</dd>
<dt>sh<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt>peaks<span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt>sf<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt>min_len<span class="classifier">int, optional</span></dt><dd><p>Minimum length (nb points) of the streamlines.</p>
</dd>
<dt>max_len<span class="classifier">int, optional</span></dt><dd><p>Maximum length (nb points) of the streamlines.</p>
</dd>
<dt>step_size<span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt>voxel_size<span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt>max_angle<span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt>pmf_threshold<span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt>sphere<span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt>basis_type<span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt>legacy: bool, optional</dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt>nbr_threads: int, optional</dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt>random_seed: int, optional</dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt>seed_buffer_fraction: float, optional</dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt>return_all: bool, optional</dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt>save_seeds: bool, optional</dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="eudx-tracking">
<h3>eudx_tracking<a class="headerlink" href="#eudx-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.eudx_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">eudx_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#eudx_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.eudx_tracking" title="Link to this definition">#</a></dt>
<dd><p>EuDX tracking algorithm.</p>
<dl class="simple">
<dt>seed_positions<span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt>sc<span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt>affine<span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt>seed_directions<span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt>sh<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt>peaks<span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt>sf<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt>pam<span class="classifier">PeakAndMetrics, optional</span></dt><dd><p>Peaks and Metrics object</p>
</dd>
<dt>min_len<span class="classifier">int, optional</span></dt><dd><p>Minimum length (nb points) of the streamlines.</p>
</dd>
<dt>max_len<span class="classifier">int, optional</span></dt><dd><p>Maximum length (nb points) of the streamlines.</p>
</dd>
<dt>step_size<span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt>voxel_size<span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt>max_angle<span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt>pmf_threshold<span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt>sphere<span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt>basis_type<span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt>legacy: bool, optional</dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt>nbr_threads: int, optional</dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt>random_seed: int, optional</dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt>seed_buffer_fraction: float, optional</dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt>return_all: bool, optional</dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt>save_seeds: bool, optional</dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="pft-tracking">
<h3>pft_tracking<a class="headerlink" href="#pft-tracking" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.tracker.pft_tracking">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.tracker.</span></span><span class="sig-name descname"><span class="pre">pft_tracking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed_positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_directions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cross</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmf_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sphere</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legacy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbr_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_buffer_fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_back_tracking_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_front_tracking_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pft_max_trial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_wm_pve_before_stopping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randomize_forward_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/tracker.html#pft_tracking"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.tracker.pft_tracking" title="Link to this definition">#</a></dt>
<dd><p>Particle Filtering Tracking (PFT) tracking algorithm.</p>
<dl class="simple">
<dt>seed_positions<span class="classifier">ndarray</span></dt><dd><p>Seed positions in world space.</p>
</dd>
<dt>sc<span class="classifier">StoppingCriterion</span></dt><dd><p>Stopping criterion.</p>
</dd>
<dt>affine<span class="classifier">ndarray</span></dt><dd><p>Affine matrix.</p>
</dd>
<dt>seed_directions<span class="classifier">ndarray, optional</span></dt><dd><p>Seed directions.</p>
</dd>
<dt>sh<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Harmonics (SH).</p>
</dd>
<dt>peaks<span class="classifier">ndarray, optional</span></dt><dd><p>Peaks array.</p>
</dd>
<dt>sf<span class="classifier">ndarray, optional</span></dt><dd><p>Spherical Function (SF).</p>
</dd>
<dt>pam<span class="classifier">PeakAndMetrics, optional</span></dt><dd><p>Peaks and Metrics object.</p>
</dd>
<dt>max_cross<span class="classifier">int, optional</span></dt><dd><p>Maximum number of crossing fibers.</p>
</dd>
<dt>min_len<span class="classifier">int, optional</span></dt><dd><p>Minimum length (nb points) of the streamlines.</p>
</dd>
<dt>max_len<span class="classifier">int, optional</span></dt><dd><p>Maximum length (nb points) of the streamlines.</p>
</dd>
<dt>step_size<span class="classifier">float, optional</span></dt><dd><p>Step size of the tracking.</p>
</dd>
<dt>voxel_size<span class="classifier">ndarray, optional</span></dt><dd><p>Voxel size.</p>
</dd>
<dt>max_angle<span class="classifier">float, optional</span></dt><dd><p>Maximum angle.</p>
</dd>
<dt>pmf_threshold<span class="classifier">float, optional</span></dt><dd><p>PMF threshold.</p>
</dd>
<dt>sphere<span class="classifier">Sphere, optional</span></dt><dd><p>Sphere.</p>
</dd>
<dt>basis_type<span class="classifier">name of basis</span></dt><dd><p>The basis that <code class="docutils literal notranslate"><span class="pre">shcoeff</span></code> are associated with.
<code class="docutils literal notranslate"><span class="pre">dipy.reconst.shm.real_sh_descoteaux</span></code> is used by default.</p>
</dd>
<dt>legacy: bool, optional</dt><dd><p>True to use a legacy basis definition for backward compatibility
with previous <code class="docutils literal notranslate"><span class="pre">tournier07</span></code> and <code class="docutils literal notranslate"><span class="pre">descoteaux07</span></code> implementations.</p>
</dd>
<dt>nbr_threads: int, optional</dt><dd><p>Number of threads to use for the processing. By default, all available threads
will be used.</p>
</dd>
<dt>random_seed: int, optional</dt><dd><p>Seed for the random number generator, must be &gt;= 0. A value of greater than 0
will all produce the same streamline trajectory for a given seed coordinate.
A value of 0 may produces various streamline tracjectories for a given seed
coordinate.</p>
</dd>
<dt>seed_buffer_fraction: float, optional</dt><dd><p>Fraction of the seed buffer to use. A value of 1.0 will use the entire seed
buffer. A value of 0.5 will use half of the seed buffer then the other half.
a way to reduce memory usage.</p>
</dd>
<dt>return_all: bool, optional</dt><dd><p>True to return all the streamlines, False to return only the streamlines that
reached the stopping criterion.</p>
</dd>
<dt>pft_back_tracking_dist<span class="classifier">float, optional</span></dt><dd><p>Back tracking distance.</p>
</dd>
<dt>pft_front_tracking_dist<span class="classifier">float, optional</span></dt><dd><p>Front tracking distance.</p>
</dd>
<dt>pft_max_trial<span class="classifier">int, optional</span></dt><dd><p>Maximum number of trials.</p>
</dd>
<dt>particle_count<span class="classifier">int, optional</span></dt><dd><p>Number of particles.</p>
</dd>
<dt>save_seeds: bool, optional</dt><dd><p>True to return the seeds with the associated streamline.</p>
</dd>
<dt>min_wm_pve_before_stopping<span class="classifier">float, optional</span></dt><dd><p>Minimum white matter partial volume estimation before stopping.</p>
</dd>
<dt>unidirectional<span class="classifier">bool, optional</span></dt><dd><p>True to use unidirectional tracking.</p>
</dd>
<dt>randomize_forward_direction<span class="classifier">bool, optional</span></dt><dd><p>True to randomize forward direction</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>Tractogram</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="density-map">
<h3>density_map<a class="headerlink" href="#density-map" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.density_map">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">density_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#density_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.density_map" title="Link to this definition">#</a></dt>
<dd><p>Count the number of unique streamlines that pass through each voxel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">iterable</span></dt><dd><p>A sequence of streamlines.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline points.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>vol_dims</strong><span class="classifier">3 ints</span></dt><dd><p>The shape of the volume to be returned containing the streamlines
counts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>image_volume</strong><span class="classifier">ndarray, shape=vol_dims</span></dt><dd><p>The number of streamline points in each voxel of volume.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>IndexError</dt><dd><p>When the points of the streamlines lie outside of the return volume.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A streamline can pass through a voxel even if one of the points of the
streamline does not lie in the voxel. For example a step from [0,0,0] to
[0,0,2] passes through [0,0,1]. Consider subsegmenting the streamlines when
the edges of the voxels are smaller than the steps of the streamlines.</p>
</dd></dl>

</section>
<section id="connectivity-matrix">
<h3>connectivity_matrix<a class="headerlink" href="#connectivity-matrix" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.connectivity_matrix">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">connectivity_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_volume</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inclusive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapping_as_streamlines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#connectivity_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.connectivity_matrix" title="Link to this definition">#</a></dt>
<dd><p>Count the streamlines that start and end at each label pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">sequence</span></dt><dd><p>A sequence of streamlines.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array_like (4, 4)</span></dt><dd><p>The mapping from voxel coordinates to streamline coordinates.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>label_volume</strong><span class="classifier">ndarray</span></dt><dd><p>An image volume with an integer data type, where the intensities in the
volume map to anatomical structures.</p>
</dd>
<dt><strong>inclusive: bool</strong></dt><dd><p>Whether to analyze the entire streamline, as opposed to just the
endpoints. False by default.</p>
</dd>
<dt><strong>symmetric</strong><span class="classifier">bool, True by default</span></dt><dd><p>Symmetric means we don’t distinguish between start and end points. If
symmetric is True, <code class="docutils literal notranslate"><span class="pre">matrix[i,</span> <span class="pre">j]</span> <span class="pre">==</span> <span class="pre">matrix[j,</span> <span class="pre">i]</span></code>.</p>
</dd>
<dt><strong>return_mapping</strong><span class="classifier">bool, False by default</span></dt><dd><p>If True, a mapping is returned which maps matrix indices to
streamlines.</p>
</dd>
<dt><strong>mapping_as_streamlines</strong><span class="classifier">bool, False by default</span></dt><dd><p>If True voxel indices map to lists of streamline objects. Otherwise
voxel indices map to lists of integers.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>matrix</strong><span class="classifier">ndarray</span></dt><dd><p>The number of connection between each pair of regions in
<cite>label_volume</cite>.</p>
</dd>
<dt><strong>mapping</strong><span class="classifier">defaultdict(list)</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">mapping[i,</span> <span class="pre">j]</span></code> returns all the streamlines that connect region <cite>i</cite>
to region <cite>j</cite>. If <cite>symmetric</cite> is True mapping will only have one key
for each start end pair such that if <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">j</span></code> mapping will have key
<code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j)</span></code> but not key <code class="docutils literal notranslate"><span class="pre">(j,</span> <span class="pre">i)</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="ndbincount">
<h3>ndbincount<a class="headerlink" href="#ndbincount" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.ndbincount">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">ndbincount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#ndbincount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.ndbincount" title="Link to this definition">#</a></dt>
<dd><p>Like bincount, but for nd-indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">array_like (N, M)</span></dt><dd><p>M indices to a an Nd-array</p>
</dd>
<dt><strong>weights</strong><span class="classifier">array_like (M,), optional</span></dt><dd><p>Weights associated with indices</p>
</dd>
<dt><strong>shape</strong><span class="classifier">optional</span></dt><dd><p>the shape of the output</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="reduce-labels">
<h3>reduce_labels<a class="headerlink" href="#reduce-labels" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.reduce_labels">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">reduce_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_volume</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#reduce_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.reduce_labels" title="Link to this definition">#</a></dt>
<dd><p>Reduce an array of labels to the integers from 0 to n with smallest
possible n.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_labels</span><span class="p">,</span> <span class="n">lookup</span> <span class="o">=</span> <span class="n">reduce_labels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lookup</span>
<span class="go">array([1, 3, 7, 8, 9])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_labels</span> 
<span class="go">array([[0, 1, 4],</span>
<span class="go">       [0, 1, 3],</span>
<span class="go">       [0, 1, 2]]...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">lookup</span><span class="p">[</span><span class="n">new_labels</span><span class="p">]</span> <span class="o">==</span> <span class="n">labels</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="subsegment">
<h3>subsegment<a class="headerlink" href="#subsegment" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.subsegment">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">subsegment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_segment_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#subsegment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.subsegment" title="Link to this definition">#</a></dt>
<dd><p>Split the segments of the streamlines into small segments.</p>
<p>Replaces each segment of each of the streamlines with the smallest possible
number of equally sized smaller segments such that no segment is longer
than max_segment_length. Among other things, this can useful for getting
streamline counts on a grid that is smaller than the length of the
streamline segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">sequence of ndarrays</span></dt><dd><p>The streamlines to be subsegmented.</p>
</dd>
<dt><strong>max_segment_length</strong><span class="classifier">float</span></dt><dd><p>The longest allowable segment length.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output_streamlines</strong><span class="classifier">generator</span></dt><dd><p>A set of streamlines.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Segments of 0 length are removed. If unchanged</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">streamlines</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsegment</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="mf">3.</span><span class="p">))</span>
<span class="go">[array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 2.,  0.,  0.],</span>
<span class="go">       [ 5.,  0.,  0.]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsegment</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">[array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 1.,  0.,  0.],</span>
<span class="go">       [ 2.,  0.,  0.],</span>
<span class="go">       [ 3.,  0.,  0.],</span>
<span class="go">       [ 4.,  0.,  0.],</span>
<span class="go">       [ 5.,  0.,  0.]])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">subsegment</span><span class="p">(</span><span class="n">streamlines</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">))</span>
<span class="go">[array([[ 0. ,  0. ,  0. ],</span>
<span class="go">       [ 1. ,  0. ,  0. ],</span>
<span class="go">       [ 2. ,  0. ,  0. ],</span>
<span class="go">       [ 3.5,  0. ,  0. ],</span>
<span class="go">       [ 5. ,  0. ,  0. ]])]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="seeds-from-mask">
<h3>seeds_from_mask<a class="headerlink" href="#seeds-from-mask" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.seeds_from_mask">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">seeds_from_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#seeds_from_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.seeds_from_mask" title="Link to this definition">#</a></dt>
<dd><p>Create seeds for fiber tracking from a binary mask.</p>
<p>Seeds points are placed evenly distributed in all voxels of <code class="docutils literal notranslate"><span class="pre">mask</span></code> which
are <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mask</strong><span class="classifier">binary 3d array_like</span></dt><dd><p>A binary array specifying where to place the seeds for fiber tracking.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array, (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.
A seed point at the center the voxel <code class="docutils literal notranslate"><span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k]</span></code>
will be represented as <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z]</span></code> where
<code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">1]</span> <span class="pre">==</span> <span class="pre">np.dot(affine,</span> <span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k</span> <span class="pre">,</span> <span class="pre">1])</span></code>.</p>
</dd>
<dt><strong>density</strong><span class="classifier">int or array_like (3,)</span></dt><dd><p>Specifies the number of seeds to place along each dimension. A
<code class="docutils literal notranslate"><span class="pre">density</span></code> of <cite>2</cite> is the same as <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">2,</span> <span class="pre">2]</span></code> and will result in a
total of 8 seeds per voxel.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">mask</span></code> is not a three-dimensional array</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.utils.random_seeds_from_mask" title="dipy.tracking.utils.random_seeds_from_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">random_seeds_from_mask</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;bool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seeds_from_mask</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">density</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">array([[ 0.,  0.,  0.]])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="random-seeds-from-mask">
<h3>random_seeds_from_mask<a class="headerlink" href="#random-seeds-from-mask" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.random_seeds_from_mask">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">random_seeds_from_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_count_per_voxel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#random_seeds_from_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.random_seeds_from_mask" title="Link to this definition">#</a></dt>
<dd><p>Create randomly placed seeds for fiber tracking from a binary mask.</p>
<p>Seeds points are placed randomly distributed in voxels of <code class="docutils literal notranslate"><span class="pre">mask</span></code>
which are <code class="docutils literal notranslate"><span class="pre">True</span></code>.
If <code class="docutils literal notranslate"><span class="pre">seed_count_per_voxel</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, this function is
similar to <code class="docutils literal notranslate"><span class="pre">seeds_from_mask()</span></code>, with the difference that instead of
evenly distributing the seeds, it randomly places the seeds within the
voxels specified by the <code class="docutils literal notranslate"><span class="pre">mask</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>mask</strong><span class="classifier">binary 3d array_like</span></dt><dd><p>A binary array specifying where to place the seeds for fiber tracking.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array, (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.
A seed point at the center the voxel <code class="docutils literal notranslate"><span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k]</span></code>
will be represented as <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z]</span></code> where
<code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">1]</span> <span class="pre">==</span> <span class="pre">np.dot(affine,</span> <span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k</span> <span class="pre">,</span> <span class="pre">1])</span></code>.</p>
</dd>
<dt><strong>seeds_count</strong><span class="classifier">int</span></dt><dd><p>The number of seeds to generate. If <code class="docutils literal notranslate"><span class="pre">seed_count_per_voxel</span></code> is True,
specifies the number of seeds to place in each voxel. Otherwise,
specifies the total number of seeds to place in the mask.</p>
</dd>
<dt><strong>seed_count_per_voxel: bool</strong></dt><dd><p>If True, seeds_count is per voxel, else seeds_count is the total number
of seeds.</p>
</dd>
<dt><strong>random_seed</strong><span class="classifier">int</span></dt><dd><p>The seed for the random seed generator (numpy.random.Generator).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">mask</span></code> is not a three-dimensional array</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.utils.seeds_from_mask" title="dipy.tracking.utils.seeds_from_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seeds_from_mask</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;bool&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_seeds_from_mask</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">seeds_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span><span class="n">seed_count_per_voxel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[-0.23838787, -0.20150886,  0.31422574]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_seeds_from_mask</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">seeds_count</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span><span class="n">seed_count_per_voxel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[-0.23838787, -0.20150886,  0.31422574],</span>
<span class="go">       [-0.41435083, -0.26318949,  0.30127447],</span>
<span class="go">       [ 0.44305611,  0.01132755,  0.47624371],</span>
<span class="go">       [ 0.30500292,  0.30794079,  0.01532556],</span>
<span class="go">       [ 0.03816435, -0.15672913, -0.13093276],</span>
<span class="go">       [ 0.12509547,  0.3972138 ,  0.27568569]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_seeds_from_mask</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span><span class="n">seeds_count</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">seed_count_per_voxel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 0.30500292,  1.30794079,  2.01532556],</span>
<span class="go">       [-0.23838787, -0.20150886,  0.31422574],</span>
<span class="go">       [ 0.3702492 ,  0.78681721,  2.10314815],</span>
<span class="go">       [-0.41435083, -0.26318949,  0.30127447]])</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="target">
<h3>target<a class="headerlink" href="#target" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.target">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_mask</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.target" title="Link to this definition">#</a></dt>
<dd><p>Filter streamlines based on whether or not they pass through an ROI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">iterable</span></dt><dd><p>A sequence of streamlines. Each streamline should be a (N, 3) array,
where N is the length of the streamline.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>target_mask</strong><span class="classifier">array-like</span></dt><dd><p>A mask used as a target. Non-zero values are considered to be within
the target region.</p>
</dd>
<dt><strong>include</strong><span class="classifier">bool, default True</span></dt><dd><p>If True, streamlines passing through <cite>target_mask</cite> are kept. If False,
the streamlines not passing through <cite>target_mask</cite> are kept.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">generator</span></dt><dd><p>A sequence of streamlines that pass through <cite>target_mask</cite>.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>When the points of the streamlines lie outside of the <cite>target_mask</cite>.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.utils.density_map" title="dipy.tracking.utils.density_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">density_map</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

</section>
<section id="target-line-based">
<h3>target_line_based<a class="headerlink" href="#target-line-based" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.target_line_based">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">target_line_based</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_mask</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#target_line_based"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.target_line_based" title="Link to this definition">#</a></dt>
<dd><p>Filter streamlines based on whether or not they pass through a ROI,
using a line-based algorithm. Mostly used as a replacement of <cite>target</cite>
for compressed streamlines.</p>
<p>This function never returns single-point streamlines, whatever the
value of <cite>include</cite>.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-bresenham1965" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> and <a class="footnote-reference brackets" href="#footcite-houde2015" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a> for further
details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">iterable</span></dt><dd><p>A sequence of streamlines. Each streamline should be a (N, 3) array,
where N is the length of the streamline.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>target_mask</strong><span class="classifier">array-like</span></dt><dd><p>A mask used as a target. Non-zero values are considered to be within
the target region.</p>
</dd>
<dt><strong>include</strong><span class="classifier">bool, default True</span></dt><dd><p>If True, streamlines passing through <cite>target_mask</cite> are kept. If False,
the streamlines not passing through <cite>target_mask</cite> are kept.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">generator</span></dt><dd><p>A sequence of streamlines that pass through <cite>target_mask</cite>.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#dipy.tracking.utils.density_map" title="dipy.tracking.utils.density_map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dipy.tracking.utils.density_map</span></code></a></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">dipy.tracking.streamline.compress_streamlines</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">References</p>
<div class="docutils container" id="id10">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-bresenham1965" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<p>Jack E. Bresenham. Algorithm for computer control of a digital plotter. <em>IBM Systems Journal</em>, 4(1):25–30, 1965. <a class="reference external" href="https://doi.org/10.1147/sj.41.0025">doi:10.1147/sj.41.0025</a>.</p>
</aside>
<aside class="footnote brackets" id="footcite-houde2015" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">5</a><span class="fn-bracket">]</span></span>
<p>Jean-Christophe Houde, Marc-Alexandre Ct-Harnois, and Maxime Descoteaux. How to Avoid Biased Streamlines-Based Metrics for Streamlines with Variable Step Sizes. In <em>ISMRM 23rd Annual Meeting &amp; Exhibition SMRT 24th Annual Meeting</em>, volume. Toronto, Canada, 2015. International Society for Magnetic Resonance in Medicine (ISMRM).</p>
</aside>
</aside>
</div>
</dd></dl>

</section>
<section id="streamline-near-roi">
<h3>streamline_near_roi<a class="headerlink" href="#streamline-near-roi" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.streamline_near_roi">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">streamline_near_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'any'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#streamline_near_roi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.streamline_near_roi" title="Link to this definition">#</a></dt>
<dd><p>Is a streamline near an ROI.</p>
<p>Implements the inner loops of the <a class="reference internal" href="#dipy.tracking.utils.near_roi" title="dipy.tracking.utils.near_roi"><code class="xref py py-func docutils literal notranslate"><span class="pre">near_roi()</span></code></a> function.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>streamline</strong><span class="classifier">array, shape (N, 3)</span></dt><dd><p>A single streamline</p>
</dd>
<dt><strong>roi_coords</strong><span class="classifier">array, shape (M, 3)</span></dt><dd><p>ROI coordinates transformed to the streamline coordinate frame.</p>
</dd>
<dt><strong>tol</strong><span class="classifier">float</span></dt><dd><p>Distance (in the units of the streamlines, usually mm). If any
coordinate in the streamline is within this distance from the center
of any voxel in the ROI, this function returns True.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">string</span></dt><dd><p>One of {“any”, “all”, “either_end”, “both_end”}, where return True
if:</p>
<p>“any” : any point is within tol from ROI.</p>
<p>“all” : all points are within tol from ROI.</p>
<p>“either_end” : either of the end-points is within tol from ROI</p>
<p>“both_end” : both end points are within tol from ROI.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">boolean</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="near-roi">
<h3>near_roi<a class="headerlink" href="#near-roi" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.near_roi">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">near_roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_of_interest</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'any'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#near_roi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.near_roi" title="Link to this definition">#</a></dt>
<dd><p>Provide filtering criteria for a set of streamlines based on whether
they fall within a tolerance distance from an ROI.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier">list or generator</span></dt><dd><p>A sequence of streamlines. Each streamline should be a (N, 3) array,
where N is the length of the streamline.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>region_of_interest</strong><span class="classifier">ndarray</span></dt><dd><p>A mask used as a target. Non-zero values are considered to be within
the target region.</p>
</dd>
<dt><strong>tol</strong><span class="classifier">float</span></dt><dd><p>Distance (in the units of the streamlines, usually mm). If any
coordinate in the streamline is within this distance from the center
of any voxel in the ROI, the filtering criterion is set to True for
this streamline, otherwise False. Defaults to the distance between
the center of each voxel and the corner of the voxel.</p>
</dd>
<dt><strong>mode</strong><span class="classifier">string, optional</span></dt><dd><p>One of {“any”, “all”, “either_end”, “both_end”}, where return True
if:</p>
<p>“any” : any point is within tol from ROI. Default.</p>
<p>“all” : all points are within tol from ROI.</p>
<p>“either_end” : either of the end-points is within tol from ROI</p>
<p>“both_end” : both end points are within tol from ROI.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>1D array of boolean dtype, shape (len(streamlines), )</dt><dd></dd>
<dt>This contains <cite>True</cite> for indices corresponding to each streamline</dt><dd></dd>
<dt>that passes within a tolerance distance from the target ROI, <cite>False</cite></dt><dd></dd>
<dt>otherwise.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="id11">
<h3>length<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.length">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.length" title="Link to this definition">#</a></dt>
<dd><p>Calculate the lengths of many streamlines in a bundle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>Each item in the list is an array with 3D coordinates of a streamline.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>Iterator object which then computes the length of each</dt><dd></dd>
<dt>streamline in the bundle, upon iteration.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="unique-rows">
<h3>unique_rows<a class="headerlink" href="#unique-rows" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.unique_rows">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">unique_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_array</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'f4'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#unique_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.unique_rows" title="Link to this definition">#</a></dt>
<dd><p>Find the unique rows in an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>in_array: ndarray</strong></dt><dd><p>The array for which the unique rows should be found</p>
</dd>
<dt><strong>dtype: str, optional</strong></dt><dd><p>This determines the intermediate representation used for the
values. Should at least preserve the values of the input array.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>u_return: ndarray</dt><dd><p>Array with the unique rows of the original array.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="transform-tracking-output">
<h3>transform_tracking_output<a class="headerlink" href="#transform-tracking-output" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.transform_tracking_output">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">transform_tracking_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracking_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#transform_tracking_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.transform_tracking_output" title="Link to this definition">#</a></dt>
<dd><p>Apply a linear transformation, given by affine, to streamlines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tracking_output</strong><span class="classifier">Streamlines generator</span></dt><dd><p>Either streamlines (list, ArraySequence) or a tuple with streamlines
and seeds together</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>save_seeds</strong><span class="classifier">bool, optional</span></dt><dd><p>If set, seeds associated to streamlines will be also moved and returned</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">generator</span></dt><dd><p>A generator for the sequence of transformed streamlines.
If save_seeds is True, also return a generator for the
transformed seeds.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="reduce-rois">
<h3>reduce_rois<a class="headerlink" href="#reduce-rois" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.reduce_rois">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">reduce_rois</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rois</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#reduce_rois"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.reduce_rois" title="Link to this definition">#</a></dt>
<dd><p>Reduce multiple ROIs to one inclusion and one exclusion ROI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>rois</strong><span class="classifier">list or ndarray</span></dt><dd><p>A list of 3D arrays, each with shape (x, y, z) corresponding to the
shape of the brain volume, or a 4D array with shape (n_rois, x, y,
z). Non-zeros in each volume are considered to be within the region.</p>
</dd>
<dt><strong>include</strong><span class="classifier">array or list</span></dt><dd><p>A list or 1D array of boolean marking inclusion or exclusion
criteria.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>include_roi</strong><span class="classifier">boolean 3D array</span></dt><dd><p>An array marking the inclusion mask.</p>
</dd>
<dt><strong>exclude_roi</strong><span class="classifier">boolean 3D array</span></dt><dd><p>An array marking the exclusion mask</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The include_roi and exclude_roi can be used to perform the operation: “(A
or B or …) and not (X or Y or …)”, where A, B are inclusion regions
and X, Y are exclusion regions.</p>
</dd></dl>

</section>
<section id="path-length">
<h3>path_length<a class="headerlink" href="#path-length" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.path_length">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">path_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aoi</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#path_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.path_length" title="Link to this definition">#</a></dt>
<dd><p>Compute the shortest path, along any streamline, between aoi and
each voxel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">seq of (N, 3) arrays</span></dt><dd><p>A sequence of streamlines, path length is given in mm along the curve
of the streamline.</p>
</dd>
<dt><strong>aoi</strong><span class="classifier">array, 3d</span></dt><dd><p>A mask (binary array) of voxels from which to start computing distance.</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array (4, 4)</span></dt><dd><p>The mapping between voxel indices and the point space for seeds.
The voxel_to_rasmm matrix, typically from a NIFTI file.</p>
</dd>
<dt><strong>fill_value</strong><span class="classifier">float</span></dt><dd><p>The value of voxel in the path length map that are not connected to the
aoi.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>plm</strong><span class="classifier">array</span></dt><dd><p>Same shape as aoi. The minimum distance between every point and aoi
along the path of a streamline.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="max-angle-from-curvature">
<h3>max_angle_from_curvature<a class="headerlink" href="#max-angle-from-curvature" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.max_angle_from_curvature">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">max_angle_from_curvature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_radius_curvature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#max_angle_from_curvature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.max_angle_from_curvature" title="Link to this definition">#</a></dt>
<dd><p>Get the maximum deviation angle from the minimum radius curvature.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-tournier2012" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>min_radius_curvature: float</strong></dt><dd><p>Minimum radius of curvature in mm.</p>
</dd>
<dt><strong>step_size: float</strong></dt><dd><p>The tracking step size in mm.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>max_angle: float</dt><dd><p>The maximum deviation angle in radian,
given the radius curvature and the step size.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div class="docutils container" id="id13">
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-tournier2012" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id12">1</a>,<a role="doc-backlink" href="#id14">2</a>)</span>
<p>Jacques-Donald Tournier, Fernando Calamante, and Alan Connelly. MRtrix: Diffusion tractography in crossing fiber regions. <em>International Journal of Imaging Systems and Technology</em>, 22(1):53–66, 2012. URL: <a class="reference external" href="https://onlinelibrary.wiley.com/doi/abs/10.1002/ima.22005">https://onlinelibrary.wiley.com/doi/abs/10.1002/ima.22005</a>, <a class="reference external" href="https://doi.org/https://doi.org/10.1002/ima.22005">doi:https://doi.org/10.1002/ima.22005</a>.</p>
</aside>
</aside>
</div>
</dd></dl>

</section>
<section id="min-radius-curvature-from-angle">
<h3>min_radius_curvature_from_angle<a class="headerlink" href="#min-radius-curvature-from-angle" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.min_radius_curvature_from_angle">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">min_radius_curvature_from_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#min_radius_curvature_from_angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.min_radius_curvature_from_angle" title="Link to this definition">#</a></dt>
<dd><p>Get minimum radius of curvature from a deviation angle.</p>
<p>See <a class="footnote-reference brackets" href="#footcite-tournier2012" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> for further details about the method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>max_angle: float</strong></dt><dd><p>The maximum deviation angle in radian.
theta should be between [0 - pi/2] otherwise default will be pi/2.</p>
</dd>
<dt><strong>step_size: float</strong></dt><dd><p>The tracking step size in mm.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>min_radius_curvature: float</dt><dd><p>Minimum radius of curvature in mm,
given the maximum deviation angle theta and the step size.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
</dd></dl>

</section>
<section id="seeds-directions-pairs">
<h3>seeds_directions_pairs<a class="headerlink" href="#seeds-directions-pairs" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.tracking.utils.seeds_directions_pairs">
<span class="sig-prename descclassname"><span class="pre">dipy.tracking.utils.</span></span><span class="sig-name descname"><span class="pre">seeds_directions_pairs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">positions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peaks</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cross</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/tracking/utils.html#seeds_directions_pairs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dipy.tracking.utils.seeds_directions_pairs" title="Link to this definition">#</a></dt>
<dd><p>Pair each seed to the corresponding peaks. If multiple peaks are available
the seed is repeated for each.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>positions</strong><span class="classifier">array, (N, 3)</span></dt><dd><p>Coordinates of the N positions.</p>
</dd>
<dt><strong>peaks</strong><span class="classifier">array (N, M, 3)</span></dt><dd><p>Peaks at each position</p>
</dd>
<dt><strong>max_cross</strong><span class="classifier">int, optional</span></dt><dd><p>The maximum number of direction to track from each seed in crossing
voxels. By default all voxel peaks are used.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>seeds</strong><span class="classifier">array (K, 3)</span></dt><dd></dd>
<dt><strong>directions</strong><span class="classifier">array (K, 3)</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="dipy.stats.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stats</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="dipy.version.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">version</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking._utils">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking._utils</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.learning">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.learning</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.life">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.life</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.local_tracking">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.local_tracking</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.mesh">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.mesh</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.metrics">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.metrics</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.streamline">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.streamline</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.tracker">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.tracker</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.tracking.utils">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking.utils</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#important-notes">Important Notes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#detect-corresponding-tracks">detect_corresponding_tracks</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.learning.detect_corresponding_tracks"><code class="docutils literal notranslate"><span class="pre">detect_corresponding_tracks()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#detect-corresponding-tracks-plus">detect_corresponding_tracks_plus</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.learning.detect_corresponding_tracks_plus"><code class="docutils literal notranslate"><span class="pre">detect_corresponding_tracks_plus()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lifesignalmaker"><code class="xref py py-class docutils literal notranslate"><span class="pre">LifeSignalMaker</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.LifeSignalMaker"><code class="docutils literal notranslate"><span class="pre">LifeSignalMaker</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.LifeSignalMaker.calc_signal"><code class="docutils literal notranslate"><span class="pre">LifeSignalMaker.calc_signal()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.LifeSignalMaker.streamline_signal"><code class="docutils literal notranslate"><span class="pre">LifeSignalMaker.streamline_signal()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fibermodel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiberModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.FiberModel"><code class="docutils literal notranslate"><span class="pre">FiberModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.FiberModel.fit"><code class="docutils literal notranslate"><span class="pre">FiberModel.fit()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.FiberModel.setup"><code class="docutils literal notranslate"><span class="pre">FiberModel.setup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fiberfit"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiberFit</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.FiberFit"><code class="docutils literal notranslate"><span class="pre">FiberFit</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.FiberFit.predict"><code class="docutils literal notranslate"><span class="pre">FiberFit.predict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gradient">gradient</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.gradient"><code class="docutils literal notranslate"><span class="pre">gradient()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamline-gradients">streamline_gradients</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.streamline_gradients"><code class="docutils literal notranslate"><span class="pre">streamline_gradients()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grad-tensor">grad_tensor</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.grad_tensor"><code class="docutils literal notranslate"><span class="pre">grad_tensor()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamline-tensors">streamline_tensors</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.streamline_tensors"><code class="docutils literal notranslate"><span class="pre">streamline_tensors()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamline-signal">streamline_signal</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.streamline_signal"><code class="docutils literal notranslate"><span class="pre">streamline_signal()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#voxel2streamline">voxel2streamline</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.life.voxel2streamline"><code class="docutils literal notranslate"><span class="pre">voxel2streamline()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#localtracking"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalTracking</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.local_tracking.LocalTracking"><code class="docutils literal notranslate"><span class="pre">LocalTracking</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#particlefilteringtracking"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParticleFilteringTracking</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.local_tracking.ParticleFilteringTracking"><code class="docutils literal notranslate"><span class="pre">ParticleFilteringTracking</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-coordinates-from-surface">random_coordinates_from_surface</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.mesh.random_coordinates_from_surface"><code class="docutils literal notranslate"><span class="pre">random_coordinates_from_surface()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seeds-from-surface-coordinates">seeds_from_surface_coordinates</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.mesh.seeds_from_surface_coordinates"><code class="docutils literal notranslate"><span class="pre">seeds_from_surface_coordinates()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#triangles-area">triangles_area</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.mesh.triangles_area"><code class="docutils literal notranslate"><span class="pre">triangles_area()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vertices-to-triangles-values">vertices_to_triangles_values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.mesh.vertices_to_triangles_values"><code class="docutils literal notranslate"><span class="pre">vertices_to_triangles_values()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#winding">winding</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.winding"><code class="docutils literal notranslate"><span class="pre">winding()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#length">length</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.length"><code class="docutils literal notranslate"><span class="pre">length()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bytes">bytes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.bytes"><code class="docutils literal notranslate"><span class="pre">bytes()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#midpoint">midpoint</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.midpoint"><code class="docutils literal notranslate"><span class="pre">midpoint()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#center-of-mass">center_of_mass</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.center_of_mass"><code class="docutils literal notranslate"><span class="pre">center_of_mass()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#magn">magn</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.magn"><code class="docutils literal notranslate"><span class="pre">magn()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#frenet-serret">frenet_serret</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.frenet_serret"><code class="docutils literal notranslate"><span class="pre">frenet_serret()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-curvature">mean_curvature</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.mean_curvature"><code class="docutils literal notranslate"><span class="pre">mean_curvature()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-orientation">mean_orientation</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.mean_orientation"><code class="docutils literal notranslate"><span class="pre">mean_orientation()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-combinations">generate_combinations</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.generate_combinations"><code class="docutils literal notranslate"><span class="pre">generate_combinations()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#longest-track-bundle">longest_track_bundle</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.longest_track_bundle"><code class="docutils literal notranslate"><span class="pre">longest_track_bundle()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intersect-sphere">intersect_sphere</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.intersect_sphere"><code class="docutils literal notranslate"><span class="pre">intersect_sphere()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inside-sphere">inside_sphere</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.inside_sphere"><code class="docutils literal notranslate"><span class="pre">inside_sphere()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inside-sphere-points">inside_sphere_points</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.inside_sphere_points"><code class="docutils literal notranslate"><span class="pre">inside_sphere_points()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spline">spline</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.spline"><code class="docutils literal notranslate"><span class="pre">spline()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#startpoint">startpoint</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.startpoint"><code class="docutils literal notranslate"><span class="pre">startpoint()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#endpoint">endpoint</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.endpoint"><code class="docutils literal notranslate"><span class="pre">endpoint()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrarypoint">arbitrarypoint</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.arbitrarypoint"><code class="docutils literal notranslate"><span class="pre">arbitrarypoint()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#principal-components">principal_components</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.principal_components"><code class="docutils literal notranslate"><span class="pre">principal_components()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#midpoint2point">midpoint2point</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.metrics.midpoint2point"><code class="docutils literal notranslate"><span class="pre">midpoint2point()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unlist-streamlines">unlist_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.unlist_streamlines"><code class="docutils literal notranslate"><span class="pre">unlist_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relist-streamlines">relist_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.relist_streamlines"><code class="docutils literal notranslate"><span class="pre">relist_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#center-streamlines">center_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.center_streamlines"><code class="docutils literal notranslate"><span class="pre">center_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deform-streamlines">deform_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.deform_streamlines"><code class="docutils literal notranslate"><span class="pre">deform_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transform-streamlines">transform_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.transform_streamlines"><code class="docutils literal notranslate"><span class="pre">transform_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select-random-set-of-streamlines">select_random_set_of_streamlines</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.select_random_set_of_streamlines"><code class="docutils literal notranslate"><span class="pre">select_random_set_of_streamlines()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#select-by-rois">select_by_rois</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.select_by_rois"><code class="docutils literal notranslate"><span class="pre">select_by_rois()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cluster-confidence">cluster_confidence</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.cluster_confidence"><code class="docutils literal notranslate"><span class="pre">cluster_confidence()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orient-by-rois">orient_by_rois</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.orient_by_rois"><code class="docutils literal notranslate"><span class="pre">orient_by_rois()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#orient-by-streamline">orient_by_streamline</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.orient_by_streamline"><code class="docutils literal notranslate"><span class="pre">orient_by_streamline()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#values-from-volume">values_from_volume</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.values_from_volume"><code class="docutils literal notranslate"><span class="pre">values_from_volume()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nbytes">nbytes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.streamline.nbytes"><code class="docutils literal notranslate"><span class="pre">nbytes()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generic-tracking">generic_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.generic_tracking"><code class="docutils literal notranslate"><span class="pre">generic_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#probabilistic-tracking">probabilistic_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.probabilistic_tracking"><code class="docutils literal notranslate"><span class="pre">probabilistic_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deterministic-tracking">deterministic_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.deterministic_tracking"><code class="docutils literal notranslate"><span class="pre">deterministic_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ptt-tracking">ptt_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.ptt_tracking"><code class="docutils literal notranslate"><span class="pre">ptt_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#closestpeak-tracking">closestpeak_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.closestpeak_tracking"><code class="docutils literal notranslate"><span class="pre">closestpeak_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bootstrap-tracking">bootstrap_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.bootstrap_tracking"><code class="docutils literal notranslate"><span class="pre">bootstrap_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eudx-tracking">eudx_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.eudx_tracking"><code class="docutils literal notranslate"><span class="pre">eudx_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pft-tracking">pft_tracking</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.tracker.pft_tracking"><code class="docutils literal notranslate"><span class="pre">pft_tracking()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#density-map">density_map</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.density_map"><code class="docutils literal notranslate"><span class="pre">density_map()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connectivity-matrix">connectivity_matrix</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.connectivity_matrix"><code class="docutils literal notranslate"><span class="pre">connectivity_matrix()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ndbincount">ndbincount</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.ndbincount"><code class="docutils literal notranslate"><span class="pre">ndbincount()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-labels">reduce_labels</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.reduce_labels"><code class="docutils literal notranslate"><span class="pre">reduce_labels()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsegment">subsegment</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.subsegment"><code class="docutils literal notranslate"><span class="pre">subsegment()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seeds-from-mask">seeds_from_mask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.seeds_from_mask"><code class="docutils literal notranslate"><span class="pre">seeds_from_mask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-seeds-from-mask">random_seeds_from_mask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.random_seeds_from_mask"><code class="docutils literal notranslate"><span class="pre">random_seeds_from_mask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#target">target</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.target"><code class="docutils literal notranslate"><span class="pre">target()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#target-line-based">target_line_based</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.target_line_based"><code class="docutils literal notranslate"><span class="pre">target_line_based()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamline-near-roi">streamline_near_roi</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.streamline_near_roi"><code class="docutils literal notranslate"><span class="pre">streamline_near_roi()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#near-roi">near_roi</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.near_roi"><code class="docutils literal notranslate"><span class="pre">near_roi()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">length</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.length"><code class="docutils literal notranslate"><span class="pre">length()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#unique-rows">unique_rows</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.unique_rows"><code class="docutils literal notranslate"><span class="pre">unique_rows()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transform-tracking-output">transform_tracking_output</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.transform_tracking_output"><code class="docutils literal notranslate"><span class="pre">transform_tracking_output()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reduce-rois">reduce_rois</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.reduce_rois"><code class="docutils literal notranslate"><span class="pre">reduce_rois()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#path-length">path_length</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.path_length"><code class="docutils literal notranslate"><span class="pre">path_length()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#max-angle-from-curvature">max_angle_from_curvature</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.max_angle_from_curvature"><code class="docutils literal notranslate"><span class="pre">max_angle_from_curvature()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#min-radius-curvature-from-angle">min_radius_curvature_from_angle</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.min_radius_curvature_from_angle"><code class="docutils literal notranslate"><span class="pre">min_radius_curvature_from_angle()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seeds-directions-pairs">seeds_directions_pairs</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.tracking.utils.seeds_directions_pairs"><code class="docutils literal notranslate"><span class="pre">seeds_directions_pairs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  
<script type="module" src="../_static/scripts/grg-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><div>
  <h3 class="footer-heading">
    Never miss an update from us!
  </h3>
  <p class="footer-sub-heading">
    Don't worry! we are not going to spam you.
  </p>
  <div class="input-group mb-3 mar-t-10">
    <input type="text" class="form-control" placeholder="You email" aria-label="You email" id="grg-subscribe-email">
    <div class="input-group-append pointer" onclick="(document.getElementById('grg-subscribe-email').value)">
      <span class="input-group-text subscribe">Subscribe</span>
    </div>
  </div>  
  <ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dipy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/dipymri" title="Twitter/X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter/X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/c/diffusionimaginginpython" title="YouTube" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-youtube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">YouTube</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/dipy/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
</ul>
</div></div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><div class="grid-3">
  
  <div>
    <h5 class="footer-heading">
      About
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="https://dipy.org/team">
            Developers
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://github.com/dipy/dipy/discussions" target="_blank" rel="noopener noreferrer">
            Support
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../user_guide/installation.html">
            Download
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../user_guide/getting_started.html">
            Get Started
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="../examples_built/index.html">
            Tutorials
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://www.youtube.com/c/diffusionimaginginpython" target="_blank" rel="noopener noreferrer">
            Videos
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Friends
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="http://nipy.org/" target="_blank" rel="noopener noreferrer">
            Nipy Projects
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="http://fury.gl/" target="_blank" rel="noopener noreferrer">
            FURY
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="http://nipy.org/nibabel" target="_blank" rel="noopener noreferrer">
            Nibabel
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://tortoise.nibib.nih.gov/" target="_blank" rel="noopener noreferrer">
            Tortoise
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
  <div>
    <h5 class="footer-heading">
      Support
    </h5>
    <ul class="footer-section">
      
        
        <li class="pad-v-5">
          <a href="https://engineering.indiana.edu/" target="_blank" rel="noopener noreferrer">
            The department of Intelligent Systems Engineering of Indiana University
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://www.nibib.nih.gov/" target="_blank" rel="noopener noreferrer">
            The National Institute of Biomedical Imaging and Bioengineering, NIH
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://escience.washington.edu" target="_blank" rel="noopener noreferrer">
            The Gordon and Betty Moore Foundation and the Alfred P. Sloan Foundation, through the University of Washington eScience Institute Data Science Environment
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
        
        <li class="pad-v-5">
          <a href="https://summerofcode.withgoogle.com/" target="_blank" rel="noopener noreferrer">
            Google supported DIPY through the Google Summer of Code Program (2015-2024)
            <i class="fa-solid fa-arrow-up-long mar-l-5"></i>
          </a>
        </li>
        
      
    </ul>
  </div>
  
</div></div>
      
    </div>
  
</div>

    <div class="copyright-text">
      <i class="fa-regular fa-copyright"></i> Copyright 2008-2025,DIPY developers. Created using Grg Sphinx Theme and PyData Sphinx Theme.
    </div>
  </footer>
  </body>
</html>