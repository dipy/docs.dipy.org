
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DIPY &#8212; dipy 1.8.0dev0 documentation</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/dipy.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

  
<link rel="stylesheet" href="../_static/styles/grg-sphinx-theme.css"/>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/dipy.segment';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="sims" href="dipy.sims.html" />
    <link rel="prev" title="reconst" href="dipy.reconst.html" />

  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">




  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
<nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">dipy 1.8.0dev0 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../documentation.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../stateoftheart.html">
                        A quick overview of features
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

</nav>
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../documentation.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../stateoftheart.html">
                        A quick overview of features
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">What is DIPY?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission.html">Mission statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data.html">Data</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../interfaces/index.html">DIPY Workflows Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/basic_flow.html">Introduction to command line interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/data_fetch.html">Downloading DIPY datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/denoise_flow.html">Denoising</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/motion_flow.html">Between-Volumes Motion Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/gibbs_unringing_flow.html">Gibbs Unringing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/registration_flow.html">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/reconstruction_flow.html">Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/tracking_flow.html">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/buan_flow.html">BUndle ANalytics (BUAN) framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/bundle_segmentation_flow.html">White Matter Bundle Segmentation with RecoBundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/bundlewarp_registration_flow.html">Nonrigid White Matter Bundle Registration with BundleWarp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">Publications</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../devel/index.html">DIPY development</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../devel/intro.html">Introduction</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../devel/gitwash/index.html">Working with DIPY source code</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../devel/gitwash/git_intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devel/gitwash/git_install.html">Install git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devel/gitwash/following_latest.html">Following the latest source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../devel/gitwash/patching.html">Making a patch</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../devel/gitwash/git_development.html">Git for development</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../devel/gitwash/forking_hell.html">Making your own copy (fork) of DIPY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devel/gitwash/set_up_fork.html">Set up your fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devel/gitwash/configure_git.html">Configure git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devel/gitwash/development_workflow.html">Development workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../devel/gitwash/maintainer_workflow.html">Maintainer workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../devel/gitwash/git_resources.html">git resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../devel/make_release.html">A guide to making a DIPY release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devel/commit_codes.html">Commit message codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devel/coding_style_guideline.html">DIPY Coding Style Guideline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devel/python3.html">Keeping code compatible with Pythons 2 and 3</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../theory/index.html">Theory and concepts</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../theory/spherical.html">Spherical coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory/sh_basis.html">Spherical Harmonic bases</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dipy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dipy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.align.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">align</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.boots.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">boots</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.core.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.denoise.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">denoise</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.direction.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">direction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.io.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.nn.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.reconst.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.sims.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.stats.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.tracking.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.viz.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viz</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="dipy.workflows.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">workflows</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference_cmd/index.html">Command Line Utilities Reference</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_align_affine.html">dipy_align_affine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_align_syn.html">dipy_align_syn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_apply_transform.html">dipy_apply_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_buan_lmm.html">dipy_buan_lmm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_buan_profiles.html">dipy_buan_profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_bundlewarp.html">dipy_bundlewarp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_correct_motion.html">dipy_correct_motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_lpca.html">dipy_denoise_lpca</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_mppca.html">dipy_denoise_mppca</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_nlmeans.html">dipy_denoise_nlmeans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_patch2self.html">dipy_denoise_patch2self</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_evac_plus.html">dipy_evac_plus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fetch.html">dipy_fetch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_csa.html">dipy_fit_csa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_csd.html">dipy_fit_csd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_dki.html">dipy_fit_dki</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_dti.html">dipy_fit_dti</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_ivim.html">dipy_fit_ivim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_mapmri.html">dipy_fit_mapmri</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_gibbs_ringing.html">dipy_gibbs_ringing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_horizon.html">dipy_horizon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_info.html">dipy_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_labelsbundles.html">dipy_labelsbundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_mask.html">dipy_mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_median_otsu.html">dipy_median_otsu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_recobundles.html">dipy_recobundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_reslice.html">dipy_reslice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_slr.html">dipy_slr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_snr_in_cc.html">dipy_snr_in_cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_split.html">dipy_split</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_track.html">dipy_track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_track_pft.html">dipy_track_pft</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_changes.html">API changes</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../documentation.html" class="nav-link">Documentation</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">DIPY</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
<section id="module-dipy.segment">
<span id="segment"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code><a class="headerlink" href="#module-dipy.segment" title="Permalink to this heading">#</a></h1>
<table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
<section id="module-dipy.segment.benchmarks">
<span id="module-segment-benchmarks"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.benchmarks</span></code><a class="headerlink" href="#module-dipy.segment.benchmarks" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
</section>
<section id="module-dipy.segment.benchmarks.bench_quickbundles">
<span id="module-segment-benchmarks-bench-quickbundles"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.benchmarks.bench_quickbundles</span></code><a class="headerlink" href="#module-dipy.segment.benchmarks.bench_quickbundles" title="Permalink to this heading">#</a></h2>
<p>Benchmarks for QuickBundles</p>
<p>Run all benchmarks with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dipy.segment</span> <span class="k">as</span> <span class="nn">dipysegment</span>
<span class="n">dipysegment</span><span class="o">.</span><span class="n">bench</span><span class="p">()</span>
</pre></div>
</div>
<p>With Pytest, Run this benchmark with:</p>
<blockquote>
<div><p>pytest -svv -c bench.ini /path/to/bench_quickbundles.py</p>
</div></blockquote>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy" title="dipy.segment.benchmarks.bench_quickbundles.MDFpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MDFpy</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles" title="dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bench_quickbundles</span></code></a>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.bundles">
<span id="module-segment-bundles"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.bundles</span></code><a class="headerlink" href="#module-dipy.segment.bundles" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.RecoBundles" title="dipy.segment.bundles.RecoBundles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RecoBundles</span></code></a>(streamlines[, greater_than, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.check_range" title="dipy.segment.bundles.check_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_range</span></code></a>(streamline, gt, lt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.logger" title="dipy.segment.bundles.logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logger</span></code></a></p></td>
<td><p>Instances of the Logger class represent a single logging channel.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.bundle_adjacency" title="dipy.segment.bundles.bundle_adjacency"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bundle_adjacency</span></code></a>(dtracks0, dtracks1, threshold)</p></td>
<td><p>Find bundle adjacency between two given tracks/bundles</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.ba_analysis" title="dipy.segment.bundles.ba_analysis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ba_analysis</span></code></a>(recognized_bundle, expert_bundle)</p></td>
<td><p>Calculates bundle adjacency score between two given bundles</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.bundles.cluster_bundle" title="dipy.segment.bundles.cluster_bundle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster_bundle</span></code></a>(bundle, clust_thr, rng[, ...])</p></td>
<td><p>Clusters bundles</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.bundles.bundle_shape_similarity" title="dipy.segment.bundles.bundle_shape_similarity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bundle_shape_similarity</span></code></a>(bundle1, bundle2, rng)</p></td>
<td><p>Calculates bundle shape similarity between two given bundles using bundle adjacency (BA) metric</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.clustering">
<span id="module-segment-clustering"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.clustering</span></code><a class="headerlink" href="#module-dipy.segment.clustering" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.Identity" title="dipy.segment.clustering.Identity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Identity</span></code></a>()</p></td>
<td><p>Provides identity indexing functionality.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cluster</span></code></a>([id, indices, refdata])</p></td>
<td><p>Provides functionalities for interacting with a cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a>(centroid[, id, indices, refdata])</p></td>
<td><p>Provides functionalities for interacting with a cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterMap</span></code></a>([refdata])</p></td>
<td><p>Provides functionalities for interacting with clustering outputs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.ClusterMapCentroid" title="dipy.segment.clustering.ClusterMapCentroid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a>([refdata])</p></td>
<td><p>Provides functionalities for interacting with clustering outputs that have centroids.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Clustering</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundles" title="dipy.segment.clustering.QuickBundles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuickBundles</span></code></a>(threshold[, metric, ...])</p></td>
<td><p>Clusters streamlines using QuickBundles <a class="reference internal" href="#id110" id="id1"><span>[Garyfallidis12]</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.QuickBundlesX" title="dipy.segment.clustering.QuickBundlesX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a>(thresholds[, metric])</p></td>
<td><p>Clusters streamlines using QuickBundlesX.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.TreeCluster" title="dipy.segment.clustering.TreeCluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeCluster</span></code></a>(threshold, centroid[, indices])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.TreeClusterMap" title="dipy.segment.clustering.TreeClusterMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a>(root)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.clustering.logger" title="dipy.segment.clustering.logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logger</span></code></a></p></td>
<td><p>Instances of the Logger class represent a single logging channel.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.clustering.qbx_and_merge" title="dipy.segment.clustering.qbx_and_merge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qbx_and_merge</span></code></a>(streamlines, thresholds[, ...])</p></td>
<td><p>Run QuickBundlesX and then run again on the centroids of the last layer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.fss">
<span id="module-segment-fss"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.fss</span></code><a class="headerlink" href="#module-dipy.segment.fss" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.fss.FastStreamlineSearch" title="dipy.segment.fss.FastStreamlineSearch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a>(ref_streamlines, max_radius)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.fss.nearest_from_matrix_row" title="dipy.segment.fss.nearest_from_matrix_row"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nearest_from_matrix_row</span></code></a>(coo_matrix)</p></td>
<td><p>Return the nearest (smallest) for each row given an coup sparse matrix</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.fss.nearest_from_matrix_col" title="dipy.segment.fss.nearest_from_matrix_col"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nearest_from_matrix_col</span></code></a>(coo_matrix)</p></td>
<td><p>Return the nearest (smallest) for each column given an coup sparse matrix</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.mask">
<span id="module-segment-mask"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.mask</span></code><a class="headerlink" href="#module-dipy.segment.mask" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.multi_median" title="dipy.segment.mask.multi_median"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multi_median</span></code></a>(data, median_radius, numpass)</p></td>
<td><p>Applies median filter multiple times on input data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.applymask" title="dipy.segment.mask.applymask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">applymask</span></code></a>(vol, mask)</p></td>
<td><p>Mask vol with mask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.bounding_box" title="dipy.segment.mask.bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounding_box</span></code></a>(vol)</p></td>
<td><p>Compute the bounding box of nonzero intensity voxels in the volume.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.crop" title="dipy.segment.mask.crop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">crop</span></code></a>(vol, mins, maxs)</p></td>
<td><p>Crops the input volume.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.median_otsu" title="dipy.segment.mask.median_otsu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">median_otsu</span></code></a>(input_volume[, vol_idx, ...])</p></td>
<td><p>Simple brain extraction tool method for images from DWI data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.mask.segment_from_cfa" title="dipy.segment.mask.segment_from_cfa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segment_from_cfa</span></code></a>(tensor_fit, roi, threshold)</p></td>
<td><p>Segment the cfa inside roi using the values from threshold as bounds.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.mask.clean_cc_mask" title="dipy.segment.mask.clean_cc_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean_cc_mask</span></code></a>(mask)</p></td>
<td><p>Cleans a segmentation of the corpus callosum so no random pixels are included.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.metric">
<span id="module-segment-metric"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.metric</span></code><a class="headerlink" href="#module-dipy.segment.metric" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.metric.mdf" title="dipy.segment.metric.mdf"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mdf</span></code></a>(s1, s2)</p></td>
<td><p>Computes the MDF (Minimum average Direct-Flip) distance <a class="reference internal" href="#id110" id="id2"><span>[Garyfallidis12]</span></a> between two streamlines.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.metric.mean_manhattan_distance" title="dipy.segment.metric.mean_manhattan_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_manhattan_distance</span></code></a>(a, b)</p></td>
<td><p>Compute the average Manhattan-L1 distance (MDF without flip)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.metric.mean_euclidean_distance" title="dipy.segment.metric.mean_euclidean_distance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_euclidean_distance</span></code></a>(a, b)</p></td>
<td><p>Compute the average Euclidean-L2 distance (MDF without flip)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.threshold">
<span id="module-segment-threshold"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.threshold</span></code><a class="headerlink" href="#module-dipy.segment.threshold" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.threshold.otsu" title="dipy.segment.threshold.otsu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">otsu</span></code></a>(image[, nbins])</p></td>
<td><p>Return threshold value based on Otsu's method.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.segment.threshold.upper_bound_by_rate" title="dipy.segment.threshold.upper_bound_by_rate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_bound_by_rate</span></code></a>(data[, rate])</p></td>
<td><p>Adjusts upper intensity boundary using rates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.threshold.upper_bound_by_percent" title="dipy.segment.threshold.upper_bound_by_percent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">upper_bound_by_percent</span></code></a>(data[, percent])</p></td>
<td><p>Find the upper bound for visualization of medical images</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-dipy.segment.tissue">
<span id="module-segment-tissue"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.tissue</span></code><a class="headerlink" href="#module-dipy.segment.tissue" title="Permalink to this heading">#</a></h2>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.segment.tissue.TissueClassifierHMRF" title="dipy.segment.tissue.TissueClassifierHMRF"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a>([save_history, verbose])</p></td>
<td><p>This class contains the methods for tissue classification using the Markov Random Fields modeling approach</p></td>
</tr>
</tbody>
</table>
<section id="mdfpy">
<h3><a class="reference internal" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy" title="dipy.segment.benchmarks.bench_quickbundles.MDFpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">MDFpy</span></code></a><a class="headerlink" href="#mdfpy" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.benchmarks.bench_quickbundles.MDFpy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.benchmarks.bench_quickbundles.</span></span><span class="sig-name descname"><span class="pre">MDFpy</span></span><a class="headerlink" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Metric</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.benchmarks.bench_quickbundles.MDFpy.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible">
<span class="sig-name descname"><span class="pre">are_compatible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible" title="Permalink to this definition">#</a></dt>
<dd><p>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</p>
<p>Basically this method exists so we don’t have to do this check
inside the <cite>metric.dist</cite> function (speedup).</p>
<section id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>shape1<span class="classifier">int, 1-tuple or 2-tuple</span></dt><dd><p>shape of the first data point’s features</p>
</dd>
<dt>shape2<span class="classifier">int, 1-tuple or 2-tuple</span></dt><dd><p>shape of the second data point’s features</p>
</dd>
</dl>
</section>
<section id="returns">
<h4>Returns<a class="headerlink" href="#returns" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>are_compatible<span class="classifier">bool</span></dt><dd><p>whether or not shapes are compatible</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist">
<span class="sig-name descname"><span class="pre">dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist" title="Permalink to this definition">#</a></dt>
<dd><p>Computes a distance between two data points based on their features.</p>
<section id="id3">
<h4>Parameters<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>features1<span class="classifier">2D array</span></dt><dd><p>Features of the first data point.</p>
</dd>
<dt>features2<span class="classifier">2D array</span></dt><dd><p>Features of the second data point.</p>
</dd>
</dl>
</section>
<section id="id4">
<h4>Returns<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>double</dt><dd><p>Distance between two data points.</p>
</dd>
</dl>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="bench-quickbundles">
<h3>bench_quickbundles<a class="headerlink" href="#bench-quickbundles" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.benchmarks.bench_quickbundles.</span></span><span class="sig-name descname"><span class="pre">bench_quickbundles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="recobundles">
<h3><a class="reference internal" href="#dipy.segment.bundles.RecoBundles" title="dipy.segment.bundles.RecoBundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><a class="headerlink" href="#recobundles" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">RecoBundles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">less_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.RecoBundles" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">less_than</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Recognition of bundles</p>
<p>Extract bundles from a participants’ tractograms using model bundles
segmented from a different subject or an atlas of bundles.
See <a class="reference internal" href="../reference_cmd/dipy_slr.html#garyfallidis17" id="id5"><span>[Garyfallidis17]</span></a> for the details.</p>
<section id="id6">
<h4>Parameters<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>streamlines<span class="classifier">Streamlines</span></dt><dd><p>The tractogram in which you want to recognize bundles.</p>
</dd>
<dt>greater_than<span class="classifier">int, optional</span></dt><dd><p>Keep streamlines that have length greater than
this value (default 50)</p>
</dd>
<dt>less_than<span class="classifier">int, optional</span></dt><dd><p>Keep streamlines have length less than this value (default 1000000)</p>
</dd>
<dt>cluster_map<span class="classifier">QB map, optional.</span></dt><dd><p>Provide existing clustering to start RB faster (default None).</p>
</dd>
<dt>clust_thr<span class="classifier">float, optional.</span></dt><dd><p>Distance threshold in mm for clustering <cite>streamlines</cite>.
Default: 15.</p>
</dd>
<dt>nb_pts<span class="classifier">int, optional.</span></dt><dd><p>Number of points per streamline (default 20)</p>
</dd>
<dt>rng<span class="classifier">RandomState</span></dt><dd><p>If None define RandomState in initialization function.
Default: None</p>
</dd>
<dt>verbose: bool, optional.</dt><dd><p>If True, log information.</p>
</dd>
</dl>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Permalink to this heading">#</a></h4>
<p>Make sure that before creating this class that the streamlines and
the model bundles are roughly in the same space.
Also default thresholds are assumed in RAS 1mm^3 space. You may
want to adjust those if your streamlines are not in world coordinates.</p>
</section>
<section id="references">
<h4>References<a class="headerlink" href="#references" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="garyfallidis17" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis17<span class="fn-bracket">]</span></span>
<p>Garyfallidis et al. Recognition of white matter
bundles using local and global streamline-based registration and
clustering, Neuroimage, 2017.</p>
</div>
</div>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.evaluate_results">
<span class="sig-name descname"><span class="pre">evaluate_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruned_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.evaluate_results" title="Permalink to this definition">#</a></dt>
<dd><p>Compare the similarity between two given bundles, model bundle,
and extracted bundle.</p>
<section id="id7">
<h4>Parameters<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h4>
<p>model_bundle : Streamlines
pruned_streamlines : Streamlines
slr_select : tuple</p>
<blockquote>
<div><p>Select the number of streamlines from model to neirborhood of
model to perform the local SLR.</p>
</div></blockquote>
</section>
<section id="id8">
<h4>Returns<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>ba_value<span class="classifier">float</span></dt><dd><p>bundle adjacency value between model bundle and pruned bundle</p>
</dd>
<dt>bmd_value<span class="classifier">float</span></dt><dd><p>bundle minimum distance value between model bundle and
pruned bundle</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.recognize">
<span class="sig-name descname"><span class="pre">recognize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_clust_thr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(400,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L-BFGS-B'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.recognize" title="Permalink to this definition">#</a></dt>
<dd><p>Recognize the model_bundle in self.streamlines</p>
<section id="id9">
<h4>Parameters<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>model_bundle<span class="classifier">Streamlines</span></dt><dd><p>model bundle streamlines used as a reference to extract similar
streamlines from input tractogram</p>
</dd>
<dt>model_clust_thr<span class="classifier">float</span></dt><dd><p>MDF distance threshold for the model bundles</p>
</dd>
<dt>reduction_thr<span class="classifier">float, optional</span></dt><dd><p>Reduce search space in the target tractogram by (mm) (default 10)</p>
</dd>
<dt>reduction_distance<span class="classifier">string, optional</span></dt><dd><p>Reduction distance type can be mdf or mam (default mdf)</p>
</dd>
<dt>slr<span class="classifier">bool, optional</span></dt><dd><p>Use Streamline-based Linear Registration (SLR) locally
(default True)</p>
</dd>
<dt>num_threads<span class="classifier">int, optional</span></dt><dd><p>Number of threads to be used for OpenMP parallelization. If None
(default) the value of OMP_NUM_THREADS environment variable is used
if it is set, otherwise all available threads are used. If &lt; 0 the
maximal number of threads minus <a href="#id123"><span class="problematic" id="id124">|num_threads + 1|</span></a> is used (enter -1
to use as many threads as possible). 0 raises an error.</p>
</dd>
</dl>
<p>slr_metric : BundleMinDistanceMetric
slr_x0 : array or int or str, optional</p>
<blockquote>
<div><p>Transformation allowed. translation, rigid, similarity or scaling
Initial parametrization for the optimization.</p>
<dl>
<dt>If 1D array with:</dt><dd><p>a) 6 elements then only rigid registration is performed with
the 3 first elements for translation and 3 for rotation.
b) 7 elements also isotropic scaling is performed (similarity).
c) 12 elements then translation, rotation (in degrees),
scaling and shearing are performed (affine).</p>
<p>Here is an example of x0 with 12 elements:
<code class="docutils literal notranslate"><span class="pre">x0=np.array([0,</span> <span class="pre">10,</span> <span class="pre">0,</span> <span class="pre">40,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">2.,</span> <span class="pre">1.5,</span> <span class="pre">1,</span> <span class="pre">0.1,</span> <span class="pre">-0.5,</span> <span class="pre">0])</span></code></p>
<p>This has translation (0, 10, 0), rotation (40, 0, 0) in
degrees, scaling (2., 1.5, 1) and shearing (0.1, -0.5, 0).</p>
</dd>
<dt>If int:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>6</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>7</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>12</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
<dt>If str:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>“rigid”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“similarity”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“affine”</dt><dd><p><a href="#id10"><span class="problematic" id="id11">``</span></a>x0 = np.array([0, 0, 0, 0, 0, 0, 1., 1., 1, 0, 0, 0])</p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
<p>(default None)</p>
</div></blockquote>
<dl class="simple">
<dt>slr_bounds<span class="classifier">array, optional</span></dt><dd><p>(default None)</p>
</dd>
<dt>slr_select<span class="classifier">tuple, optional</span></dt><dd><p>Select the number of streamlines from model to neirborhood of
model to perform the local SLR.</p>
</dd>
<dt>slr_method<span class="classifier">string, optional</span></dt><dd><p>Optimization method ‘L_BFGS_B’ or ‘Powell’ optimizers can be used.
(default ‘L-BFGS-B’)</p>
</dd>
<dt>pruning_thr<span class="classifier">float, optional</span></dt><dd><p>Pruning after reducing the search space (default 5).</p>
</dd>
<dt>pruning_distance<span class="classifier">string, optional</span></dt><dd><p>Pruning distance type can be mdf or mam (default mdf)</p>
</dd>
</dl>
</section>
<section id="id12">
<h4>Returns<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>recognized_transf<span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle in the space of the model tractogram</p>
</dd>
<dt>recognized_labels<span class="classifier">array</span></dt><dd><p>Indices of recognized bundle in the original tractogram</p>
</dd>
</dl>
</section>
<section id="id13">
<h4>References<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id14" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis17<span class="fn-bracket">]</span></span>
<p>Garyfallidis et al. Recognition of white matter
bundles using local and global streamline-based registration and
clustering, Neuroimage, 2017.</p>
</div>
</div>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.bundles.RecoBundles.refine">
<span class="sig-name descname"><span class="pre">refine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruned_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_clust_thr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">14</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(400,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slr_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L-BFGS-B'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pruning_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mdf'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.RecoBundles.refine" title="Permalink to this definition">#</a></dt>
<dd><p>Refine and recognize the model_bundle in self.streamlines
This method expects once pruned streamlines as input. It refines the
first output of recobundle by applying second local slr (optional),
and second pruning. This method is useful when we are dealing with
noisy data or when we want to extract small tracks from tractograms.
This time, search space is created using pruned bundle and not model
bundle.</p>
<section id="id15">
<h4>Parameters<a class="headerlink" href="#id15" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>model_bundle<span class="classifier">Streamlines</span></dt><dd><p>model bundle streamlines used as a reference to extract similar
streamlines from input tractogram</p>
</dd>
<dt>pruned_streamlines<span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle from target tractogram by RecoBundles.</p>
</dd>
<dt>model_clust_thr<span class="classifier">float</span></dt><dd><p>MDF distance threshold for the model bundles</p>
</dd>
<dt>reduction_thr<span class="classifier">float</span></dt><dd><p>Reduce search space by (mm) (default 14)</p>
</dd>
<dt>reduction_distance<span class="classifier">string</span></dt><dd><p>Reduction distance type can be mdf or mam (default mdf)</p>
</dd>
<dt>slr<span class="classifier">bool</span></dt><dd><p>Use Streamline-based Linear Registration (SLR) locally
(default True)</p>
</dd>
</dl>
<p>slr_metric : BundleMinDistanceMetric
slr_x0 : array or int or str</p>
<blockquote>
<div><p>Transformation allowed. translation, rigid, similarity or scaling
Initial parametrization for the optimization.</p>
<dl>
<dt>If 1D array with:</dt><dd><p>a) 6 elements then only rigid registration is performed with
the 3 first elements for translation and 3 for rotation.
b) 7 elements also isotropic scaling is performed (similarity).
c) 12 elements then translation, rotation (in degrees),
scaling and shearing are performed (affine).</p>
<p>Here is an example of x0 with 12 elements:
<code class="docutils literal notranslate"><span class="pre">x0=np.array([0,</span> <span class="pre">10,</span> <span class="pre">0,</span> <span class="pre">40,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">2.,</span> <span class="pre">1.5,</span> <span class="pre">1,</span> <span class="pre">0.1,</span> <span class="pre">-0.5,</span> <span class="pre">0])</span></code></p>
<p>This has translation (0, 10, 0), rotation (40, 0, 0) in
degrees, scaling (2., 1.5, 1) and shearing (0.1, -0.5, 0).</p>
</dd>
<dt>If int:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>6</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>7</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>12</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.,</span> <span class="pre">1.,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
</ol>
</dd>
<dt>If str:</dt><dd><ol class="loweralpha simple">
<li><dl class="simple">
<dt>“rigid”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“similarity”</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">=</span> <span class="pre">np.array([0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1.])</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“affine”</dt><dd><p><a href="#id16"><span class="problematic" id="id17">``</span></a>x0 = np.array([0, 0, 0, 0, 0, 0, 1., 1., 1, 0, 0, 0])</p>
</dd>
</dl>
</li>
</ol>
</dd>
</dl>
<p>(default None)</p>
</div></blockquote>
<dl class="simple">
<dt>slr_bounds<span class="classifier">array</span></dt><dd><p>(default None)</p>
</dd>
<dt>slr_select<span class="classifier">tuple</span></dt><dd><p>Select the number of streamlines from model to neirborhood of
model to perform the local SLR.</p>
</dd>
<dt>slr_method<span class="classifier">string</span></dt><dd><p>Optimization method ‘L_BFGS_B’ or ‘Powell’ optimizers can be used.
(default ‘L-BFGS-B’)</p>
</dd>
<dt>pruning_thr<span class="classifier">float</span></dt><dd><p>Pruning after reducing the search space (default 6).</p>
</dd>
<dt>pruning_distance<span class="classifier">string</span></dt><dd><p>Pruning distance type can be mdf or mam (default mdf)</p>
</dd>
</dl>
</section>
<section id="id18">
<h4>Returns<a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>recognized_transf<span class="classifier">Streamlines</span></dt><dd><p>Recognized bundle in the space of the model tractogram</p>
</dd>
<dt>recognized_labels<span class="classifier">array</span></dt><dd><p>Indices of recognized bundle in the original tractogram</p>
</dd>
</dl>
</section>
<section id="id19">
<h4>References<a class="headerlink" href="#id19" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id20" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis17<span class="fn-bracket">]</span></span>
<p>Garyfallidis et al. Recognition of white matter
bundles using local and global streamline-based registration and
clustering, Neuroimage, 2017.</p>
</div>
<div class="citation" id="chandio2020" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Chandio2020<span class="fn-bracket">]</span></span>
<p>Chandio, B.Q., Risacher, S.L., Pestilli, F.,</p>
</div>
</div>
<p>Bullock, D., Yeh, FC., Koudoro, S., Rokem, A., Harezlak, J., and
Garyfallidis, E. Bundle analytics, a computational framework for
investigating the shapes and profiles of brain pathways across
populations. Sci Rep 10, 17149 (2020)</p>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="check-range">
<h3>check_range<a class="headerlink" href="#check-range" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.check_range">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">check_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.check_range" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="logger">
<h3>logger<a class="headerlink" href="#logger" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.logger">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.logger" title="Permalink to this definition">#</a></dt>
<dd><p>Instances of the Logger class represent a single logging channel. A
“logging channel” indicates an area of an application. Exactly how an
“area” is defined is up to the application developer. Since an
application can have any number of areas, logging channels are identified
by a unique string. Application areas can be nested (e.g. an area
of “input processing” might include sub-areas “read CSV files”, “read
XLS files” and “read Gnumeric files”). To cater for this natural nesting,
channel names are organized into a namespace hierarchy where levels are
separated by periods, much like the Java or Python package namespace. So
in the instance given above, channel names might be “input” for the upper
level, and “input.csv”, “input.xls” and “input.gnu” for the sub-levels.
There is no arbitrary limit to the depth of nesting.</p>
</dd></dl>

</section>
<section id="bundle-adjacency">
<h3>bundle_adjacency<a class="headerlink" href="#bundle-adjacency" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.bundle_adjacency">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">bundle_adjacency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtracks0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtracks1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.bundle_adjacency" title="Permalink to this definition">#</a></dt>
<dd><p>Find bundle adjacency between two given tracks/bundles</p>
<section id="id21">
<h4>Parameters<a class="headerlink" href="#id21" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>dtracks0<span class="classifier">Streamlines</span></dt><dd><p>White matter tract from one subject</p>
</dd>
<dt>dtracks1<span class="classifier">Streamlines</span></dt><dd><p>White matter tract from another subject</p>
</dd>
<dt>threshold<span class="classifier">float</span></dt><dd><p>Threshold controls
how much strictness user wants while calculating bundle adjacency
between two bundles. Smaller threshold means bundles should be strictly
adjacent to get higher BA score.</p>
</dd>
</dl>
</section>
<section id="id22">
<h4>Returns<a class="headerlink" href="#id22" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>res<span class="classifier">Float</span></dt><dd><p>Bundle adjacency score between two tracts</p>
</dd>
</dl>
</section>
<section id="id23">
<h4>References<a class="headerlink" href="#id23" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="garyfallidis12" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="ba-analysis">
<h3>ba_analysis<a class="headerlink" href="#ba-analysis" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.ba_analysis">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">ba_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recognized_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expert_bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.ba_analysis" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates bundle adjacency score between two given bundles</p>
<section id="id24">
<h4>Parameters<a class="headerlink" href="#id24" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>recognized_bundle<span class="classifier">Streamlines</span></dt><dd><p>Extracted bundle from the whole brain tractogram (eg: AF_L)</p>
</dd>
<dt>expert_bundle<span class="classifier">Streamlines</span></dt><dd><p>Model bundle used as reference while extracting similar type bundle
from input tractogram</p>
</dd>
<dt>nb_pts<span class="classifier">integer (default 20)</span></dt><dd><p>Discretizing streamlines to have nb_pts number of points</p>
</dd>
<dt>threshold<span class="classifier">float (default 6)</span></dt><dd><p>Threshold used for in computing bundle adjacency. Threshold controls
how much strictness user wants while calculating bundle adjacency
between two bundles. Smaller threshold means bundles should be strictly
adjacent to get higher BA score.</p>
</dd>
</dl>
</section>
<section id="id25">
<h4>Returns<a class="headerlink" href="#id25" title="Permalink to this heading">#</a></h4>
<blockquote>
<div><p>Bundle adjacency score between two tracts</p>
</div></blockquote>
</section>
<section id="id26">
<h4>References<a class="headerlink" href="#id26" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id27" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="cluster-bundle">
<h3>cluster_bundle<a class="headerlink" href="#cluster-bundle" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.cluster_bundle">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">cluster_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_randomly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.cluster_bundle" title="Permalink to this definition">#</a></dt>
<dd><p>Clusters bundles</p>
<section id="id28">
<h4>Parameters<a class="headerlink" href="#id28" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>bundle<span class="classifier">Streamlines</span></dt><dd><p>White matter tract</p>
</dd>
<dt>clust_thr<span class="classifier">float</span></dt><dd><p>clustering threshold used in quickbundlesX</p>
</dd>
</dl>
<p>rng : RandomState
nb_pts: integer (default 20)</p>
<blockquote>
<div><p>Discretizing streamlines to have nb_points number of points</p>
</div></blockquote>
<dl class="simple">
<dt>select_randomly: integer (default 500000)</dt><dd><p>Randomly select streamlines from the input bundle</p>
</dd>
</dl>
</section>
<section id="id29">
<h4>Returns<a class="headerlink" href="#id29" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>centroids<span class="classifier">Streamlines</span></dt><dd><p>clustered centroids of the input bundle</p>
</dd>
</dl>
</section>
<section id="id30">
<h4>References<a class="headerlink" href="#id30" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id31" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="bundle-shape-similarity">
<h3>bundle_shape_similarity<a class="headerlink" href="#bundle-shape-similarity" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.bundles.bundle_shape_similarity">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.bundles.</span></span><span class="sig-name descname"><span class="pre">bundle_shape_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clust_thr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(5,</span> <span class="pre">3,</span> <span class="pre">1.5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.bundles.bundle_shape_similarity" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates bundle shape similarity between two given bundles using
bundle adjacency (BA) metric</p>
<section id="id32">
<h4>Parameters<a class="headerlink" href="#id32" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>bundle1<span class="classifier">Streamlines</span></dt><dd><p>White matter tract from one subject (eg: AF_L)</p>
</dd>
<dt>bundle2<span class="classifier">Streamlines</span></dt><dd><p>White matter tract from another subject (eg: AF_L)</p>
</dd>
</dl>
<p>rng : RandomState
clust_thr : array-like, optional</p>
<blockquote>
<div><p>list of clustering thresholds used in quickbundlesX</p>
</div></blockquote>
<dl class="simple">
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Threshold used for in computing bundle adjacency. Threshold controls
how much strictness user wants while calculating shape similarity
between two bundles. Smaller threshold means bundles should be strictly
similar to get higher shape similarity score.</p>
</dd>
</dl>
</section>
<section id="id33">
<h4>Returns<a class="headerlink" href="#id33" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>ba_value<span class="classifier">Float</span></dt><dd><p>Bundle similarity score between two tracts</p>
</dd>
</dl>
</section>
<section id="id34">
<h4>References<a class="headerlink" href="#id34" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id35" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Chandio2020<span class="fn-bracket">]</span></span>
<p>Chandio, B.Q., Risacher, S.L., Pestilli, F., Bullock, D.,</p>
</div>
</div>
<p>Yeh, FC., Koudoro, S., Rokem, A., Harezlak, J., and Garyfallidis, E.
Bundle analytics, a computational framework for investigating the
shapes and profiles of brain pathways across populations.
Sci Rep 10, 17149 (2020)</p>
<div role="list" class="citation-list">
<div class="citation" id="id36" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="identity">
<h3><a class="reference internal" href="#dipy.segment.clustering.Identity" title="dipy.segment.clustering.Identity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Identity</span></code></a><a class="headerlink" href="#identity" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Identity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Identity</span></span><a class="headerlink" href="#dipy.segment.clustering.Identity" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides identity indexing functionality.</p>
<p>This can replace any class supporting indexing used for referencing
(e.g. list, tuple). Indexing an instance of this class will return the
index provided instead of the element. It does not support slicing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Identity.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Identity.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="cluster">
<h3><a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a><a class="headerlink" href="#cluster" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Cluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides functionalities for interacting with a cluster.</p>
<p>Useful container to retrieve index of elements grouped together. If
a reference to the data is provided to <cite>cluster_map</cite>, elements will
be returned instead of their index when possible.</p>
<section id="id37">
<h4>Parameters<a class="headerlink" href="#id37" title="Permalink to this heading">#</a></h4>
<dl>
<dt>cluster_map<span class="classifier"><cite>ClusterMap</cite> object</span></dt><dd><p>Reference to the set of clusters this cluster is being part of.</p>
</dd>
<dt>id<span class="classifier">int</span></dt><dd><p>Id of this cluster in its associated <cite>cluster_map</cite> object.</p>
</dd>
<dt>refdata<span class="classifier">list (optional)</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</section>
<section id="id38">
<h4>Notes<a class="headerlink" href="#id38" title="Permalink to this heading">#</a></h4>
<p>A cluster does not contain actual data but instead knows how to
retrieve them using its <cite>ClusterMap</cite> object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Cluster.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Cluster.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Cluster.assign">
<span class="sig-name descname"><span class="pre">assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Cluster.assign" title="Permalink to this definition">#</a></dt>
<dd><p>Assigns indices to this cluster.</p>
<section id="id39">
<h5>Parameters<a class="headerlink" href="#id39" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt><a href="#id40"><span class="problematic" id="id41">*</span></a>indices<span class="classifier">list of indices</span></dt><dd><p>Indices to add to this cluster.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="clustercentroid">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><a class="headerlink" href="#clustercentroid" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterCentroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Cluster" title="dipy.segment.clustering.Cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a></p>
<p>Provides functionalities for interacting with a cluster.</p>
<p>Useful container to retrieve the indices of elements grouped together and
the cluster’s centroid. If a reference to the data is provided to
<cite>cluster_map</cite>, elements will be returned instead of their index when
possible.</p>
<section id="id42">
<h4>Parameters<a class="headerlink" href="#id42" title="Permalink to this heading">#</a></h4>
<dl>
<dt>cluster_map<span class="classifier"><cite>ClusterMapCentroid</cite> object</span></dt><dd><p>Reference to the set of clusters this cluster is being part of.</p>
</dd>
<dt>id<span class="classifier">int</span></dt><dd><p>Id of this cluster in its associated <cite>cluster_map</cite> object.</p>
</dd>
<dt>refdata<span class="classifier">list (optional)</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
</section>
<section id="id43">
<h4>Notes<a class="headerlink" href="#id43" title="Permalink to this heading">#</a></h4>
<p>A cluster does not contain actual data but instead knows how to
retrieve them using its <cite>ClusterMapCentroid</cite> object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid.assign">
<span class="sig-name descname"><span class="pre">assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid.assign" title="Permalink to this definition">#</a></dt>
<dd><p>Assigns a data point to this cluster.</p>
<section id="id44">
<h5>Parameters<a class="headerlink" href="#id44" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>id_datum<span class="classifier">int</span></dt><dd><p>Index of the data point to add to this cluster.</p>
</dd>
<dt>features<span class="classifier">2D array</span></dt><dd><p>Data point’s features to modify this cluster’s centroid.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterCentroid.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterCentroid.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update centroid of this cluster.</p>
<section id="id45">
<h5>Returns<a class="headerlink" href="#id45" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>converged<span class="classifier">bool</span></dt><dd><p>Tells if the centroid has moved.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="clustermap">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><a class="headerlink" href="#clustermap" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides functionalities for interacting with clustering outputs.</p>
<p>Useful container to create, remove, retrieve and filter clusters.
If <cite>refdata</cite> is given, elements will be returned instead of their
index when using <cite>Cluster</cite> objects.</p>
<section id="id46">
<h4>Parameters<a class="headerlink" href="#id46" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>refdata<span class="classifier">list</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.add_cluster">
<span class="sig-name descname"><span class="pre">add_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clusters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.add_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Adds one or multiple clusters to this cluster map.</p>
<section id="id47">
<h5>Parameters<a class="headerlink" href="#id47" title="Permalink to this heading">#</a></h5>
<dl>
<dt><a href="#id48"><span class="problematic" id="id49">*</span></a>clusters<span class="classifier"><cite>Cluster</cite> object, …</span></dt><dd><p>Cluster(s) to be added in this cluster map.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clear" title="Permalink to this definition">#</a></dt>
<dd><p>Remove all clusters from this cluster map.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clusters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clusters</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clusters" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.clusters_sizes">
<span class="sig-name descname"><span class="pre">clusters_sizes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.clusters_sizes" title="Permalink to this definition">#</a></dt>
<dd><p>Gets the size of every cluster contained in this cluster map.</p>
<section id="id50">
<h5>Returns<a class="headerlink" href="#id50" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>list of int</dt><dd><p>Sizes of every cluster in this cluster map.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.get_large_clusters">
<span class="sig-name descname"><span class="pre">get_large_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.get_large_clusters" title="Permalink to this definition">#</a></dt>
<dd><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p>
<section id="id51">
<h5>Parameters<a class="headerlink" href="#id51" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>min_size<span class="classifier">int</span></dt><dd><p>Minimum number of elements a cluster needs to have to be selected.</p>
</dd>
</dl>
</section>
<section id="id52">
<h5>Returns<a class="headerlink" href="#id52" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>list of <cite>Cluster</cite> objects</dt><dd><p>Clusters having at least <cite>min_size</cite> elements.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.get_small_clusters">
<span class="sig-name descname"><span class="pre">get_small_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.get_small_clusters" title="Permalink to this definition">#</a></dt>
<dd><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p>
<section id="id53">
<h5>Parameters<a class="headerlink" href="#id53" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>max_size<span class="classifier">int</span></dt><dd><p>Maximum number of elements a cluster can have to be selected.</p>
</dd>
</dl>
</section>
<section id="id54">
<h5>Returns<a class="headerlink" href="#id54" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>list of <cite>Cluster</cite> objects</dt><dd><p>Clusters having at most <cite>max_size</cite> elements.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.refdata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refdata</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.refdata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.remove_cluster">
<span class="sig-name descname"><span class="pre">remove_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clusters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.remove_cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Remove one or multiple clusters from this cluster map.</p>
<section id="id55">
<h5>Parameters<a class="headerlink" href="#id55" title="Permalink to this heading">#</a></h5>
<dl>
<dt><a href="#id56"><span class="problematic" id="id57">*</span></a>clusters<span class="classifier"><cite>Cluster</cite> object, …</span></dt><dd><p>Cluster(s) to be removed from this cluster map.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMap.size">
<span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMap.size" title="Permalink to this definition">#</a></dt>
<dd><p>Gets number of clusters contained in this cluster map.</p>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="clustermapcentroid">
<h3><a class="reference internal" href="#dipy.segment.clustering.ClusterMapCentroid" title="dipy.segment.clustering.ClusterMapCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><a class="headerlink" href="#clustermapcentroid" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMapCentroid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">ClusterMapCentroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMapCentroid" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a></p>
<p>Provides functionalities for interacting with clustering outputs
that have centroids.</p>
<p>Allows to retrieve easily the centroid of every cluster. Also, it is
a useful container to create, remove, retrieve and filter clusters.
If <cite>refdata</cite> is given, elements will be returned instead of their
index when using <cite>ClusterCentroid</cite> objects.</p>
<section id="id58">
<h4>Parameters<a class="headerlink" href="#id58" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>refdata<span class="classifier">list</span></dt><dd><p>Actual elements that clustered indices refer to.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMapCentroid.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refdata=&lt;dipy.segment.clustering.Identity</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.ClusterMapCentroid.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.ClusterMapCentroid.centroids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centroids</span></span><a class="headerlink" href="#dipy.segment.clustering.ClusterMapCentroid.centroids" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
</dd></dl>

</section>
<section id="clustering">
<h3><a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a><a class="headerlink" href="#clustering" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.Clustering">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">Clustering</span></span><a class="headerlink" href="#dipy.segment.clustering.Clustering" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Clustering.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Clustering.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.Clustering.cluster">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.Clustering.cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Clusters <cite>data</cite>.</p>
<p>Subclasses will perform their clustering algorithm here.</p>
<section id="id59">
<h4>Parameters<a class="headerlink" href="#id59" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>data<span class="classifier">list of N-dimensional arrays</span></dt><dd><p>Each array represents a data point.</p>
</dd>
<dt>ordering<span class="classifier">iterable of indices, optional</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</section>
<section id="id60">
<h4>Returns<a class="headerlink" href="#id60" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt><cite>ClusterMap</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="quickbundles">
<h3><a class="reference internal" href="#dipy.segment.clustering.QuickBundles" title="dipy.segment.clustering.QuickBundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><a class="headerlink" href="#quickbundles" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundles">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">QuickBundles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nb_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2147483647</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundles" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a></p>
<p>Clusters streamlines using QuickBundles <a class="reference internal" href="#id110" id="id61"><span>[Garyfallidis12]</span></a>.

Given a list of streamlines, the QuickBundles algorithm sequentially
assigns each streamline to its closest bundle in <span class="math notranslate nohighlight">\(\mathcal{O}(Nk)\)</span> where
<span class="math notranslate nohighlight">\(N\)</span> is the number of streamlines and <span class="math notranslate nohighlight">\(k\)</span> is the final number of bundles.
If for a given streamline its closest bundle is farther than <cite>threshold</cite>,
a new bundle is created and the streamline is assigned to it except if the
number of bundles has already exceeded <cite>max_nb_clusters</cite>.

Parameters
———-
threshold : float
    The maximum distance from a bundle for a streamline to be still
    considered as part of it.
metric : str or <cite>Metric</cite> object (optional)
    The distance metric to use when comparing two streamlines. By default,
    the Minimum average Direct-Flip (MDF) distance <a class="reference internal" href="#id110" id="id62"><span>[Garyfallidis12]</span></a> is
    used and streamlines are automatically resampled so they have
    12 points.
max_nb_clusters : int
    Limits the creation of bundles.

Examples
——–
&gt;&gt;&gt; from dipy.segment.clustering import QuickBundles
&gt;&gt;&gt; from dipy.data import get_fnames
&gt;&gt;&gt; from dipy.io.streamline import load_tractogram
&gt;&gt;&gt; from dipy.tracking.streamline import Streamlines
&gt;&gt;&gt; fname = get_fnames(‘fornix’)
&gt;&gt;&gt; fornix = load_tractogram(fname, ‘same’,
…                          bbox_valid_check=False).streamlines
&gt;&gt;&gt; streamlines = Streamlines(fornix)
&gt;&gt;&gt; # Segment fornix with a threshold of 10mm and streamlines resampled
&gt;&gt;&gt; # to 12 points.
&gt;&gt;&gt; qb = QuickBundles(threshold=10.)
&gt;&gt;&gt; clusters = qb.cluster(streamlines)
&gt;&gt;&gt; len(clusters)
4
&gt;&gt;&gt; list(map(len, clusters))
[61, 191, 47, 1]
&gt;&gt;&gt; # Resampling streamlines differently is done explicitly as follows.
&gt;&gt;&gt; # Note this has an impact on the speed and the accuracy (tradeoff).
&gt;&gt;&gt; from dipy.segment.featurespeed import ResampleFeature
&gt;&gt;&gt; from dipy.segment.metricspeed import AveragePointwiseEuclideanMetric
&gt;&gt;&gt; feature = ResampleFeature(nb_points=2)
&gt;&gt;&gt; metric = AveragePointwiseEuclideanMetric(feature)
&gt;&gt;&gt; qb = QuickBundles(threshold=10., metric=metric)
&gt;&gt;&gt; clusters = qb.cluster(streamlines)
&gt;&gt;&gt; len(clusters)
4
&gt;&gt;&gt; list(map(len, clusters))
[58, 142, 72, 28]


References
———-
.. [Garyfallidis12] Garyfallidis E. et al., QuickBundles a method for
                    tractography simplification, Frontiers in Neuroscience,
                    vol 6, no 175, 2012.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundles.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nb_clusters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2147483647</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundles.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundles.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundles.cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>
<p>Performs quickbundles algorithm using predefined metric and threshold.</p>
<section id="id63">
<h4>Parameters<a class="headerlink" href="#id63" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>streamlines<span class="classifier">list of 2D arrays</span></dt><dd><p>Each 2D array represents a sequence of 3D points (points, 3).</p>
</dd>
<dt>ordering<span class="classifier">iterable of indices</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</section>
<section id="id64">
<h4>Returns<a class="headerlink" href="#id64" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt><cite>ClusterMapCentroid</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="quickbundlesx">
<h3><a class="reference internal" href="#dipy.segment.clustering.QuickBundlesX" title="dipy.segment.clustering.QuickBundlesX"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><a class="headerlink" href="#quickbundlesx" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundlesX">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">QuickBundlesX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundlesX" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.Clustering" title="dipy.segment.clustering.Clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a></p>
<p>Clusters streamlines using QuickBundlesX.</p>
<section id="id65">
<h4>Parameters<a class="headerlink" href="#id65" title="Permalink to this heading">#</a></h4>
<dl>
<dt>thresholds<span class="classifier">list of float</span></dt><dd><p>Thresholds to use for each clustering layer. A threshold represents the
maximum distance from a cluster for a streamline to be still considered
as part of it.</p>
</dd>
<dt>metric<span class="classifier">str or <cite>Metric</cite> object (optional)</span></dt><dd><p>The distance metric to use when comparing two streamlines. By default,
the Minimum average Direct-Flip (MDF) distance <a class="reference internal" href="#id110" id="id66"><span>[Garyfallidis12]</span></a> is
used and streamlines are automatically resampled so they have 12
points.</p>
</dd>
</dl>
</section>
<section id="id67">
<h4>References<a class="headerlink" href="#id67" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id68" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
<div class="citation" id="garyfallidis16" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis16<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al. QuickBundlesX: Sequential
clustering of millions of streamlines in multiple
levels of detail at record execution time. Proceedings
of the, International Society of Magnetic Resonance
in Medicine (ISMRM). Singapore, 4187, 2016.</p>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundlesX.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MDF_12points'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundlesX.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.QuickBundlesX.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.QuickBundlesX.cluster" title="Permalink to this definition">#</a></dt>
<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>
<p>Performs QuickbundleX using a predefined metric and thresholds.</p>
<section id="id69">
<h5>Parameters<a class="headerlink" href="#id69" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt>streamlines<span class="classifier">list of 2D arrays</span></dt><dd><p>Each 2D array represents a sequence of 3D points (points, 3).</p>
</dd>
<dt>ordering<span class="classifier">iterable of indices</span></dt><dd><p>Specifies the order in which data points will be clustered.</p>
</dd>
</dl>
</section>
<section id="id70">
<h5>Returns<a class="headerlink" href="#id70" title="Permalink to this heading">#</a></h5>
<dl class="simple">
<dt><cite>TreeClusterMap</cite> object</dt><dd><p>Result of the clustering.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="treecluster">
<h3><a class="reference internal" href="#dipy.segment.clustering.TreeCluster" title="dipy.segment.clustering.TreeCluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><a class="headerlink" href="#treecluster" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">TreeCluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterCentroid" title="dipy.segment.clustering.ClusterCentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.add" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.is_leaf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_leaf</span></span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.is_leaf" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeCluster.return_indices">
<span class="sig-name descname"><span class="pre">return_indices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeCluster.return_indices" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="treeclustermap">
<h3><a class="reference internal" href="#dipy.segment.clustering.TreeClusterMap" title="dipy.segment.clustering.TreeClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><a class="headerlink" href="#treeclustermap" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">TreeClusterMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#dipy.segment.clustering.ClusterMap" title="dipy.segment.clustering.ClusterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.get_clusters">
<span class="sig-name descname"><span class="pre">get_clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wanted_level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.get_clusters" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.iter_preorder">
<span class="sig-name descname"><span class="pre">iter_preorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.iter_preorder" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.refdata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refdata</span></span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.refdata" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.clustering.TreeClusterMap.traverse_postorder">
<span class="sig-name descname"><span class="pre">traverse_postorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.TreeClusterMap.traverse_postorder" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="id71">
<h3>logger<a class="headerlink" href="#id71" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.clustering.logger">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.logger" title="Permalink to this definition">#</a></dt>
<dd><p>Instances of the Logger class represent a single logging channel. A
“logging channel” indicates an area of an application. Exactly how an
“area” is defined is up to the application developer. Since an
application can have any number of areas, logging channels are identified
by a unique string. Application areas can be nested (e.g. an area
of “input processing” might include sub-areas “read CSV files”, “read
XLS files” and “read Gnumeric files”). To cater for this natural nesting,
channel names are organized into a namespace hierarchy where levels are
separated by periods, much like the Java or Python package namespace. So
in the instance given above, channel names might be “input” for the upper
level, and “input.csv”, “input.xls” and “input.gnu” for the sub-levels.
There is no arbitrary limit to the depth of nesting.</p>
</dd></dl>

</section>
<section id="qbx-and-merge">
<h3>qbx_and_merge<a class="headerlink" href="#qbx-and-merge" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.clustering.qbx_and_merge">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.clustering.</span></span><span class="sig-name descname"><span class="pre">qbx_and_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_pts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_randomly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.clustering.qbx_and_merge" title="Permalink to this definition">#</a></dt>
<dd><p>Run QuickBundlesX and then run again on the centroids of the last layer</p>
<p>Running again QuickBundles at a layer has the effect of merging
some of the clusters that may be originally divided because of branching.
This function help obtain a result at a QuickBundles quality but with
QuickBundlesX speed. The merging phase has low cost because it is applied
only on the centroids rather than the entire dataset.</p>
<section id="id72">
<h4>Parameters<a class="headerlink" href="#id72" title="Permalink to this heading">#</a></h4>
<p>streamlines : Streamlines
thresholds : sequence</p>
<blockquote>
<div><p>List of distance thresholds for QuickBundlesX.</p>
</div></blockquote>
<dl class="simple">
<dt>nb_pts<span class="classifier">int</span></dt><dd><p>Number of points for discretizing each streamline</p>
</dd>
<dt>select_randomly<span class="classifier">int</span></dt><dd><p>Randomly select a specific number of streamlines. If None all the
streamlines are used.</p>
</dd>
<dt>rng<span class="classifier">RandomState</span></dt><dd><p>If None then RandomState is initialized internally.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional.</span></dt><dd><p>If True, log information. Default False.</p>
</dd>
</dl>
</section>
<section id="id73">
<h4>Returns<a class="headerlink" href="#id73" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>clusters<span class="classifier">obj</span></dt><dd><p>Contains the clusters of the last layer of QuickBundlesX after merging.</p>
</dd>
</dl>
</section>
<section id="id74">
<h4>References<a class="headerlink" href="#id74" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id75" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
<div class="citation" id="id76" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis16<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al. QuickBundlesX: Sequential
clustering of millions of streamlines in multiple
levels of detail at record execution time. Proceedings
of the, International Society of Magnetic Resonance
in Medicine (ISMRM). Singapore, 4187, 2016.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="faststreamlinesearch">
<h3><a class="reference internal" href="#dipy.segment.fss.FastStreamlineSearch" title="dipy.segment.fss.FastStreamlineSearch"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><a class="headerlink" href="#faststreamlinesearch" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.fss.FastStreamlineSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">FastStreamlineSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_mpts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.fss.FastStreamlineSearch" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.fss.FastStreamlineSearch.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_mpts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bidirectional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.fss.FastStreamlineSearch.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Fast Streamline Search (FFS)</p>
<p>Generate the Binned K-D Tree structure with reference streamlines,
using streamlines barycenter and mean-points.
See <a class="reference internal" href="#id86" id="id77"><span>[StOnge2022]</span></a> for further details.</p>
<section id="id78">
<h4>Parameters<a class="headerlink" href="#id78" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>ref_streamlines<span class="classifier">Streamlines</span></dt><dd><p>Streamlines (ref) to generate the tree structure.</p>
</dd>
<dt>max_radius<span class="classifier">float</span></dt><dd><p>The maximum radius (distance) for subsequent streamline search.
Used to compute the overlap in-between bins.</p>
</dd>
<dt>nb_mpts<span class="classifier">int, optional</span></dt><dd><p>Number of means points to improve computation speed.
(this only changes computation time)</p>
</dd>
<dt>bin_size<span class="classifier">float, optional</span></dt><dd><p>The bin size to separate streamlines in groups.
(this only changes computation time)</p>
</dd>
<dt>resampling<span class="classifier">int, optional</span></dt><dd><p>Number of points used to reshape each streamline.</p>
</dd>
<dt>bidirectional<span class="classifier">bool, optional</span></dt><dd><p>Compute the smallest distance with and without flip.</p>
</dd>
</dl>
</section>
<section id="id79">
<h4>Notes<a class="headerlink" href="#id79" title="Permalink to this heading">#</a></h4>
<p>Make sure that streamlines are aligned in the same space.
Preferably in millimeter space (voxmm or rasmm).</p>
</section>
<section id="id80">
<h4>References<a class="headerlink" href="#id80" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="stonge2022" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>StOnge2022<span class="fn-bracket">]</span></span>
<p>St-Onge E. et al. Fast Streamline Search:
An Exact Technique for Diffusion MRI Tractography.
Neuroinformatics, 2022.</p>
</div>
</div>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.fss.FastStreamlineSearch.radius_search">
<span class="sig-name descname"><span class="pre">radius_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">streamlines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_negative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.fss.FastStreamlineSearch.radius_search" title="Permalink to this definition">#</a></dt>
<dd><p>Radius Search using Fast Streamline Search</p>
<p>For each given streamlines, return all reference streamlines
within the given radius. See <a class="reference internal" href="#id86" id="id81"><span>[StOnge2022]</span></a> for further details.</p>
<section id="id82">
<h4>Parameters<a class="headerlink" href="#id82" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>streamlines<span class="classifier">Streamlines</span></dt><dd><p>Streamlines to generate the tree structure.</p>
</dd>
<dt>radius<span class="classifier">float</span></dt><dd><p>Search radius (with MDF / average L2 distance)
must be smaller than max_radius when FFS was initialized.</p>
</dd>
<dt>use_negative<span class="classifier">bool, optional</span></dt><dd><p>When used with bidirectional,
negative values are returned for reversed order neighbors.</p>
</dd>
</dl>
</section>
<section id="id83">
<h4>Returns<a class="headerlink" href="#id83" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>res<span class="classifier">scipy COOrdinates sparse matrix (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</section>
<section id="id84">
<h4>Notes<a class="headerlink" href="#id84" title="Permalink to this heading">#</a></h4>
<p>Given streamlines should be already aligned with ref streamlines.
Preferably in millimeter space (voxmm or rasmm).</p>
</section>
<section id="id85">
<h4>References<a class="headerlink" href="#id85" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id86" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>StOnge2022<span class="fn-bracket">]</span></span>
<p>St-Onge E. et al. Fast Streamline Search:
An Exact Technique for Diffusion MRI Tractography.
Neuroinformatics, 2022.</p>
</div>
</div>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="nearest-from-matrix-row">
<h3>nearest_from_matrix_row<a class="headerlink" href="#nearest-from-matrix-row" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.fss.nearest_from_matrix_row">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">nearest_from_matrix_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coo_matrix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.fss.nearest_from_matrix_row" title="Permalink to this definition">#</a></dt>
<dd><p>Return the nearest (smallest) for each row given an coup sparse matrix</p>
<section id="id87">
<h4>Parameters<a class="headerlink" href="#id87" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>coo_matrix<span class="classifier">scipy COOrdinates sparse matrix (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</section>
<section id="id88">
<h4>Returns<a class="headerlink" href="#id88" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>non_zero_ids<span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Indices of each non-empty slines (row)</p>
</dd>
<dt>nearest_id<span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Indices of the nearest reference match (column)</p>
</dd>
<dt>nearest_dist<span class="classifier">numpy array (nb_non_empty_row x 1)</span></dt><dd><p>Distance for each nearest match</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="nearest-from-matrix-col">
<h3>nearest_from_matrix_col<a class="headerlink" href="#nearest-from-matrix-col" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.fss.nearest_from_matrix_col">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.fss.</span></span><span class="sig-name descname"><span class="pre">nearest_from_matrix_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coo_matrix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.fss.nearest_from_matrix_col" title="Permalink to this definition">#</a></dt>
<dd><p>Return the nearest (smallest) for each column given an coup sparse matrix</p>
<section id="id89">
<h4>Parameters<a class="headerlink" href="#id89" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>coo_matrix<span class="classifier">scipy COOrdinates sparse matrix (nb_slines x nb_slines_ref)</span></dt><dd><p>Adjacency matrix containing all neighbors within the given radius</p>
</dd>
</dl>
</section>
<section id="id90">
<h4>Returns<a class="headerlink" href="#id90" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>non_zero_ids<span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Indices of each non-empty reference (column)</p>
</dd>
<dt>nearest_id<span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Indices of the nearest slines match (row)</p>
</dd>
<dt>nearest_dist<span class="classifier">numpy array (nb_non_empty_col x 1)</span></dt><dd><p>Distance for each nearest match</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="multi-median">
<h3>multi_median<a class="headerlink" href="#multi-median" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.multi_median">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">multi_median</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpass</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.multi_median" title="Permalink to this definition">#</a></dt>
<dd><p>Applies median filter multiple times on input data.</p>
<section id="id91">
<h4>Parameters<a class="headerlink" href="#id91" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>data<span class="classifier">ndarray</span></dt><dd><p>The input volume to apply filter on.</p>
</dd>
<dt>median_radius<span class="classifier">int</span></dt><dd><p>Radius (in voxels) of the applied median filter</p>
</dd>
<dt>numpass: int</dt><dd><p>Number of pass of the median filter</p>
</dd>
</dl>
</section>
<section id="id92">
<h4>Returns<a class="headerlink" href="#id92" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>data<span class="classifier">ndarray</span></dt><dd><p>Filtered input volume.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="applymask">
<h3>applymask<a class="headerlink" href="#applymask" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.applymask">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">applymask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.applymask" title="Permalink to this definition">#</a></dt>
<dd><p>Mask vol with mask.

Parameters
———-
vol : ndarray
    Array with <span class="math notranslate nohighlight">\(V\)</span> dimensions
mask : ndarray
    Binary mask.  Has <span class="math notranslate nohighlight">\(M\)</span> dimensions where <span class="math notranslate nohighlight">\(M &lt;= V\)</span>. When <span class="math notranslate nohighlight">\(M &lt; V\)</span>, we
    append <span class="math notranslate nohighlight">\(V - M\)</span> dimensions with axis length 1 to <cite>mask</cite> so that <cite>mask</cite>
    will broadcast against <cite>vol</cite>.  In the typical case <cite>vol</cite> can be 4D,
    <cite>mask</cite> can be 3D, and we append a 1 to the mask shape which (via numpy
    broadcasting) has the effect of applying the 3D mask to each 3D slice in
    <cite>vol</cite> (<code class="docutils literal notranslate"><span class="pre">vol[...,</span> <span class="pre">0]</span></code> to <code class="docutils literal notranslate"><span class="pre">vol[...,</span> <span class="pre">-1</span></code>).

Returns
——-
masked_vol : ndarray
    <cite>vol</cite> multiplied by <cite>mask</cite> where <cite>mask</cite> may have been extended to match
    extra dimensions in <cite>vol</cite></p>
</dd></dl>

</section>
<section id="bounding-box">
<h3>bounding_box<a class="headerlink" href="#bounding-box" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.bounding_box">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.bounding_box" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the bounding box of nonzero intensity voxels in the volume.</p>
<section id="id93">
<h4>Parameters<a class="headerlink" href="#id93" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>vol<span class="classifier">ndarray</span></dt><dd><p>Volume to compute bounding box on.</p>
</dd>
</dl>
</section>
<section id="id94">
<h4>Returns<a class="headerlink" href="#id94" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>npmins<span class="classifier">list</span></dt><dd><p>Array containing minimum index of each dimension</p>
</dd>
<dt>npmaxs<span class="classifier">list</span></dt><dd><p>Array containing maximum index of each dimension</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="crop">
<h3>crop<a class="headerlink" href="#crop" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.crop">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">crop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.crop" title="Permalink to this definition">#</a></dt>
<dd><p>Crops the input volume.</p>
<section id="id95">
<h4>Parameters<a class="headerlink" href="#id95" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>vol<span class="classifier">ndarray</span></dt><dd><p>Volume to crop.</p>
</dd>
<dt>mins<span class="classifier">array</span></dt><dd><p>Array containing minimum index of each dimension.</p>
</dd>
<dt>maxs<span class="classifier">array</span></dt><dd><p>Array containing maximum index of each dimension.</p>
</dd>
</dl>
</section>
<section id="id96">
<h4>Returns<a class="headerlink" href="#id96" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>vol<span class="classifier">ndarray</span></dt><dd><p>The cropped volume.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="median-otsu">
<h3>median_otsu<a class="headerlink" href="#median-otsu" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.median_otsu">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">median_otsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_volume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autocrop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dilate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.median_otsu" title="Permalink to this definition">#</a></dt>
<dd><p>Simple brain extraction tool method for images from DWI data.</p>
<p>It uses a median filter smoothing of the input_volumes <cite>vol_idx</cite> and an
automatic histogram Otsu thresholding technique, hence the name
<em>median_otsu</em>.</p>
<p>This function is inspired from Mrtrix’s bet which has default values
<code class="docutils literal notranslate"><span class="pre">median_radius=3</span></code>, <code class="docutils literal notranslate"><span class="pre">numpass=2</span></code>. However, from tests on multiple 1.5T
and 3T data     from GE, Philips, Siemens, the most robust choice is
<code class="docutils literal notranslate"><span class="pre">median_radius=4</span></code>, <code class="docutils literal notranslate"><span class="pre">numpass=4</span></code>.</p>
<section id="id97">
<h4>Parameters<a class="headerlink" href="#id97" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>input_volume<span class="classifier">ndarray</span></dt><dd><p>3D or 4D array of the brain volume.</p>
</dd>
<dt>vol_idx<span class="classifier">None or array, optional.</span></dt><dd><p>1D array representing indices of <code class="docutils literal notranslate"><span class="pre">axis=3</span></code> of a 4D <cite>input_volume</cite>.
None is only an acceptable input if <code class="docutils literal notranslate"><span class="pre">input_volume</span></code> is 3D.</p>
</dd>
<dt>median_radius<span class="classifier">int</span></dt><dd><p>Radius (in voxels) of the applied median filter (default: 4).</p>
</dd>
<dt>numpass: int</dt><dd><p>Number of pass of the median filter (default: 4).</p>
</dd>
<dt>autocrop: bool, optional</dt><dd><p>if True, the masked input_volume will also be cropped using the
bounding box defined by the masked data. Should be on if DWI is
upsampled to 1x1x1 resolution. (default: False).</p>
</dd>
<dt>dilate<span class="classifier">None or int, optional</span></dt><dd><p>number of iterations for binary dilation</p>
</dd>
</dl>
</section>
<section id="id98">
<h4>Returns<a class="headerlink" href="#id98" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>maskedvolume<span class="classifier">ndarray</span></dt><dd><p>Masked input_volume</p>
</dd>
<dt>mask<span class="classifier">3D ndarray</span></dt><dd><p>The binary brain mask</p>
</dd>
</dl>
</section>
<section id="id99">
<h4>Notes<a class="headerlink" href="#id99" title="Permalink to this heading">#</a></h4>
<p>Copyright (C) 2011, the scikit-image team
All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the
distribution.</p></li>
<li><p>Neither the name of skimage nor the names of its contributors may be
used to endorse or promote products derived from this software without
specific prior written permission.</p></li>
</ol>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR <a href="#id100"><span class="problematic" id="id101">``</span></a>AS IS’’ AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</p>
</section>
</dd></dl>

</section>
<section id="segment-from-cfa">
<h3>segment_from_cfa<a class="headerlink" href="#segment-from-cfa" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.segment_from_cfa">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">segment_from_cfa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tensor_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_cfa</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.segment_from_cfa" title="Permalink to this definition">#</a></dt>
<dd><p>Segment the cfa inside roi using the values from threshold as bounds.</p>
<section id="id102">
<h4>Parameters<a class="headerlink" href="#id102" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>tensor_fit<span class="classifier">TensorFit object</span></dt><dd><p>TensorFit object</p>
</dd>
<dt>roi<span class="classifier">ndarray</span></dt><dd><p>A binary mask, which contains the bounding box for the segmentation.</p>
</dd>
<dt>threshold<span class="classifier">array-like</span></dt><dd><p>An iterable that defines the min and max values to use for the
thresholding.
The values are specified as (R_min, R_max, G_min, G_max, B_min, B_max)</p>
</dd>
<dt>return_cfa<span class="classifier">bool, optional</span></dt><dd><p>If True, the cfa is also returned.</p>
</dd>
</dl>
</section>
<section id="id103">
<h4>Returns<a class="headerlink" href="#id103" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>mask<span class="classifier">ndarray</span></dt><dd><p>Binary mask of the segmentation.</p>
</dd>
<dt>cfa<span class="classifier">ndarray, optional</span></dt><dd><p>Array with shape = (…, 3), where … is the shape of tensor_fit.
The color fractional anisotropy, ordered as a nd array with the last
dimension of size 3 for the R, G and B channels.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="clean-cc-mask">
<h3>clean_cc_mask<a class="headerlink" href="#clean-cc-mask" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.mask.clean_cc_mask">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.mask.</span></span><span class="sig-name descname"><span class="pre">clean_cc_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.mask.clean_cc_mask" title="Permalink to this definition">#</a></dt>
<dd><p>Cleans a segmentation of the corpus callosum so no random pixels
are included.</p>
<section id="id104">
<h4>Parameters<a class="headerlink" href="#id104" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>mask<span class="classifier">ndarray</span></dt><dd><p>Binary mask of the coarse segmentation.</p>
</dd>
</dl>
</section>
<section id="id105">
<h4>Returns<a class="headerlink" href="#id105" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>new_cc_mask<span class="classifier">ndarray</span></dt><dd><p>Binary mask of the cleaned segmentation.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="mdf">
<h3>mdf<a class="headerlink" href="#mdf" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mdf">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.metric.mdf" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the MDF (Minimum average Direct-Flip) distance
<a class="reference internal" href="#id110" id="id106"><span>[Garyfallidis12]</span></a> between two streamlines.</p>
<p>Streamlines must have the same number of points.</p>
<section id="id107">
<h4>Parameters<a class="headerlink" href="#id107" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>s1<span class="classifier">2D array</span></dt><dd><p>A streamline (sequence of N-dimensional points).</p>
</dd>
<dt>s2<span class="classifier">2D array</span></dt><dd><p>A streamline (sequence of N-dimensional points).</p>
</dd>
</dl>
</section>
<section id="id108">
<h4>Returns<a class="headerlink" href="#id108" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>double</dt><dd><p>Distance between two streamlines.</p>
</dd>
</dl>
</section>
<section id="id109">
<h4>References<a class="headerlink" href="#id109" title="Permalink to this heading">#</a></h4>
<div role="list" class="citation-list">
<div class="citation" id="id110" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Garyfallidis12<span class="fn-bracket">]</span></span>
<p>Garyfallidis E. et al., QuickBundles a method for
tractography simplification, Frontiers in Neuroscience,
vol 6, no 175, 2012.</p>
</div>
</div>
</section>
</dd></dl>

</section>
<section id="mean-manhattan-distance">
<h3>mean_manhattan_distance<a class="headerlink" href="#mean-manhattan-distance" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mean_manhattan_distance">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mean_manhattan_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.metric.mean_manhattan_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the average Manhattan-L1 distance (MDF without flip)</p>
<p>Arrays are representing a single streamline or a list of streamlines
that have the same number of N-dimensional points (two last axis).</p>
<section id="id111">
<h4>Parameters<a class="headerlink" href="#id111" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>a<span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
<dt>b<span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
</dl>
</section>
<section id="id112">
<h4>Returns<a class="headerlink" href="#id112" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>1D array</dt><dd><p>Distance between each S streamlines</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="mean-euclidean-distance">
<h3>mean_euclidean_distance<a class="headerlink" href="#mean-euclidean-distance" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.metric.mean_euclidean_distance">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.metric.</span></span><span class="sig-name descname"><span class="pre">mean_euclidean_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.metric.mean_euclidean_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the average Euclidean-L2 distance (MDF without flip)</p>
<p>Arrays are representing a single streamline or a list of streamlines
that have the same number of N-dimensional points (two last axis).</p>
<section id="id113">
<h4>Parameters<a class="headerlink" href="#id113" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>a<span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
<dt>b<span class="classifier">2D or 3D array</span></dt><dd><p>A streamline or concatenated streamlines
(array of S streamlines by P points in N dimension).</p>
</dd>
</dl>
</section>
<section id="id114">
<h4>Returns<a class="headerlink" href="#id114" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>1D array</dt><dd><p>Distance between each S streamlines</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="otsu">
<h3>otsu<a class="headerlink" href="#otsu" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.otsu">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">otsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.threshold.otsu" title="Permalink to this definition">#</a></dt>
<dd><p>Return threshold value based on Otsu’s method.
Copied from scikit-image to remove dependency.</p>
<section id="id115">
<h4>Parameters<a class="headerlink" href="#id115" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>Input image.</p>
</dd>
<dt>nbins<span class="classifier">int</span></dt><dd><p>Number of bins used to calculate histogram. This value is ignored for
integer arrays.</p>
</dd>
</dl>
</section>
<section id="id116">
<h4>Returns<a class="headerlink" href="#id116" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>threshold<span class="classifier">float</span></dt><dd><p>Threshold value.</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="upper-bound-by-rate">
<h3>upper_bound_by_rate<a class="headerlink" href="#upper-bound-by-rate" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.upper_bound_by_rate">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">upper_bound_by_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.threshold.upper_bound_by_rate" title="Permalink to this definition">#</a></dt>
<dd><p>Adjusts upper intensity boundary using rates</p>
<p>It calculates the image intensity histogram, and based on the rate value it
decide what is the upperbound value for intensity normalization, usually
lower bound is 0. The rate is the ratio between the amount of pixels in
every bins and the bins with highest pixel amount</p>
<section id="id117">
<h4>Parameters<a class="headerlink" href="#id117" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>data<span class="classifier">float</span></dt><dd><p>Input intensity value data</p>
</dd>
<dt>rate<span class="classifier">float</span></dt><dd><p>representing the threshold whether a specific histogram bin that should
be count in the normalization range</p>
</dd>
</dl>
</section>
<section id="id118">
<h4>Returns<a class="headerlink" href="#id118" title="Permalink to this heading">#</a></h4>
<p>high : float</p>
<blockquote>
<div><p>the upper_bound value for normalization</p>
</div></blockquote>
</section>
</dd></dl>

</section>
<section id="upper-bound-by-percent">
<h3>upper_bound_by_percent<a class="headerlink" href="#upper-bound-by-percent" title="Permalink to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dipy.segment.threshold.upper_bound_by_percent">
<span class="sig-prename descclassname"><span class="pre">dipy.segment.threshold.</span></span><span class="sig-name descname"><span class="pre">upper_bound_by_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.threshold.upper_bound_by_percent" title="Permalink to this definition">#</a></dt>
<dd><p>Find the upper bound for visualization of medical images</p>
<p>Calculate the histogram of the image and go right to left until you find
the bound that contains more than a percentage of the image.</p>
<section id="id119">
<h4>Parameters<a class="headerlink" href="#id119" title="Permalink to this heading">#</a></h4>
<p>data : ndarray
percent : float</p>
</section>
<section id="id120">
<h4>Returns<a class="headerlink" href="#id120" title="Permalink to this heading">#</a></h4>
<p>upper_bound : float</p>
</section>
</dd></dl>

</section>
<section id="tissueclassifierhmrf">
<h3><a class="reference internal" href="#dipy.segment.tissue.TissueClassifierHMRF" title="dipy.segment.tissue.TissueClassifierHMRF"><code class="xref py py-class docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><a class="headerlink" href="#tissueclassifierhmrf" title="Permalink to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dipy.segment.tissue.TissueClassifierHMRF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dipy.segment.tissue.</span></span><span class="sig-name descname"><span class="pre">TissueClassifierHMRF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.tissue.TissueClassifierHMRF" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class contains the methods for tissue classification using the Markov
Random Fields modeling approach</p>
<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.tissue.TissueClassifierHMRF.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.tissue.TissueClassifierHMRF.__init__" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dipy.segment.tissue.TissueClassifierHMRF.classify">
<span class="sig-name descname"><span class="pre">classify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nclasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.segment.tissue.TissueClassifierHMRF.classify" title="Permalink to this definition">#</a></dt>
<dd><p>This method uses the Maximum a posteriori - Markov Random Field
approach for segmentation by using the Iterative Conditional Modes and
Expectation Maximization to estimate the parameters.</p>
<section id="id121">
<h4>Parameters<a class="headerlink" href="#id121" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>image<span class="classifier">ndarray,</span></dt><dd><p>3D structural image.</p>
</dd>
<dt>nclasses<span class="classifier">int,</span></dt><dd><p>number of desired classes.</p>
</dd>
<dt>beta<span class="classifier">float,</span></dt><dd><p>smoothing parameter, the higher this number the smoother the
output will be.</p>
</dd>
<dt>tolerance: float,</dt><dd><p>value that defines the percentage of change tolerated to
prevent the ICM loop to stop. Default is 1e-05.</p>
</dd>
<dt>max_iter<span class="classifier">float,</span></dt><dd><p>fixed number of desired iterations. Default is 100.
If the user only specifies this parameter, the tolerance
value will not be considered. If none of these two
parameters</p>
</dd>
</dl>
</section>
<section id="id122">
<h4>Returns<a class="headerlink" href="#id122" title="Permalink to this heading">#</a></h4>
<dl class="simple">
<dt>initial_segmentation<span class="classifier">ndarray,</span></dt><dd><p>3D segmented image with all tissue types
specified in nclasses.</p>
</dd>
<dt>final_segmentation<span class="classifier">ndarray,</span></dt><dd><p>3D final refined segmentation containing all
tissue types.</p>
</dd>
<dt>PVE<span class="classifier">ndarray,</span></dt><dd><p>3D probability map of each tissue type.</p>
</dd>
</dl>
</section>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

<div class="section ablog__blog_comments">
  
  
</div>

                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="dipy.reconst.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="dipy.sims.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.benchmarks">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.benchmarks</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.benchmarks.bench_quickbundles">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.benchmarks.bench_quickbundles</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.bundles">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.bundles</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.clustering">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.clustering</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.fss">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.fss</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.mask">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.mask</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.metric">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.metric</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.threshold">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.threshold</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-dipy.segment.tissue">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">segment.tissue</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mdfpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">MDFpy</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy"><code class="docutils literal notranslate"><span class="pre">MDFpy</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.__init__"><code class="docutils literal notranslate"><span class="pre">MDFpy.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible"><code class="docutils literal notranslate"><span class="pre">MDFpy.are_compatible()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist"><code class="docutils literal notranslate"><span class="pre">MDFpy.dist()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bench-quickbundles">bench_quickbundles</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles"><code class="docutils literal notranslate"><span class="pre">bench_quickbundles()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recobundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles"><code class="docutils literal notranslate"><span class="pre">RecoBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.__init__"><code class="docutils literal notranslate"><span class="pre">RecoBundles.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.evaluate_results"><code class="docutils literal notranslate"><span class="pre">RecoBundles.evaluate_results()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.recognize"><code class="docutils literal notranslate"><span class="pre">RecoBundles.recognize()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.RecoBundles.refine"><code class="docutils literal notranslate"><span class="pre">RecoBundles.refine()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-range">check_range</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.check_range"><code class="docutils literal notranslate"><span class="pre">check_range()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logger">logger</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.logger"><code class="docutils literal notranslate"><span class="pre">logger()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bundle-adjacency">bundle_adjacency</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.bundle_adjacency"><code class="docutils literal notranslate"><span class="pre">bundle_adjacency()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ba-analysis">ba_analysis</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.ba_analysis"><code class="docutils literal notranslate"><span class="pre">ba_analysis()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cluster-bundle">cluster_bundle</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.cluster_bundle"><code class="docutils literal notranslate"><span class="pre">cluster_bundle()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bundle-shape-similarity">bundle_shape_similarity</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.bundles.bundle_shape_similarity"><code class="docutils literal notranslate"><span class="pre">bundle_shape_similarity()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Identity</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Identity"><code class="docutils literal notranslate"><span class="pre">Identity</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Identity.__init__"><code class="docutils literal notranslate"><span class="pre">Identity.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Cluster"><code class="docutils literal notranslate"><span class="pre">Cluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Cluster.__init__"><code class="docutils literal notranslate"><span class="pre">Cluster.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Cluster.assign"><code class="docutils literal notranslate"><span class="pre">Cluster.assign()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustercentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid.__init__"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid.assign"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid.assign()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterCentroid.update"><code class="docutils literal notranslate"><span class="pre">ClusterCentroid.update()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustermap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap"><code class="docutils literal notranslate"><span class="pre">ClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.__init__"><code class="docutils literal notranslate"><span class="pre">ClusterMap.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.add_cluster"><code class="docutils literal notranslate"><span class="pre">ClusterMap.add_cluster()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clear"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clear()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clusters</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.clusters_sizes"><code class="docutils literal notranslate"><span class="pre">ClusterMap.clusters_sizes()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.get_large_clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.get_large_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.get_small_clusters"><code class="docutils literal notranslate"><span class="pre">ClusterMap.get_small_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.refdata"><code class="docutils literal notranslate"><span class="pre">ClusterMap.refdata</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.remove_cluster"><code class="docutils literal notranslate"><span class="pre">ClusterMap.remove_cluster()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMap.size"><code class="docutils literal notranslate"><span class="pre">ClusterMap.size()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustermapcentroid"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMapCentroid"><code class="docutils literal notranslate"><span class="pre">ClusterMapCentroid</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMapCentroid.__init__"><code class="docutils literal notranslate"><span class="pre">ClusterMapCentroid.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.ClusterMapCentroid.centroids"><code class="docutils literal notranslate"><span class="pre">ClusterMapCentroid.centroids</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clustering"><code class="xref py py-class docutils literal notranslate"><span class="pre">Clustering</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Clustering"><code class="docutils literal notranslate"><span class="pre">Clustering</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Clustering.__init__"><code class="docutils literal notranslate"><span class="pre">Clustering.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.Clustering.cluster"><code class="docutils literal notranslate"><span class="pre">Clustering.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quickbundles"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundles"><code class="docutils literal notranslate"><span class="pre">QuickBundles</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundles.__init__"><code class="docutils literal notranslate"><span class="pre">QuickBundles.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundles.cluster"><code class="docutils literal notranslate"><span class="pre">QuickBundles.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quickbundlesx"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundlesX"><code class="docutils literal notranslate"><span class="pre">QuickBundlesX</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundlesX.__init__"><code class="docutils literal notranslate"><span class="pre">QuickBundlesX.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.QuickBundlesX.cluster"><code class="docutils literal notranslate"><span class="pre">QuickBundlesX.cluster()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treecluster"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster"><code class="docutils literal notranslate"><span class="pre">TreeCluster</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.__init__"><code class="docutils literal notranslate"><span class="pre">TreeCluster.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.add"><code class="docutils literal notranslate"><span class="pre">TreeCluster.add()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.is_leaf"><code class="docutils literal notranslate"><span class="pre">TreeCluster.is_leaf</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeCluster.return_indices"><code class="docutils literal notranslate"><span class="pre">TreeCluster.return_indices()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#treeclustermap"><code class="xref py py-class docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.__init__"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.get_clusters"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.get_clusters()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.iter_preorder"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.iter_preorder()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.refdata"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.refdata</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.TreeClusterMap.traverse_postorder"><code class="docutils literal notranslate"><span class="pre">TreeClusterMap.traverse_postorder()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">logger</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.logger"><code class="docutils literal notranslate"><span class="pre">logger()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#qbx-and-merge">qbx_and_merge</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.clustering.qbx_and_merge"><code class="docutils literal notranslate"><span class="pre">qbx_and_merge()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#faststreamlinesearch"><code class="xref py py-class docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.FastStreamlineSearch"><code class="docutils literal notranslate"><span class="pre">FastStreamlineSearch</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.FastStreamlineSearch.__init__"><code class="docutils literal notranslate"><span class="pre">FastStreamlineSearch.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.FastStreamlineSearch.radius_search"><code class="docutils literal notranslate"><span class="pre">FastStreamlineSearch.radius_search()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nearest-from-matrix-row">nearest_from_matrix_row</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.nearest_from_matrix_row"><code class="docutils literal notranslate"><span class="pre">nearest_from_matrix_row()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nearest-from-matrix-col">nearest_from_matrix_col</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.fss.nearest_from_matrix_col"><code class="docutils literal notranslate"><span class="pre">nearest_from_matrix_col()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-median">multi_median</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.multi_median"><code class="docutils literal notranslate"><span class="pre">multi_median()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#applymask">applymask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.applymask"><code class="docutils literal notranslate"><span class="pre">applymask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bounding-box">bounding_box</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.bounding_box"><code class="docutils literal notranslate"><span class="pre">bounding_box()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#crop">crop</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.crop"><code class="docutils literal notranslate"><span class="pre">crop()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#median-otsu">median_otsu</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.median_otsu"><code class="docutils literal notranslate"><span class="pre">median_otsu()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segment-from-cfa">segment_from_cfa</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.segment_from_cfa"><code class="docutils literal notranslate"><span class="pre">segment_from_cfa()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#clean-cc-mask">clean_cc_mask</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.mask.clean_cc_mask"><code class="docutils literal notranslate"><span class="pre">clean_cc_mask()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mdf">mdf</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mdf"><code class="docutils literal notranslate"><span class="pre">mdf()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-manhattan-distance">mean_manhattan_distance</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mean_manhattan_distance"><code class="docutils literal notranslate"><span class="pre">mean_manhattan_distance()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-euclidean-distance">mean_euclidean_distance</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.metric.mean_euclidean_distance"><code class="docutils literal notranslate"><span class="pre">mean_euclidean_distance()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otsu">otsu</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.otsu"><code class="docutils literal notranslate"><span class="pre">otsu()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#upper-bound-by-rate">upper_bound_by_rate</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.upper_bound_by_rate"><code class="docutils literal notranslate"><span class="pre">upper_bound_by_rate()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#upper-bound-by-percent">upper_bound_by_percent</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.threshold.upper_bound_by_percent"><code class="docutils literal notranslate"><span class="pre">upper_bound_by_percent()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tissueclassifierhmrf"><code class="xref py py-class docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.TissueClassifierHMRF"><code class="docutils literal notranslate"><span class="pre">TissueClassifierHMRF</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.TissueClassifierHMRF.__init__"><code class="docutils literal notranslate"><span class="pre">TissueClassifierHMRF.__init__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#dipy.segment.tissue.TissueClassifierHMRF.classify"><code class="docutils literal notranslate"><span class="pre">TissueClassifierHMRF.classify()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  
<script type="module" src="../_static/scripts/grg-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2008-2023, dipy developers &lt;neuroimaging@python.org&gt;.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

    <div class="copyright-text">
      <i class="fa-regular fa-copyright"></i> 
    </div>
  </footer>
  </body>
</html>