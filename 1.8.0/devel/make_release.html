
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>DIPY &#8212; dipy 1.8.0dev0 documentation</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/dipy.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

  
<link rel="stylesheet" href="../_static/styles/grg-sphinx-theme.css"/>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devel/make_release';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Commit message codes" href="commit_codes.html" />
    <link rel="prev" title="git resources" href="gitwash/git_resources.html" />

  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">




  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
<nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">dipy 1.8.0dev0 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../documentation.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../stateoftheart.html">
                        A quick overview of features
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

</nav>
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../documentation.html">
                        Documentation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../stateoftheart.html">
                        A quick overview of features
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">What is DIPY?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission.html">Mission statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data.html">Data</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../interfaces/index.html">DIPY Workflows Interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/basic_flow.html">Introduction to command line interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/data_fetch.html">Downloading DIPY datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/denoise_flow.html">Denoising</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/motion_flow.html">Between-Volumes Motion Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/gibbs_unringing_flow.html">Gibbs Unringing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/registration_flow.html">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/reconstruction_flow.html">Reconstruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/tracking_flow.html">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/buan_flow.html">BUndle ANalytics (BUAN) framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/bundle_segmentation_flow.html">White Matter Bundle Segmentation with RecoBundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/bundlewarp_registration_flow.html">Nonrigid White Matter Bundle Registration with BundleWarp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cite.html">Publications</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">DIPY development</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="gitwash/index.html">Working with DIPY source code</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gitwash/git_intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="gitwash/git_install.html">Install git</a></li>
<li class="toctree-l3"><a class="reference internal" href="gitwash/following_latest.html">Following the latest source</a></li>
<li class="toctree-l3"><a class="reference internal" href="gitwash/patching.html">Making a patch</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="gitwash/git_development.html">Git for development</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="gitwash/forking_hell.html">Making your own copy (fork) of DIPY</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitwash/set_up_fork.html">Set up your fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitwash/configure_git.html">Configure git</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitwash/development_workflow.html">Development workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="gitwash/maintainer_workflow.html">Maintainer workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gitwash/git_resources.html">git resources</a></li>
</ul>
</li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">A guide to making a DIPY release</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit_codes.html">Commit message codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="coding_style_guideline.html">DIPY Coding Style Guideline</a></li>
<li class="toctree-l2"><a class="reference internal" href="python3.html">Keeping code compatible with Pythons 2 and 3</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../theory/index.html">Theory and concepts</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../theory/spherical.html">Spherical coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../theory/sh_basis.html">Spherical Harmonic bases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dipy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.align.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">align</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.boots.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">boots</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.core.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">core</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.denoise.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">denoise</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.direction.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">direction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.io.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.nn.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.reconst.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.segment.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">segment</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.sims.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sims</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.stats.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.tracking.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tracking</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.viz.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">viz</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/dipy.workflows.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">workflows</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference_cmd/index.html">Command Line Utilities Reference</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_align_affine.html">dipy_align_affine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_align_syn.html">dipy_align_syn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_apply_transform.html">dipy_apply_transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_buan_lmm.html">dipy_buan_lmm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_buan_profiles.html">dipy_buan_profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_bundlewarp.html">dipy_bundlewarp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_correct_motion.html">dipy_correct_motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_lpca.html">dipy_denoise_lpca</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_mppca.html">dipy_denoise_mppca</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_nlmeans.html">dipy_denoise_nlmeans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_denoise_patch2self.html">dipy_denoise_patch2self</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_evac_plus.html">dipy_evac_plus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fetch.html">dipy_fetch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_csa.html">dipy_fit_csa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_csd.html">dipy_fit_csd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_dki.html">dipy_fit_dki</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_dti.html">dipy_fit_dti</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_ivim.html">dipy_fit_ivim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_fit_mapmri.html">dipy_fit_mapmri</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_gibbs_ringing.html">dipy_gibbs_ringing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_horizon.html">dipy_horizon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_info.html">dipy_info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_labelsbundles.html">dipy_labelsbundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_mask.html">dipy_mask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_median_otsu.html">dipy_median_otsu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_recobundles.html">dipy_recobundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_reslice.html">dipy_reslice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_slr.html">dipy_slr</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_snr_in_cc.html">dipy_snr_in_cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_split.html">dipy_split</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_track.html">dipy_track</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference_cmd/dipy_track_pft.html">dipy_track_pft</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_changes.html">API changes</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../documentation.html" class="nav-link">Documentation</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">DIPY development</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">DIPY</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
<section id="a-guide-to-making-a-dipy-release">
<span id="release-guide"></span><h1>A guide to making a DIPY release<a class="headerlink" href="#a-guide-to-making-a-dipy-release" title="Permalink to this heading">#</a></h1>
<p>A guide for developers who are doing a DIPY release</p>
<section id="release-checklist">
<span id="id1"></span><h2>Release checklist<a class="headerlink" href="#release-checklist" title="Permalink to this heading">#</a></h2>
<ul>
<li><p>Review the open list of <a class="reference external" href="http://github.com/dipy/dipy/issues">dipy issues</a>.  Check whether there are
outstanding issues that can be closed, and whether there are any issues that
should delay the release.  Label them !</p></li>
<li><p>Check whether there are no build failing on <cite>Travis</cite>. Indeed, <code class="docutils literal notranslate"><span class="pre">PRE</span></code> build is
allowed to fail and does not block a PR merge but it should block release !
So make sure that <code class="docutils literal notranslate"><span class="pre">PRE</span></code> build is not failing.</p></li>
<li><p>Review and update the release notes.  Review and update the <code class="file docutils literal notranslate"><span class="pre">Changelog</span></code>
file.  Get a partial list of contributors with something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">shortlog</span> <span class="o">-</span><span class="n">ns</span> <span class="mf">0.6.0</span><span class="o">..</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">0.6.0</span></code> was the last release tag name.</p>
<p>Then manually go over <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">shortlog</span> <span class="pre">0.6.0..</span></code> to make sure the release notes
are as complete as possible and that every contributor was recognized.</p>
</li>
<li><p>Use the opportunity to update the <code class="docutils literal notranslate"><span class="pre">.mailmap</span></code> file if there are any duplicate
authors listed from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">shortlog</span> <span class="pre">-ns</span></code>.</p></li>
<li><p>Add any new authors to the <code class="docutils literal notranslate"><span class="pre">AUTHORS</span></code> file.  Add any new entries to the
<code class="docutils literal notranslate"><span class="pre">THANKS</span></code> file.</p></li>
<li><p>Check the copyright years in <code class="docutils literal notranslate"><span class="pre">doc/conf.py</span></code> and <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code></p></li>
<li><p>Check the examples - we really need an automated check here.</p></li>
<li><p>Check the <code class="docutils literal notranslate"><span class="pre">pyx</span></code> file doctests with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">tools</span><span class="o">/</span><span class="n">doctest_extmods</span><span class="o">.</span><span class="n">py</span> <span class="n">dipy</span>
</pre></div>
</div>
<p>We really need an automated run of these using the buildbots, but we haven’t
done it yet.</p>
</li>
<li><p>Check the <code class="docutils literal notranslate"><span class="pre">long_description</span></code> in <code class="docutils literal notranslate"><span class="pre">dipy/info.py</span></code>.  Check it matches the
<code class="docutils literal notranslate"><span class="pre">README</span></code> in the root directory, maybe with <code class="docutils literal notranslate"><span class="pre">vim</span></code> <code class="docutils literal notranslate"><span class="pre">diffthis</span></code> command.
Check all the links are still valid.</p></li>
<li><p>Check all the DIPY builds are green on the nipy <a class="reference external" href="http://nipy.bic.berkeley.edu/builders">buildbots</a></p></li>
<li><p>If you have <a class="reference external" href="https://travis-ci.com/">travis-ci</a> building set up you might want to push the code in its
current state to a branch that will build, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">D</span> <span class="n">pre</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">test</span> <span class="c1"># in case branch already exists</span>
<span class="n">git</span> <span class="n">co</span> <span class="o">-</span><span class="n">b</span> <span class="n">pre</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">test</span>
</pre></div>
</div>
</li>
<li><p>Clean and compile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">distclean</span>
<span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">fxd</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build_ext</span> <span class="o">--</span><span class="n">inplace</span>
</pre></div>
</div>
</li>
<li><p>Make sure all tests pass on your local machine (from the <code class="docutils literal notranslate"><span class="pre">&lt;dipy</span> <span class="pre">root&gt;</span></code> directory):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">..</span>
<span class="n">pytest</span> <span class="o">-</span><span class="n">sv</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">doctest</span> <span class="n">dipy</span>
<span class="n">cd</span> <span class="n">dipy</span> <span class="c1"># back to the root directory</span>
</pre></div>
</div>
</li>
<li><p>Check the documentation doctests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">doc</span>
<span class="n">make</span> <span class="n">doctest</span>
<span class="n">cd</span> <span class="o">..</span>
</pre></div>
</div>
<p>At the moment this generates lots of errors from the autodoc documentation
running the doctests in the code, where the doctests pass when run in pytest -
we should find out why this is at some point, but leave it for now.</p>
</li>
<li><p>Build and test the DIPY wheels.  See the <a class="reference external" href="https://github.com/MacPython/dipy-wheels">wheel builder README</a> for instructions.  In summary,
clone the wheel-building repo, edit the <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> and <code class="docutils literal notranslate"><span class="pre">appveyor.yml</span></code>
text files (if present) with the branch or commit for the release, commit
and then push back up to github.  This will trigger a wheel build and test
on OSX, Linux and Windows. Check the build has passed on the Travis-CI
interface at <a class="reference external" href="https://travis-ci.org/MacPython/dipy-wheels">https://travis-ci.org/MacPython/dipy-wheels</a>.  You’ll need
commit privileges to the <code class="docutils literal notranslate"><span class="pre">dipy-wheels</span></code> repo; ask Matthew Brett or on the
mailing list if you do not have them.</p></li>
<li><p>The release should now be ready.</p></li>
</ul>
</section>
<section id="doing-the-release">
<h2>Doing the release<a class="headerlink" href="#doing-the-release" title="Permalink to this heading">#</a></h2>
<p>Doing the release! This has two steps:</p>
<ul class="simple">
<li><p>build and upload the DIPY wheels;</p></li>
<li><p>make and upload the DIPY source release.</p></li>
</ul>
<p>The trick here is to get all the testing, pushing to upstream done <em>before</em> you
do the final release commit.  There should be only one commit with the release
version number, so you might want to make the release commit on your local
machine, push to <a class="reference external" href="http://pypi.python.org/pypi/dipy">dipy pypi</a>, review, fix, rebase, until all is good.  Then and only
then do you push to upstream on github.</p>
<ul>
<li><p>Make the release commit.  Edit <code class="file docutils literal notranslate"><span class="pre">dipy/info.py</span></code> to set
<code class="docutils literal notranslate"><span class="pre">_version_extra</span></code> to <code class="docutils literal notranslate"><span class="pre">''</span></code>; commit.  Push.</p></li>
<li><p>For the wheel build / upload, follow the <a class="reference external" href="https://github.com/MacPython/dipy-wheels">wheel builder README</a>
instructions again.  Edit the <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> and <code class="docutils literal notranslate"><span class="pre">appveyor.yml</span></code> files (if
present) to give the release tag to build.  Check the build has passed on
the Travis-CI interface at <a class="reference external" href="https://travis-ci.org/MacPython/dipy-wheels">https://travis-ci.org/MacPython/dipy-wheels</a>.  Now
follow the instructions in the page above to download the built wheels to a
local machine and upload to PyPI.</p></li>
<li><p>Now it’s time for the source release. Build the release files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">distclean</span>
<span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">fxd</span>
<span class="n">make</span> <span class="n">source</span><span class="o">-</span><span class="n">release</span>
</pre></div>
</div>
</li>
<li><p>Once everything looks good, upload the source release to PyPi.  See
<a class="reference external" href="http://packages.python.org/an_example_pypi_project/setuptools.html">setuptools intro</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">register</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">sdist</span> <span class="o">--</span><span class="n">formats</span><span class="o">=</span><span class="n">gztar</span><span class="p">,</span><span class="nb">zip</span> <span class="n">upload</span>
</pre></div>
</div>
</li>
<li><p>Remember you’ll need your <code class="docutils literal notranslate"><span class="pre">~/.pypirc</span></code> file set up right for this to work.
See <a class="reference external" href="http://packages.python.org/an_example_pypi_project/setuptools.html">setuptools intro</a>.  The file should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">distutils</span><span class="p">]</span>
<span class="n">index</span><span class="o">-</span><span class="n">servers</span> <span class="o">=</span>
    <span class="n">pypi</span>

<span class="p">[</span><span class="n">pypi</span><span class="p">]</span>
<span class="n">username</span><span class="p">:</span><span class="n">your</span><span class="o">.</span><span class="n">pypi</span><span class="o">.</span><span class="n">username</span>
<span class="n">password</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">password</span>

<span class="p">[</span><span class="n">server</span><span class="o">-</span><span class="n">login</span><span class="p">]</span>
<span class="n">username</span><span class="p">:</span><span class="n">your</span><span class="o">.</span><span class="n">pypi</span><span class="o">.</span><span class="n">username</span>
<span class="n">password</span><span class="p">:</span><span class="n">your</span><span class="o">-</span><span class="n">password</span>
</pre></div>
</div>
</li>
<li><p>Check how everything looks on pypi - the description, the packages.  If
necessary delete the release and try again if it doesn’t look right.</p></li>
<li><p>Make an annotated tag for the release with tag of form <code class="docutils literal notranslate"><span class="pre">0.6.0</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">tag</span> <span class="o">-</span><span class="n">am</span> <span class="s1">&#39;Second public release&#39;</span> <span class="mf">0.6.0</span>
</pre></div>
</div>
</li>
<li><p>Set up maintenance / development branches</p>
<p>If this is a full release you need to set up two branches, one for
further substantial development (often called ‘trunk’) and another for
maintenance releases.</p>
<ul>
<li><p>Branch to maintenance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">co</span> <span class="o">-</span><span class="n">b</span> <span class="n">maint</span><span class="o">/</span><span class="mf">0.6</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<p>Set <code class="docutils literal notranslate"><span class="pre">_version_extra</span></code> back to <code class="docutils literal notranslate"><span class="pre">.dev</span></code> and bump <code class="docutils literal notranslate"><span class="pre">_version_micro</span></code> by 1.
Thus the maintenance series will have version numbers like - say - ‘0.6.1.dev’
until the next maintenance release - say ‘0.6.1’.  Commit.</p>
<p>Push with something like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">upstream-rw</span> <span class="pre">maint/0.6.x</span> <span class="pre">--set-upstream</span></code></p>
</li>
<li><p>Start next development series:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">co</span> <span class="n">main</span><span class="o">-</span><span class="n">master</span>
</pre></div>
</div>
<p>then restore <code class="docutils literal notranslate"><span class="pre">.dev</span></code> to <code class="docutils literal notranslate"><span class="pre">_version_extra</span></code>, and bump <code class="docutils literal notranslate"><span class="pre">_version_minor</span></code> by 1.
Thus the development series (‘trunk’) will have a version number here of
‘0.7.0.dev’ and the next full release will be ‘0.7.0’.</p>
<p>Next merge the maintenance branch with the “ours” strategy.  This just labels
the maintenance branch <cite>info.py</cite> edits as seen but discarded, so we can
merge from maintenance in future without getting spurious merge conflicts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">merge</span> <span class="o">-</span><span class="n">s</span> <span class="n">ours</span> <span class="n">maint</span><span class="o">/</span><span class="mf">0.6</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<p>Push with something like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">upstream-rw</span> <span class="pre">main-master:master</span></code></p>
</li>
</ul>
<p>If this is just a maintenance release from <code class="docutils literal notranslate"><span class="pre">maint/0.6.x</span></code> or similar, just
tag and set the version number to - say - <code class="docutils literal notranslate"><span class="pre">0.6.2.dev</span></code>.</p>
</li>
<li><p>Push the tag with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">upstream-rw</span> <span class="pre">0.6.0</span></code></p></li>
</ul>
</section>
<section id="uploading-binary-builds-for-the-release">
<h2>Uploading binary builds for the release<a class="headerlink" href="#uploading-binary-builds-for-the-release" title="Permalink to this heading">#</a></h2>
<p>By far the easiest way to do this is via the buildbots.</p>
<p>In order to do this, you need first to push the release commit and the release
tag to github, so the buildbots can find the released code and build it.</p>
<ul>
<li><p>In order to trigger the binary builds for the release commit, you need to go
to the web interface for the binary builder, go to the “Force build” section,
enter your username and password for the buildbot web service and enter the
commit tag name in the <em>revision</em> field.  For example, if the tag was
<code class="docutils literal notranslate"><span class="pre">0.6.0</span></code> then you would enter <code class="docutils literal notranslate"><span class="pre">0.6.0</span></code> in the revision field of the form.
This builds the exact commit labeled by the tag, which is what we want.</p></li>
<li><p>Trigger binary builds for Windows from the buildbots. See builders
<code class="docutils literal notranslate"><span class="pre">dipy-bdist32-26</span></code>, <code class="docutils literal notranslate"><span class="pre">dipy-bdist32-27</span></code>.  The <code class="docutils literal notranslate"><span class="pre">exe</span></code> builds will appear in
<a class="reference external" href="http://nipy.bic.berkeley.edu/dipy-dist">http://nipy.bic.berkeley.edu/dipy-dist</a> .  Check that the binary build version
numbers are release numbers (<code class="docutils literal notranslate"><span class="pre">dipy-0.6.0.win32.exe</span></code> rather than
<code class="docutils literal notranslate"><span class="pre">dipy-0.6.0.dev.win32.exe</span></code>).</p>
<p>Download the builds and upload to pypi.</p>
<p>You can upload the exe files with the <em>files</em> interface for the new DIPY release.
Obviously you’ll need to log in to do this, and you’ll need to be an admin for
the DIPY pypi project.</p>
<p>For reference, if you need to do binary exe builds by hand, use something
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">distclean</span>
<span class="n">git</span> <span class="n">clean</span> <span class="o">-</span><span class="n">fxd</span>
<span class="n">c</span><span class="p">:</span>\<span class="n">Python26</span>\<span class="n">python</span><span class="o">.</span><span class="n">exe</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">bdist_egg</span> <span class="n">upload</span>
<span class="n">c</span><span class="p">:</span>\<span class="n">Python26</span>\<span class="n">python</span><span class="o">.</span><span class="n">exe</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">bdist_wininst</span> <span class="o">--</span><span class="n">target</span><span class="o">-</span><span class="n">version</span><span class="o">=</span><span class="mf">2.6</span> <span class="n">register</span> <span class="n">upload</span>
</pre></div>
</div>
</li>
<li><p>Trigger binary builds for OSX from the buildbots <code class="docutils literal notranslate"><span class="pre">dipy-bdist-mpkg-2.6</span></code>,
<code class="docutils literal notranslate"><span class="pre">dipy-bdist-mpkg-2.7</span></code>. <code class="docutils literal notranslate"><span class="pre">egg</span></code> and <code class="docutils literal notranslate"><span class="pre">mpkg</span></code> builds will appear in
<a class="reference external" href="http://nipy.bic.berkeley.edu/dipy-dist">http://nipy.bic.berkeley.edu/dipy-dist</a> .  Download the eggs and upload to
pypi.</p>
<p>Upload the dmg files with the <em>files</em> interface for the new DIPY release.</p>
</li>
<li><p>Building OSX dmgs from the mpkg builds.</p>
<p>The buildbot binary builders build <code class="docutils literal notranslate"><span class="pre">mpkg</span></code> directories, which are installers
for OSX.</p>
<p>These need their permissions to be fixed because the installers should install
the files as the root user, group <code class="docutils literal notranslate"><span class="pre">admin</span></code>.  The all need to be converted to
OSX disk images.  Use the <code class="docutils literal notranslate"><span class="pre">./tools/build_dmgs.py</span></code>, with something like this
command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">tools</span><span class="o">/</span><span class="n">build_dmgs</span> <span class="s2">&quot;dipy-dist/dipy-0.6.0-py*.mpkg&quot;</span>
</pre></div>
</div>
<p>For this to work you’ll need several things:</p>
<blockquote>
<div><ul class="simple">
<li><p>An account on a OSX box with sudo (Admin user) on which to run the script.</p></li>
<li><p>ssh access to the buildbot server <a class="reference external" href="http://nipy.bic.berkeley.edu">http://nipy.bic.berkeley.edu</a> (ask
Matthew or Eleftherios).</p></li>
<li><p>a development version of <code class="docutils literal notranslate"><span class="pre">bdist_mpkg</span></code> installed from
<a class="github reference external" href="https://github.com/matthew-brett/bdist_mpkg">matthew-brett/bdist_mpkg</a>.  You need this second for the
script <code class="docutils literal notranslate"><span class="pre">reown_mpkg</span></code> that fixes the permissions.</p></li>
</ul>
</div></blockquote>
<p>Upload the dmg files with the <em>files</em> interface for the new DIPY release.</p>
</li>
</ul>
</section>
<section id="other-stuff-that-needs-doing-for-the-release">
<h2>Other stuff that needs doing for the release<a class="headerlink" href="#other-stuff-that-needs-doing-for-the-release" title="Permalink to this heading">#</a></h2>
<ul>
<li><p>Checkout the tagged release, build the html docs and upload them to
the github pages website:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">upload</span>
</pre></div>
</div>
<p>You need to checkout the tagged version in order to get the version number
correct for the doc build.  The version number gets picked up from the
<code class="docutils literal notranslate"><span class="pre">info.py</span></code> version.</p>
</li>
<li><p>Announce to the mailing lists.  With fear and trembling.</p></li>
</ul>
</section>
</section>

<div class="section ablog__blog_comments">
  
  
</div>

                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="gitwash/git_resources.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">git resources</p>
      </div>
    </a>
    <a class="right-next"
       href="commit_codes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Commit message codes</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#release-checklist">Release checklist</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#doing-the-release">Doing the release</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uploading-binary-builds-for-the-release">Uploading binary builds for the release</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-stuff-that-needs-doing-for-the-release">Other stuff that needs doing for the release</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  
<script type="module" src="../_static/scripts/grg-sphinx-theme.js"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2008-2023, dipy developers &lt;neuroimaging@python.org&gt;.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

    <div class="copyright-text">
      <i class="fa-regular fa-copyright"></i> 
    </div>
  </footer>
  </body>
</html>