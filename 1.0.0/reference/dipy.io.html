
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>DIPY &#8212; dipy 1.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/dipy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="reconst" href="dipy.reconst.html" />
    <link rel="prev" title="direction" href="dipy.direction.html" />
  <meta name="keywords" content="DIPY, dMRI, DTI, DSI, diffusion MRI, Tensor,
  neuroimaging, python, neuroscience, Eleftherios, Garyfallidis, tractography,
  streamlines, fiber tracking">

  </head><body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../index.html">
  <img src="../_static/dipy-banner.png" alt="DIPY logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dipy.reconst.html" title="reconst"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dipy.direction.html" title="direction"
             accesskey="P">previous</a> |</li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">API Reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">


<h4> Site Navigation </h4>
  <ul>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.org/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.org/">NIPY Projects</a></li>
    <li><a class="reference external"
	href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing List</a></li>
    <li><a class="reference external"
	href="http://nipy.org/nipy/license.html">License</a></li>
  </ul>


  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a><ul>
<li><a class="reference internal" href="#module-dipy.io.bvectxt">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.bvectxt</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.dpy">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.dpy</span></code></a><ul>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-dipy.io.gradients">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.gradients</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.image">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.image</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.peaks">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.peaks</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.pickles">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.pickles</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.stateful_tractogram">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.stateful_tractogram</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.streamline">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.streamline</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.utils">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.utils</span></code></a></li>
<li><a class="reference internal" href="#module-dipy.io.vtk">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.vtk</span></code></a><ul>
<li><a class="reference internal" href="#dpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a></li>
<li><a class="reference internal" href="#load-pickle">load_pickle</a></li>
<li><a class="reference internal" href="#orientation-from-string">orientation_from_string</a></li>
<li><a class="reference internal" href="#orientation-to-string">orientation_to_string</a></li>
<li><a class="reference internal" href="#ornt-mapping">ornt_mapping</a></li>
<li><a class="reference internal" href="#read-bvals-bvecs">read_bvals_bvecs</a></li>
<li><a class="reference internal" href="#read-bvec-file">read_bvec_file</a></li>
<li><a class="reference internal" href="#reorient-on-axis">reorient_on_axis</a></li>
<li><a class="reference internal" href="#reorient-vectors">reorient_vectors</a></li>
<li><a class="reference internal" href="#save-pickle">save_pickle</a></li>
<li><a class="reference internal" href="#id4">orientation_from_string</a></li>
<li><a class="reference internal" href="#id5">orientation_to_string</a></li>
<li><a class="reference internal" href="#id6">ornt_mapping</a></li>
<li><a class="reference internal" href="#id7">read_bvec_file</a></li>
<li><a class="reference internal" href="#id8">reorient_on_axis</a></li>
<li><a class="reference internal" href="#id9">reorient_vectors</a></li>
<li><a class="reference internal" href="#splitext">splitext</a></li>
<li><a class="reference internal" href="#id10"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a></li>
<li><a class="reference internal" href="#streamlines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Streamlines</span></code></a></li>
<li><a class="reference internal" href="#intemporarydirectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">InTemporaryDirectory</span></code></a></li>
<li><a class="reference internal" href="#id11">read_bvals_bvecs</a></li>
<li><a class="reference internal" href="#id12">splitext</a></li>
<li><a class="reference internal" href="#load-nifti">load_nifti</a></li>
<li><a class="reference internal" href="#save-nifti">save_nifti</a></li>
<li><a class="reference internal" href="#save-qa-metric">save_qa_metric</a></li>
<li><a class="reference internal" href="#peaksandmetrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeaksAndMetrics</span></code></a></li>
<li><a class="reference internal" href="#sphere"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sphere</span></code></a></li>
<li><a class="reference internal" href="#load-peaks">load_peaks</a></li>
<li><a class="reference internal" href="#peaks-to-niftis">peaks_to_niftis</a></li>
<li><a class="reference internal" href="#reshape-peaks-for-visualization">reshape_peaks_for_visualization</a></li>
<li><a class="reference internal" href="#id13">save_nifti</a></li>
<li><a class="reference internal" href="#save-peaks">save_peaks</a></li>
<li><a class="reference internal" href="#id14">load_pickle</a></li>
<li><a class="reference internal" href="#id15">save_pickle</a></li>
<li><a class="reference internal" href="#perarraydict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a></li>
<li><a class="reference internal" href="#perarraysequencedict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArraySequenceDict</span></code></a></li>
<li><a class="reference internal" href="#space"><code class="xref py py-class docutils literal notranslate"><span class="pre">Space</span></code></a></li>
<li><a class="reference internal" href="#statefultractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a></li>
<li><a class="reference internal" href="#id16"><code class="xref py py-class docutils literal notranslate"><span class="pre">Streamlines</span></code></a></li>
<li><a class="reference internal" href="#tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a></li>
<li><a class="reference internal" href="#itemgetter"><code class="xref py py-class docutils literal notranslate"><span class="pre">itemgetter</span></code></a></li>
<li><a class="reference internal" href="#product"><code class="xref py py-class docutils literal notranslate"><span class="pre">product</span></code></a></li>
<li><a class="reference internal" href="#apply-affine">apply_affine</a></li>
<li><a class="reference internal" href="#bisect">bisect</a></li>
<li><a class="reference internal" href="#deepcopy">deepcopy</a></li>
<li><a class="reference internal" href="#get-reference-info">get_reference_info</a></li>
<li><a class="reference internal" href="#id21"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a></li>
<li><a class="reference internal" href="#id22"><code class="xref py py-class docutils literal notranslate"><span class="pre">Space</span></code></a></li>
<li><a class="reference internal" href="#id23"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a></li>
<li><a class="reference internal" href="#id24"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a></li>
<li><a class="reference internal" href="#create-tractogram-header">create_tractogram_header</a></li>
<li><a class="reference internal" href="#id27">deepcopy</a></li>
<li><a class="reference internal" href="#detect-format">detect_format</a></li>
<li><a class="reference internal" href="#is-header-compatible">is_header_compatible</a></li>
<li><a class="reference internal" href="#load-dpy">load_dpy</a></li>
<li><a class="reference internal" href="#load-fib">load_fib</a></li>
<li><a class="reference internal" href="#load-tck">load_tck</a></li>
<li><a class="reference internal" href="#load-tractogram">load_tractogram</a></li>
<li><a class="reference internal" href="#load-trk">load_trk</a></li>
<li><a class="reference internal" href="#load-vtk">load_vtk</a></li>
<li><a class="reference internal" href="#load-vtk-streamlines">load_vtk_streamlines</a></li>
<li><a class="reference internal" href="#save-dpy">save_dpy</a></li>
<li><a class="reference internal" href="#save-fib">save_fib</a></li>
<li><a class="reference internal" href="#save-tck">save_tck</a></li>
<li><a class="reference internal" href="#save-tractogram">save_tractogram</a></li>
<li><a class="reference internal" href="#save-trk">save_trk</a></li>
<li><a class="reference internal" href="#save-vtk">save_vtk</a></li>
<li><a class="reference internal" href="#save-vtk-streamlines">save_vtk_streamlines</a></li>
<li><a class="reference internal" href="#nifti1image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nifti1Image</span></code></a></li>
<li><a class="reference internal" href="#create-nifti-header">create_nifti_header</a></li>
<li><a class="reference internal" href="#id28">create_tractogram_header</a></li>
<li><a class="reference internal" href="#decfa">decfa</a></li>
<li><a class="reference internal" href="#decfa-to-float">decfa_to_float</a></li>
<li><a class="reference internal" href="#id29">detect_format</a></li>
<li><a class="reference internal" href="#id30">get_reference_info</a></li>
<li><a class="reference internal" href="#id31">is_header_compatible</a></li>
<li><a class="reference internal" href="#make5d">make5d</a></li>
<li><a class="reference internal" href="#nifti1-symmat">nifti1_symmat</a></li>
<li><a class="reference internal" href="#load-polydata">load_polydata</a></li>
<li><a class="reference internal" href="#id32">load_vtk_streamlines</a></li>
<li><a class="reference internal" href="#optional-package">optional_package</a></li>
<li><a class="reference internal" href="#save-polydata">save_polydata</a></li>
<li><a class="reference internal" href="#id33">save_vtk_streamlines</a></li>
<li><a class="reference internal" href="#setup-module">setup_module</a></li>
<li><a class="reference internal" href="#transform-streamlines">transform_streamlines</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dipy.direction.html"
                        title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">direction</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dipy.reconst.html"
                        title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">reconst</span></code></a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/dipy.io.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-dipy.io">
<span id="io"></span><h1><a class="reference external" href="https://docs.python.org/3/library/io.html#module-io" title="(in Python v3.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">io</span></code></a><a class="headerlink" href="#module-dipy.io" title="Permalink to this headline">¶</a></h1>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.Dpy" title="dipy.io.Dpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dpy</span></code></a>(fname[, mode, compression])</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.load_pickle" title="dipy.io.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pickle</span></code></a>(fname)</p></td>
<td><p>Load object from pickle file <cite>fname</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.orientation_from_string" title="dipy.io.orientation_from_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orientation_from_string</span></code></a>(string_ornt)</p></td>
<td><p>Returns an array representation of an ornt string</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.orientation_to_string" title="dipy.io.orientation_to_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orientation_to_string</span></code></a>(ornt)</p></td>
<td><p>Returns a string representation of a 3d ornt</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.ornt_mapping" title="dipy.io.ornt_mapping"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ornt_mapping</span></code></a>(ornt1, ornt2)</p></td>
<td><p>Calculates the mapping needing to get from orn1 to orn2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.read_bvals_bvecs" title="dipy.io.read_bvals_bvecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_bvals_bvecs</span></code></a>(fbvals, fbvecs)</p></td>
<td><p>Read b-values and b-vectors from disk</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.read_bvec_file" title="dipy.io.read_bvec_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_bvec_file</span></code></a>(filename[, atol])</p></td>
<td><p>Read gradient table information from a pair of files with extentions .bvec and .bval.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.reorient_on_axis" title="dipy.io.reorient_on_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorient_on_axis</span></code></a>(input, current_ornt, new_ornt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.reorient_vectors" title="dipy.io.reorient_vectors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorient_vectors</span></code></a>(input, current_ornt, new_ornt)</p></td>
<td><p>Changes the orientation of a gradients or other vectors</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.save_pickle" title="dipy.io.save_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_pickle</span></code></a>(fname, dix)</p></td>
<td><p>Save <cite>dix</cite> to <cite>fname</cite> as pickle.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="module-dipy.io.bvectxt">
<span id="module-io-bvectxt"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.bvectxt</span></code><a class="headerlink" href="#module-dipy.io.bvectxt" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.bvectxt.orientation_from_string" title="dipy.io.bvectxt.orientation_from_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orientation_from_string</span></code></a>(string_ornt)</p></td>
<td><p>Returns an array representation of an ornt string</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.bvectxt.orientation_to_string" title="dipy.io.bvectxt.orientation_to_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orientation_to_string</span></code></a>(ornt)</p></td>
<td><p>Returns a string representation of a 3d ornt</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.bvectxt.ornt_mapping" title="dipy.io.bvectxt.ornt_mapping"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ornt_mapping</span></code></a>(ornt1, ornt2)</p></td>
<td><p>Calculates the mapping needing to get from orn1 to orn2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.bvectxt.read_bvec_file" title="dipy.io.bvectxt.read_bvec_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_bvec_file</span></code></a>(filename[, atol])</p></td>
<td><p>Read gradient table information from a pair of files with extentions .bvec and .bval.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.bvectxt.reorient_on_axis" title="dipy.io.bvectxt.reorient_on_axis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorient_on_axis</span></code></a>(input, current_ornt, new_ornt)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.bvectxt.reorient_vectors" title="dipy.io.bvectxt.reorient_vectors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reorient_vectors</span></code></a>(input, current_ornt, new_ornt)</p></td>
<td><p>Changes the orientation of a gradients or other vectors</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.bvectxt.splitext" title="dipy.io.bvectxt.splitext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">splitext</span></code></a>(p)</p></td>
<td><p>Split the extension from a pathname.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.dpy">
<span id="module-io-dpy"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.dpy</span></code><a class="headerlink" href="#module-dipy.io.dpy" title="Permalink to this headline">¶</a></h2>
<p>A class for handling large tractography datasets.</p>
<p>It is built using the h5py which in turn implement
key features of the HDF5 (hierachical data format) API <a class="reference internal" href="#r223c5a1ac171-1" id="id1"><span>[R223c5a1ac171-1]</span></a>.</p>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<dl class="citation">
<dt class="label" id="r223c5a1ac171-1"><span class="brackets"><a class="fn-backref" href="#id1">R223c5a1ac171-1</a></span></dt>
<dd><p><a class="reference external" href="http://www.hdfgroup.org/HDF5/doc/H5.intro.html">http://www.hdfgroup.org/HDF5/doc/H5.intro.html</a></p>
</dd>
</dl>
</div>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy" title="dipy.io.dpy.Dpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dpy</span></code></a>(fname[, mode, compression])</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.dpy.Streamlines" title="dipy.io.dpy.Streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Streamlines</span></code></a></p></td>
<td><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.array_sequence.ArraySequence</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.gradients">
<span id="module-io-gradients"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.gradients</span></code><a class="headerlink" href="#module-dipy.io.gradients" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.gradients.InTemporaryDirectory" title="dipy.io.gradients.InTemporaryDirectory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InTemporaryDirectory</span></code></a>([suffix, prefix, dir])</p></td>
<td><p>Create, return, and change directory to a temporary directory</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.gradients.read_bvals_bvecs" title="dipy.io.gradients.read_bvals_bvecs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_bvals_bvecs</span></code></a>(fbvals, fbvecs)</p></td>
<td><p>Read b-values and b-vectors from disk</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.gradients.splitext" title="dipy.io.gradients.splitext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">splitext</span></code></a>(p)</p></td>
<td><p>Split the extension from a pathname.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.image">
<span id="module-io-image"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.image</span></code><a class="headerlink" href="#module-dipy.io.image" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.image.load_nifti" title="dipy.io.image.load_nifti"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_nifti</span></code></a>(fname[, return_img, …])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.image.save_nifti" title="dipy.io.image.save_nifti"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_nifti</span></code></a>(fname, data, affine[, hdr])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.image.save_qa_metric" title="dipy.io.image.save_qa_metric"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_qa_metric</span></code></a>(fname, xopt, fopt)</p></td>
<td><p>Save Quality Assurance metrics.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.peaks">
<span id="module-io-peaks"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.peaks</span></code><a class="headerlink" href="#module-dipy.io.peaks" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.peaks.PeaksAndMetrics" title="dipy.io.peaks.PeaksAndMetrics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PeaksAndMetrics</span></code></a></p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.peaks.Sphere" title="dipy.io.peaks.Sphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Sphere</span></code></a>([x, y, z, theta, phi, xyz, faces, edges])</p></td>
<td><p>Points on the unit sphere.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.peaks.load_peaks" title="dipy.io.peaks.load_peaks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_peaks</span></code></a>(fname[, verbose])</p></td>
<td><p>Load a PeaksAndMetrics HDF5 file (PAM5)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.peaks.peaks_to_niftis" title="dipy.io.peaks.peaks_to_niftis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">peaks_to_niftis</span></code></a>(pam, fname_shm, fname_dirs, …)</p></td>
<td><p>Save SH, directions, indices and values of peaks to Nifti.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.peaks.reshape_peaks_for_visualization" title="dipy.io.peaks.reshape_peaks_for_visualization"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reshape_peaks_for_visualization</span></code></a>(peaks)</p></td>
<td><p>Reshape peaks for visualization.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.peaks.save_nifti" title="dipy.io.peaks.save_nifti"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_nifti</span></code></a>(fname, data, affine[, hdr])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.peaks.save_peaks" title="dipy.io.peaks.save_peaks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_peaks</span></code></a>(fname, pam[, affine, verbose])</p></td>
<td><p>Save all important attributes of object PeaksAndMetrics in a PAM5 file (HDF5).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.pickles">
<span id="module-io-pickles"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.pickles</span></code><a class="headerlink" href="#module-dipy.io.pickles" title="Permalink to this headline">¶</a></h2>
<p>Load and save pickles</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.pickles.load_pickle" title="dipy.io.pickles.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pickle</span></code></a>(fname)</p></td>
<td><p>Load object from pickle file <cite>fname</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.pickles.save_pickle" title="dipy.io.pickles.save_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_pickle</span></code></a>(fname, dix)</p></td>
<td><p>Save <cite>dix</cite> to <cite>fname</cite> as pickle.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.stateful_tractogram">
<span id="module-io-stateful-tractogram"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.stateful_tractogram</span></code><a class="headerlink" href="#module-dipy.io.stateful_tractogram" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a>([n_rows])</p></td>
<td><p>Dictionary for which key access can do slicing on the values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArraySequenceDict" title="dipy.io.stateful_tractogram.PerArraySequenceDict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PerArraySequenceDict</span></code></a>([n_rows])</p></td>
<td><p>Dictionary for which key access can do slicing on the values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Space" title="dipy.io.stateful_tractogram.Space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Space</span></code></a></p></td>
<td><p>Enum to simplify future change to convention</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram" title="dipy.io.stateful_tractogram.StatefulTractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a>(streamlines, reference, space)</p></td>
<td><p>Class for stateful representation of collections of streamlines Object designed to be identical no matter the file format (trk, tck, vtk, fib, dpy).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Streamlines" title="dipy.io.stateful_tractogram.Streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Streamlines</span></code></a></p></td>
<td><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.array_sequence.ArraySequence</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tractogram</span></code></a>([streamlines, …])</p></td>
<td><p>Container for streamlines and their data information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.itemgetter" title="dipy.io.stateful_tractogram.itemgetter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">itemgetter</span></code></a></p></td>
<td><p>itemgetter(item, …) –&gt; itemgetter object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.product" title="dipy.io.stateful_tractogram.product"><code class="xref py py-obj docutils literal notranslate"><span class="pre">product</span></code></a></p></td>
<td><p>product(<a href="#id2"><span class="problematic" id="id3">*</span></a>iterables, repeat=1) –&gt; product object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.apply_affine" title="dipy.io.stateful_tractogram.apply_affine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_affine</span></code></a>(aff, pts)</p></td>
<td><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.bisect" title="dipy.io.stateful_tractogram.bisect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bisect</span></code></a></p></td>
<td><p>Alias for bisect_right().</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.deepcopy" title="dipy.io.stateful_tractogram.deepcopy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deepcopy</span></code></a>(x[, memo, _nil])</p></td>
<td><p>Deep copy operation on arbitrary Python objects.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.get_reference_info" title="dipy.io.stateful_tractogram.get_reference_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_reference_info</span></code></a>(reference)</p></td>
<td><p>Will compare the spatial attribute of 2 references</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.streamline">
<span id="module-io-streamline"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.streamline</span></code><a class="headerlink" href="#module-dipy.io.streamline" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy" title="dipy.io.streamline.Dpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Dpy</span></code></a>(fname[, mode, compression])</p></td>
<td><p><p class="rubric">Methods</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Space" title="dipy.io.streamline.Space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Space</span></code></a></p></td>
<td><p>Enum to simplify future change to convention</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram" title="dipy.io.streamline.StatefulTractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a>(streamlines, reference, space)</p></td>
<td><p>Class for stateful representation of collections of streamlines Object designed to be identical no matter the file format (trk, tck, vtk, fib, dpy).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tractogram</span></code></a>([streamlines, …])</p></td>
<td><p>Container for streamlines and their data information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.create_tractogram_header" title="dipy.io.streamline.create_tractogram_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_tractogram_header</span></code></a>(tractogram_type, …)</p></td>
<td><p>Write a standard trk/tck header from spatial attribute</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.deepcopy" title="dipy.io.streamline.deepcopy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">deepcopy</span></code></a>(x[, memo, _nil])</p></td>
<td><p>Deep copy operation on arbitrary Python objects.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.detect_format" title="dipy.io.streamline.detect_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_format</span></code></a>(fileobj)</p></td>
<td><p>Returns the StreamlinesFile object guessed from the file-like object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.is_header_compatible" title="dipy.io.streamline.is_header_compatible"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_header_compatible</span></code></a>(reference_1, reference_2)</p></td>
<td><p>Will compare the spatial attribute of 2 references</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.load_dpy" title="dipy.io.streamline.load_dpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_dpy</span></code></a>(filename, reference[, to_space, …])</p></td>
<td><p>Load the stateful tractogram of the dpy format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.load_fib" title="dipy.io.streamline.load_fib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_fib</span></code></a>(filename, reference[, to_space, …])</p></td>
<td><p>Load the stateful tractogram of the fib format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.load_tck" title="dipy.io.streamline.load_tck"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_tck</span></code></a>(filename, reference[, to_space, …])</p></td>
<td><p>Load the stateful tractogram of the tck format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.load_tractogram" title="dipy.io.streamline.load_tractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_tractogram</span></code></a>(filename, reference[, …])</p></td>
<td><p>Load the stateful tractogram from any format (trk, tck, fib, dpy)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.load_trk" title="dipy.io.streamline.load_trk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_trk</span></code></a>(filename, reference[, to_space, …])</p></td>
<td><p>Load the stateful tractogram of the trk format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.load_vtk" title="dipy.io.streamline.load_vtk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_vtk</span></code></a>(filename, reference[, to_space, …])</p></td>
<td><p>Load the stateful tractogram of the vtk format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.load_vtk_streamlines" title="dipy.io.streamline.load_vtk_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_vtk_streamlines</span></code></a>(filename[, to_lps])</p></td>
<td><p>Load streamlines from vtk polydata.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.save_dpy" title="dipy.io.streamline.save_dpy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_dpy</span></code></a>(sft, filename[, bbox_valid_check])</p></td>
<td><p>Save the stateful tractogram in dpy format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.save_fib" title="dipy.io.streamline.save_fib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_fib</span></code></a>(sft, filename[, bbox_valid_check])</p></td>
<td><p>Save the stateful tractogram in fib format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.save_tck" title="dipy.io.streamline.save_tck"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_tck</span></code></a>(sft, filename[, bbox_valid_check])</p></td>
<td><p>Save the stateful tractogram in tck format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.save_tractogram" title="dipy.io.streamline.save_tractogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_tractogram</span></code></a>(sft, filename[, …])</p></td>
<td><p>Save the stateful tractogram in any format (trk, tck, vtk, fib, dpy)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.save_trk" title="dipy.io.streamline.save_trk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_trk</span></code></a>(sft, filename[, bbox_valid_check])</p></td>
<td><p>Save the stateful tractogram in trk format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.save_vtk" title="dipy.io.streamline.save_vtk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_vtk</span></code></a>(sft, filename[, bbox_valid_check])</p></td>
<td><p>Save the stateful tractogram in vtk format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.save_vtk_streamlines" title="dipy.io.streamline.save_vtk_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_vtk_streamlines</span></code></a>(streamlines, filename)</p></td>
<td><p>Save streamlines as vtk polydata to a supported format file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.utils">
<span id="module-io-utils"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.utils</span></code><a class="headerlink" href="#module-dipy.io.utils" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for file formats</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.utils.Nifti1Image" title="dipy.io.utils.Nifti1Image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Nifti1Image</span></code></a>(dataobj, affine[, header, …])</p></td>
<td><p>Class for single file NIfTI1 format image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.create_nifti_header" title="dipy.io.utils.create_nifti_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_nifti_header</span></code></a>(affine, dimensions, …)</p></td>
<td><p>Write a standard nifti header from spatial attribute</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.utils.create_tractogram_header" title="dipy.io.utils.create_tractogram_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_tractogram_header</span></code></a>(tractogram_type, …)</p></td>
<td><p>Write a standard trk/tck header from spatial attribute</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.decfa" title="dipy.io.utils.decfa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decfa</span></code></a>(img_orig[, scale])</p></td>
<td><p>Create a nifti-compliant directional-encoded color FA image.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.utils.decfa_to_float" title="dipy.io.utils.decfa_to_float"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decfa_to_float</span></code></a>(img_orig)</p></td>
<td><p>Convert a nifti-compliant directional-encoded color FA image into a nifti image with RGB encoded in floating point resolution.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.detect_format" title="dipy.io.utils.detect_format"><code class="xref py py-obj docutils literal notranslate"><span class="pre">detect_format</span></code></a>(fileobj)</p></td>
<td><p>Returns the StreamlinesFile object guessed from the file-like object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.utils.get_reference_info" title="dipy.io.utils.get_reference_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_reference_info</span></code></a>(reference)</p></td>
<td><p>Will compare the spatial attribute of 2 references</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.is_header_compatible" title="dipy.io.utils.is_header_compatible"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_header_compatible</span></code></a>(reference_1, reference_2)</p></td>
<td><p>Will compare the spatial attribute of 2 references</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.utils.make5d" title="dipy.io.utils.make5d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make5d</span></code></a>(input)</p></td>
<td><p>reshapes the input to have 5 dimensions, adds extra dimensions just before the last dimession</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.nifti1_symmat" title="dipy.io.utils.nifti1_symmat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nifti1_symmat</span></code></a>(image_data, *args, **kwargs)</p></td>
<td><p>Returns a Nifti1Image with a symmetric matrix intent</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-dipy.io.vtk">
<span id="module-io-vtk"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">io.vtk</span></code><a class="headerlink" href="#module-dipy.io.vtk" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.vtk.load_polydata" title="dipy.io.vtk.load_polydata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_polydata</span></code></a>(file_name)</p></td>
<td><p>Load a vtk polydata to a supported format file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.vtk.load_vtk_streamlines" title="dipy.io.vtk.load_vtk_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_vtk_streamlines</span></code></a>(filename[, to_lps])</p></td>
<td><p>Load streamlines from vtk polydata.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.vtk.optional_package" title="dipy.io.vtk.optional_package"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optional_package</span></code></a>(name[, trip_msg])</p></td>
<td><p>Return package-like thing and module setup for package <cite>name</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.vtk.save_polydata" title="dipy.io.vtk.save_polydata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_polydata</span></code></a>(polydata, file_name[, binary, …])</p></td>
<td><p>Save a vtk polydata to a supported format file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.vtk.save_vtk_streamlines" title="dipy.io.vtk.save_vtk_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_vtk_streamlines</span></code></a>(streamlines, filename)</p></td>
<td><p>Save streamlines as vtk polydata to a supported format file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.vtk.setup_module" title="dipy.io.vtk.setup_module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">setup_module</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.vtk.transform_streamlines" title="dipy.io.vtk.transform_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform_streamlines</span></code></a>(streamlines, mat[, …])</p></td>
<td><p>Apply affine transformation to streamlines</p></td>
</tr>
</tbody>
</table>
<div class="section" id="dpy">
<h3><a class="reference internal" href="#dipy.io.Dpy" title="dipy.io.Dpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a><a class="headerlink" href="#dpy" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.Dpy">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">Dpy</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.Dpy.read_track" title="dipy.io.Dpy.read_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_track</span></code></a>()</p></td>
<td><p>read one track each time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.Dpy.read_tracks" title="dipy.io.Dpy.read_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracks</span></code></a>()</p></td>
<td><p>read the entire tractography</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.Dpy.read_tracksi" title="dipy.io.Dpy.read_tracksi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracksi</span></code></a>(indices)</p></td>
<td><p>read tracks with specific indices</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.Dpy.write_track" title="dipy.io.Dpy.write_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_track</span></code></a>(track)</p></td>
<td><p>write on track each time</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.Dpy.write_tracks" title="dipy.io.Dpy.write_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_tracks</span></code></a>(tracks)</p></td>
<td><p>write many tracks together</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>close</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>version</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.Dpy.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced storage system for tractography based on HDF5</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str, full filename</span></dt><dd></dd>
<dt><strong>mode</strong><span class="classifier">‘r’ read</span></dt><dd><p>‘w’ write
‘r+’ read and write only if file already exists</p>
</dd>
<dt><strong>compression</strong><span class="classifier">0 no compression to 9 maximum compression</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="k">import</span> <span class="n">mkstemp</span> <span class="c1">#temp file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.io.dpy</span> <span class="k">import</span> <span class="n">Dpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">dpy_example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="p">,</span><span class="n">fname</span> <span class="o">=</span> <span class="n">mkstemp</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">fname</span> <span class="o">+=</span> <span class="s1">&#39;.dpy&#39;</span><span class="c1">#add correct extension</span>
<span class="gp">... </span>    <span class="n">dpw</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">B</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">C</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_tracksi</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="c1">#delete file from disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpy_example</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.read_track">
<code class="sig-name descname">read_track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.read_track" title="Permalink to this definition">¶</a></dt>
<dd><p>read one track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.read_tracks">
<code class="sig-name descname">read_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.read_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>read the entire tractography</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.read_tracksi">
<code class="sig-name descname">read_tracksi</code><span class="sig-paren">(</span><em class="sig-param">indices</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.read_tracksi" title="Permalink to this definition">¶</a></dt>
<dd><p>read tracks with specific indices</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.write_track">
<code class="sig-name descname">write_track</code><span class="sig-paren">(</span><em class="sig-param">track</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.write_track" title="Permalink to this definition">¶</a></dt>
<dd><p>write on track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.Dpy.write_tracks">
<code class="sig-name descname">write_tracks</code><span class="sig-paren">(</span><em class="sig-param">tracks</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.Dpy.write_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>write many tracks together</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="load-pickle">
<h3>load_pickle<a class="headerlink" href="#load-pickle" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.load_pickle">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">load_pickle</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.load_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Load object from pickle file <cite>fname</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str</span></dt><dd><p>filename to load dict or other python object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dix</strong><span class="classifier">object</span></dt><dd><p>dictionary or other object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>dipy.io.pickles.save_pickle</p>
</dd></dl>

</div>
<div class="section" id="orientation-from-string">
<h3>orientation_from_string<a class="headerlink" href="#orientation-from-string" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.orientation_from_string">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">orientation_from_string</code><span class="sig-paren">(</span><em class="sig-param">string_ornt</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.orientation_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array representation of an ornt string</p>
</dd></dl>

</div>
<div class="section" id="orientation-to-string">
<h3>orientation_to_string<a class="headerlink" href="#orientation-to-string" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.orientation_to_string">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">orientation_to_string</code><span class="sig-paren">(</span><em class="sig-param">ornt</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.orientation_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string representation of a 3d ornt</p>
</dd></dl>

</div>
<div class="section" id="ornt-mapping">
<h3>ornt_mapping<a class="headerlink" href="#ornt-mapping" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.ornt_mapping">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">ornt_mapping</code><span class="sig-paren">(</span><em class="sig-param">ornt1</em>, <em class="sig-param">ornt2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.ornt_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mapping needing to get from orn1 to orn2</p>
</dd></dl>

</div>
<div class="section" id="read-bvals-bvecs">
<h3>read_bvals_bvecs<a class="headerlink" href="#read-bvals-bvecs" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.read_bvals_bvecs">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">read_bvals_bvecs</code><span class="sig-paren">(</span><em class="sig-param">fbvals</em>, <em class="sig-param">fbvecs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.read_bvals_bvecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read b-values and b-vectors from disk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fbvals</strong><span class="classifier">str</span></dt><dd><p>Full path to file with b-values. None to not read bvals.</p>
</dd>
<dt><strong>fbvecs</strong><span class="classifier">str</span></dt><dd><p>Full path of file with b-vectors. None to not read bvecs.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>bvals</strong><span class="classifier">array, (N,) or None</span></dt><dd></dd>
<dt><strong>bvecs</strong><span class="classifier">array, (N, 3) or None</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Files can be either ‘.bvals’/’.bvecs’ or ‘.txt’ or ‘.npy’ (containing
arrays stored with the appropriate values).</p>
</dd></dl>

</div>
<div class="section" id="read-bvec-file">
<h3>read_bvec_file<a class="headerlink" href="#read-bvec-file" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.read_bvec_file">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">read_bvec_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">atol=0.001</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.read_bvec_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read gradient table information from a pair of files with extentions
.bvec and .bval. The bval file should have one row of values
representing the bvalues of each volume in the dwi data set. The bvec
file should have three rows, where the rows are the x, y, and z
components of the normalized gradient direction for each of the
volumes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename :</strong></dt><dd><p>The path to the either the bvec or bval file</p>
</dd>
<dt><strong>atol</strong><span class="classifier">float, optional</span></dt><dd><p>The tolorance used to check all the gradient directions are
normalized. Defult is .001</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="reorient-on-axis">
<h3>reorient_on_axis<a class="headerlink" href="#reorient-on-axis" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.reorient_on_axis">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">reorient_on_axis</code><span class="sig-paren">(</span><em class="sig-param">input</em>, <em class="sig-param">current_ornt</em>, <em class="sig-param">new_ornt</em>, <em class="sig-param">axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.reorient_on_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="reorient-vectors">
<h3>reorient_vectors<a class="headerlink" href="#reorient-vectors" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.reorient_vectors">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">reorient_vectors</code><span class="sig-paren">(</span><em class="sig-param">input</em>, <em class="sig-param">current_ornt</em>, <em class="sig-param">new_ornt</em>, <em class="sig-param">axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.reorient_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the orientation of a gradients or other vectors</p>
<p>Moves vectors, storted along axis, from current_ornt to new_ornt. For
example the vector [x, y, z] in “RAS” will be [-x, -y, z] in “LPS”.</p>
<p>R: Right
A: Anterior
S: Superior
L: Left
P: Posterior
I: Inferior</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;asr&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[1, 1, 1],</span>
<span class="go">       [2, 3, 1]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lps&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[-1, -1,  1],</span>
<span class="go">       [-1, -2,  3]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bvec</span> <span class="o">=</span> <span class="n">gtab</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">bvec</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lps&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([[-1, -1],</span>
<span class="go">       [-1, -2],</span>
<span class="go">       [ 1,  3]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">bvec</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lsp&#39;</span><span class="p">)</span>
<span class="go">array([[-1, -1],</span>
<span class="go">       [ 1,  3],</span>
<span class="go">       [-1, -2]])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="save-pickle">
<h3>save_pickle<a class="headerlink" href="#save-pickle" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.save_pickle">
<code class="sig-prename descclassname">dipy.io.</code><code class="sig-name descname">save_pickle</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">dix</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.save_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <cite>dix</cite> to <cite>fname</cite> as pickle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str</span></dt><dd><p>filename to save object e.g. a dictionary</p>
</dd>
<dt><strong>dix</strong><span class="classifier">str</span></dt><dd><p>dictionary or other object</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#dipy.io.pickles.load_pickle" title="dipy.io.pickles.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dipy.io.pickles.load_pickle</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="k">import</span> <span class="n">mkstemp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">mkstemp</span><span class="p">()</span> <span class="c1"># make temporary file (opened, attached to fh)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:{</span><span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_pickle</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d2</span><span class="o">=</span><span class="n">load_pickle</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
<p>We remove the temporary file we created for neatness</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span> <span class="c1"># the file is still open, we need to close the fh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="id4">
<h3>orientation_from_string<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.orientation_from_string">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">orientation_from_string</code><span class="sig-paren">(</span><em class="sig-param">string_ornt</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.orientation_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array representation of an ornt string</p>
</dd></dl>

</div>
<div class="section" id="id5">
<h3>orientation_to_string<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.orientation_to_string">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">orientation_to_string</code><span class="sig-paren">(</span><em class="sig-param">ornt</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.orientation_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string representation of a 3d ornt</p>
</dd></dl>

</div>
<div class="section" id="id6">
<h3>ornt_mapping<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.ornt_mapping">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">ornt_mapping</code><span class="sig-paren">(</span><em class="sig-param">ornt1</em>, <em class="sig-param">ornt2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.ornt_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mapping needing to get from orn1 to orn2</p>
</dd></dl>

</div>
<div class="section" id="id7">
<h3>read_bvec_file<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.read_bvec_file">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">read_bvec_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">atol=0.001</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.read_bvec_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read gradient table information from a pair of files with extentions
.bvec and .bval. The bval file should have one row of values
representing the bvalues of each volume in the dwi data set. The bvec
file should have three rows, where the rows are the x, y, and z
components of the normalized gradient direction for each of the
volumes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename :</strong></dt><dd><p>The path to the either the bvec or bval file</p>
</dd>
<dt><strong>atol</strong><span class="classifier">float, optional</span></dt><dd><p>The tolorance used to check all the gradient directions are
normalized. Defult is .001</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id8">
<h3>reorient_on_axis<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.reorient_on_axis">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">reorient_on_axis</code><span class="sig-paren">(</span><em class="sig-param">input</em>, <em class="sig-param">current_ornt</em>, <em class="sig-param">new_ornt</em>, <em class="sig-param">axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.reorient_on_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id9">
<h3>reorient_vectors<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.reorient_vectors">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">reorient_vectors</code><span class="sig-paren">(</span><em class="sig-param">input</em>, <em class="sig-param">current_ornt</em>, <em class="sig-param">new_ornt</em>, <em class="sig-param">axis=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.reorient_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the orientation of a gradients or other vectors</p>
<p>Moves vectors, storted along axis, from current_ornt to new_ornt. For
example the vector [x, y, z] in “RAS” will be [-x, -y, z] in “LPS”.</p>
<p>R: Right
A: Anterior
S: Superior
L: Left
P: Posterior
I: Inferior</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gtab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;asr&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[1, 1, 1],</span>
<span class="go">       [2, 3, 1]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">gtab</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lps&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[-1, -1,  1],</span>
<span class="go">       [-1, -2,  3]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bvec</span> <span class="o">=</span> <span class="n">gtab</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">bvec</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lps&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([[-1, -1],</span>
<span class="go">       [-1, -2],</span>
<span class="go">       [ 1,  3]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reorient_vectors</span><span class="p">(</span><span class="n">bvec</span><span class="p">,</span> <span class="s1">&#39;ras&#39;</span><span class="p">,</span> <span class="s1">&#39;lsp&#39;</span><span class="p">)</span>
<span class="go">array([[-1, -1],</span>
<span class="go">       [ 1,  3],</span>
<span class="go">       [-1, -2]])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="splitext">
<h3>splitext<a class="headerlink" href="#splitext" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.bvectxt.splitext">
<code class="sig-prename descclassname">dipy.io.bvectxt.</code><code class="sig-name descname">splitext</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.bvectxt.splitext" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the extension from a pathname.</p>
<p>Extension is everything from the last dot to the end, ignoring
leading dots.  Returns “(root, ext)”; ext may be empty.</p>
</dd></dl>

</div>
<div class="section" id="id10">
<h3><a class="reference internal" href="#dipy.io.dpy.Dpy" title="dipy.io.dpy.Dpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.dpy.Dpy">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.dpy.</code><code class="sig-name descname">Dpy</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy.read_track" title="dipy.io.dpy.Dpy.read_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_track</span></code></a>()</p></td>
<td><p>read one track each time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy.read_tracks" title="dipy.io.dpy.Dpy.read_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracks</span></code></a>()</p></td>
<td><p>read the entire tractography</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy.read_tracksi" title="dipy.io.dpy.Dpy.read_tracksi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracksi</span></code></a>(indices)</p></td>
<td><p>read tracks with specific indices</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy.write_track" title="dipy.io.dpy.Dpy.write_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_track</span></code></a>(track)</p></td>
<td><p>write on track each time</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.dpy.Dpy.write_tracks" title="dipy.io.dpy.Dpy.write_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_tracks</span></code></a>(tracks)</p></td>
<td><p>write many tracks together</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>close</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>version</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.dpy.Dpy.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced storage system for tractography based on HDF5</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str, full filename</span></dt><dd></dd>
<dt><strong>mode</strong><span class="classifier">‘r’ read</span></dt><dd><p>‘w’ write
‘r+’ read and write only if file already exists</p>
</dd>
<dt><strong>compression</strong><span class="classifier">0 no compression to 9 maximum compression</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="k">import</span> <span class="n">mkstemp</span> <span class="c1">#temp file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.io.dpy</span> <span class="k">import</span> <span class="n">Dpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">dpy_example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="p">,</span><span class="n">fname</span> <span class="o">=</span> <span class="n">mkstemp</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">fname</span> <span class="o">+=</span> <span class="s1">&#39;.dpy&#39;</span><span class="c1">#add correct extension</span>
<span class="gp">... </span>    <span class="n">dpw</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">B</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">C</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_tracksi</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="c1">#delete file from disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpy_example</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.read_track">
<code class="sig-name descname">read_track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.read_track" title="Permalink to this definition">¶</a></dt>
<dd><p>read one track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.read_tracks">
<code class="sig-name descname">read_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.read_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>read the entire tractography</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.read_tracksi">
<code class="sig-name descname">read_tracksi</code><span class="sig-paren">(</span><em class="sig-param">indices</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.read_tracksi" title="Permalink to this definition">¶</a></dt>
<dd><p>read tracks with specific indices</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.write_track">
<code class="sig-name descname">write_track</code><span class="sig-paren">(</span><em class="sig-param">track</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.write_track" title="Permalink to this definition">¶</a></dt>
<dd><p>write on track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.dpy.Dpy.write_tracks">
<code class="sig-name descname">write_tracks</code><span class="sig-paren">(</span><em class="sig-param">tracks</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.dpy.Dpy.write_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>write many tracks together</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="streamlines">
<h3><a class="reference internal" href="#dipy.io.dpy.Streamlines" title="dipy.io.dpy.Streamlines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Streamlines</span></code></a><a class="headerlink" href="#streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="dipy.io.dpy.Streamlines">
<code class="sig-prename descclassname">dipy.io.dpy.</code><code class="sig-name descname">Streamlines</code><a class="headerlink" href="#dipy.io.dpy.Streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>
</dd></dl>

</div>
<div class="section" id="intemporarydirectory">
<h3><a class="reference internal" href="#dipy.io.gradients.InTemporaryDirectory" title="dipy.io.gradients.InTemporaryDirectory"><code class="xref py py-class docutils literal notranslate"><span class="pre">InTemporaryDirectory</span></code></a><a class="headerlink" href="#intemporarydirectory" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.gradients.InTemporaryDirectory">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.gradients.</code><code class="sig-name descname">InTemporaryDirectory</code><span class="sig-paren">(</span><em class="sig-param">suffix=''</em>, <em class="sig-param">prefix='tmp'</em>, <em class="sig-param">dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.gradients.InTemporaryDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.tmpdirs.TemporaryDirectory</span></code></p>
<p>Create, return, and change directory to a temporary directory</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_cwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">InTemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;wt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;some text&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">,</span> <span class="s1">&#39;test.txt&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">==</span> <span class="n">my_cwd</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>cleanup</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.gradients.InTemporaryDirectory.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">suffix=''</em>, <em class="sig-param">prefix='tmp'</em>, <em class="sig-param">dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.gradients.InTemporaryDirectory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id11">
<h3>read_bvals_bvecs<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.gradients.read_bvals_bvecs">
<code class="sig-prename descclassname">dipy.io.gradients.</code><code class="sig-name descname">read_bvals_bvecs</code><span class="sig-paren">(</span><em class="sig-param">fbvals</em>, <em class="sig-param">fbvecs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.gradients.read_bvals_bvecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read b-values and b-vectors from disk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fbvals</strong><span class="classifier">str</span></dt><dd><p>Full path to file with b-values. None to not read bvals.</p>
</dd>
<dt><strong>fbvecs</strong><span class="classifier">str</span></dt><dd><p>Full path of file with b-vectors. None to not read bvecs.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>bvals</strong><span class="classifier">array, (N,) or None</span></dt><dd></dd>
<dt><strong>bvecs</strong><span class="classifier">array, (N, 3) or None</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Files can be either ‘.bvals’/’.bvecs’ or ‘.txt’ or ‘.npy’ (containing
arrays stored with the appropriate values).</p>
</dd></dl>

</div>
<div class="section" id="id12">
<h3>splitext<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.gradients.splitext">
<code class="sig-prename descclassname">dipy.io.gradients.</code><code class="sig-name descname">splitext</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.gradients.splitext" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the extension from a pathname.</p>
<p>Extension is everything from the last dot to the end, ignoring
leading dots.  Returns “(root, ext)”; ext may be empty.</p>
</dd></dl>

</div>
<div class="section" id="load-nifti">
<h3>load_nifti<a class="headerlink" href="#load-nifti" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.image.load_nifti">
<code class="sig-prename descclassname">dipy.io.image.</code><code class="sig-name descname">load_nifti</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">return_img=False</em>, <em class="sig-param">return_voxsize=False</em>, <em class="sig-param">return_coords=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.image.load_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="save-nifti">
<h3>save_nifti<a class="headerlink" href="#save-nifti" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.image.save_nifti">
<code class="sig-prename descclassname">dipy.io.image.</code><code class="sig-name descname">save_nifti</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">data</em>, <em class="sig-param">affine</em>, <em class="sig-param">hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.image.save_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="save-qa-metric">
<h3>save_qa_metric<a class="headerlink" href="#save-qa-metric" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.image.save_qa_metric">
<code class="sig-prename descclassname">dipy.io.image.</code><code class="sig-name descname">save_qa_metric</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">xopt</em>, <em class="sig-param">fopt</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.image.save_qa_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Save Quality Assurance metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname: string</strong></dt><dd><p>File name to save the metric values.</p>
</dd>
<dt><strong>xopt: numpy array</strong></dt><dd><p>The metric containing the
optimal parameters for
image registration.</p>
</dd>
<dt><strong>fopt: int</strong></dt><dd><p>The distance between the registered images.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="peaksandmetrics">
<h3><a class="reference internal" href="#dipy.io.peaks.PeaksAndMetrics" title="dipy.io.peaks.PeaksAndMetrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeaksAndMetrics</span></code></a><a class="headerlink" href="#peaksandmetrics" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.peaks.PeaksAndMetrics">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">PeaksAndMetrics</code><a class="headerlink" href="#dipy.io.peaks.PeaksAndMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dipy.reconst.peak_direction_getter.EuDXDirectionGetter</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ang_thr</strong></dt><dd></dd>
<dt><strong>qa_thr</strong></dt><dd></dd>
<dt><strong>total_weight</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">initial_direction</span></code></p></td>
<td><p>The best starting directions for fiber tracking from point</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 37%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>get_direction</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.peaks.PeaksAndMetrics.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">$self</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.PeaksAndMetrics.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sphere">
<h3><a class="reference internal" href="#dipy.io.peaks.Sphere" title="dipy.io.peaks.Sphere"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sphere</span></code></a><a class="headerlink" href="#sphere" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.peaks.Sphere">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">Sphere</code><span class="sig-paren">(</span><em class="sig-param">x=None</em>, <em class="sig-param">y=None</em>, <em class="sig-param">z=None</em>, <em class="sig-param">theta=None</em>, <em class="sig-param">phi=None</em>, <em class="sig-param">xyz=None</em>, <em class="sig-param">faces=None</em>, <em class="sig-param">edges=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Points on the unit sphere.</p>
<p>The sphere can be constructed using one of three conventions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sphere</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">Sphere</span><span class="p">(</span><span class="n">xyz</span><span class="o">=</span><span class="n">xyz</span><span class="p">)</span>
<span class="n">Sphere</span><span class="p">(</span><span class="n">theta</span><span class="o">=</span><span class="n">theta</span><span class="p">,</span> <span class="n">phi</span><span class="o">=</span><span class="n">phi</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x, y, z</strong><span class="classifier">1-D array_like</span></dt><dd><p>Vertices as x-y-z coordinates.</p>
</dd>
<dt><strong>theta, phi</strong><span class="classifier">1-D array_like</span></dt><dd><p>Vertices as spherical coordinates.  Theta and phi are the inclination
and azimuth angles respectively.</p>
</dd>
<dt><strong>xyz</strong><span class="classifier">(N, 3) ndarray</span></dt><dd><p>Vertices as x-y-z coordinates.</p>
</dd>
<dt><strong>faces</strong><span class="classifier">(N, 3) ndarray</span></dt><dd><p>Indices into vertices that form triangular faces.  If unspecified,
the faces are computed using a Delaunay triangulation.</p>
</dd>
<dt><strong>edges</strong><span class="classifier">(N, 2) ndarray</span></dt><dd><p>Edges between vertices.  If unspecified, the edges are
derived from the faces.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>x</strong></dt><dd></dd>
<dt><strong>y</strong></dt><dd></dd>
<dt><strong>z</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.peaks.Sphere.find_closest" title="dipy.io.peaks.Sphere.find_closest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_closest</span></code></a>(xyz)</p></td>
<td><p>Find the index of the vertex in the Sphere closest to the input vector</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.peaks.Sphere.subdivide" title="dipy.io.peaks.Sphere.subdivide"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subdivide</span></code></a>([n])</p></td>
<td><p>Subdivides each face of the sphere into four new faces.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 55%" />
<col style="width: 45%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>edges</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>faces</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>vertices</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.peaks.Sphere.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">x=None</em>, <em class="sig-param">y=None</em>, <em class="sig-param">z=None</em>, <em class="sig-param">theta=None</em>, <em class="sig-param">phi=None</em>, <em class="sig-param">xyz=None</em>, <em class="sig-param">faces=None</em>, <em class="sig-param">edges=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.edges">
<code class="sig-name descname">edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.edges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.faces">
<code class="sig-name descname">faces</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.faces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.find_closest">
<code class="sig-name descname">find_closest</code><span class="sig-paren">(</span><em class="sig-param">xyz</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.find_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index of the vertex in the Sphere closest to the input vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>xyz</strong><span class="classifier">array-like, 3 elements</span></dt><dd><p>A unit vector</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">int</span></dt><dd><p>The index into the Sphere.vertices array that gives the closest
vertex (in angle).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.subdivide">
<code class="sig-name descname">subdivide</code><span class="sig-paren">(</span><em class="sig-param">n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.subdivide" title="Permalink to this definition">¶</a></dt>
<dd><p>Subdivides each face of the sphere into four new faces.</p>
<p>New vertices are created at a, b, and c. Then each face [x, y, z] is
divided into faces [x, a, c], [y, a, b], [z, b, c], and [a, b, c].</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   y
   /               /               a/____
/\    /            /  \  /             /____\/____          x      c     z
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n</strong><span class="classifier">int, optional</span></dt><dd><p>The number of subdivisions to preform.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_sphere</strong><span class="classifier">Sphere</span></dt><dd><p>The subdivided sphere.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.vertices">
<code class="sig-name descname">vertices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.Sphere.vertices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.x">
<em class="property">property </em><code class="sig-name descname">x</code><a class="headerlink" href="#dipy.io.peaks.Sphere.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.y">
<em class="property">property </em><code class="sig-name descname">y</code><a class="headerlink" href="#dipy.io.peaks.Sphere.y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.peaks.Sphere.z">
<em class="property">property </em><code class="sig-name descname">z</code><a class="headerlink" href="#dipy.io.peaks.Sphere.z" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="load-peaks">
<h3>load_peaks<a class="headerlink" href="#load-peaks" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.peaks.load_peaks">
<code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">load_peaks</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.load_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a PeaksAndMetrics HDF5 file (PAM5)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">string</span></dt><dd><p>Filename of PAM5 file.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool</span></dt><dd><p>Print summary information about the loaded file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pam</strong><span class="classifier">PeaksAndMetrics object</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="peaks-to-niftis">
<h3>peaks_to_niftis<a class="headerlink" href="#peaks-to-niftis" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.peaks.peaks_to_niftis">
<code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">peaks_to_niftis</code><span class="sig-paren">(</span><em class="sig-param">pam</em>, <em class="sig-param">fname_shm</em>, <em class="sig-param">fname_dirs</em>, <em class="sig-param">fname_values</em>, <em class="sig-param">fname_indices</em>, <em class="sig-param">fname_gfa</em>, <em class="sig-param">reshape_dirs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.peaks_to_niftis" title="Permalink to this definition">¶</a></dt>
<dd><p>Save SH, directions, indices and values of peaks to Nifti.</p>
</dd></dl>

</div>
<div class="section" id="reshape-peaks-for-visualization">
<h3>reshape_peaks_for_visualization<a class="headerlink" href="#reshape-peaks-for-visualization" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.peaks.reshape_peaks_for_visualization">
<code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">reshape_peaks_for_visualization</code><span class="sig-paren">(</span><em class="sig-param">peaks</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.reshape_peaks_for_visualization" title="Permalink to this definition">¶</a></dt>
<dd><p>Reshape peaks for visualization.</p>
<p>Reshape and convert to float32 a set of peaks for visualisation with mrtrix
or the fibernavigator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>peaks: nd array (…, N, 3) or PeaksAndMetrics object</strong></dt><dd><p>The peaks to be reshaped and converted to float32.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>peaks</strong><span class="classifier">nd array (…, 3*N)</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id13">
<h3>save_nifti<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.peaks.save_nifti">
<code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">save_nifti</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">data</em>, <em class="sig-param">affine</em>, <em class="sig-param">hdr=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.save_nifti" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="save-peaks">
<h3>save_peaks<a class="headerlink" href="#save-peaks" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.peaks.save_peaks">
<code class="sig-prename descclassname">dipy.io.peaks.</code><code class="sig-name descname">save_peaks</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">pam</em>, <em class="sig-param">affine=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.peaks.save_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all important attributes of object PeaksAndMetrics in a PAM5 file
(HDF5).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">string</span></dt><dd><p>Filename of PAM5 file</p>
</dd>
<dt><strong>pam</strong><span class="classifier">PeaksAndMetrics</span></dt><dd><p>Object holding peak_dirs, shm_coeffs and other attributes</p>
</dd>
<dt><strong>affine</strong><span class="classifier">array</span></dt><dd><p>The 4x4 matrix transforming the date from native to world coordinates.
PeaksAndMetrics should have that attribute but if not it can be
provided here. Default None.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool</span></dt><dd><p>Print summary information about the saved file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id14">
<h3>load_pickle<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.pickles.load_pickle">
<code class="sig-prename descclassname">dipy.io.pickles.</code><code class="sig-name descname">load_pickle</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.pickles.load_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Load object from pickle file <cite>fname</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str</span></dt><dd><p>filename to load dict or other python object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dix</strong><span class="classifier">object</span></dt><dd><p>dictionary or other object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>dipy.io.pickles.save_pickle</p>
</dd></dl>

</div>
<div class="section" id="id15">
<h3>save_pickle<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.pickles.save_pickle">
<code class="sig-prename descclassname">dipy.io.pickles.</code><code class="sig-name descname">save_pickle</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">dix</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.pickles.save_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <cite>dix</cite> to <cite>fname</cite> as pickle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str</span></dt><dd><p>filename to save object e.g. a dictionary</p>
</dd>
<dt><strong>dix</strong><span class="classifier">str</span></dt><dd><p>dictionary or other object</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#dipy.io.pickles.load_pickle" title="dipy.io.pickles.load_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dipy.io.pickles.load_pickle</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="k">import</span> <span class="n">mkstemp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="p">,</span> <span class="n">fname</span> <span class="o">=</span> <span class="n">mkstemp</span><span class="p">()</span> <span class="c1"># make temporary file (opened, attached to fh)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:{</span><span class="s1">&#39;d&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_pickle</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d2</span><span class="o">=</span><span class="n">load_pickle</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
<p>We remove the temporary file we created for neatness</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span> <span class="c1"># the file is still open, we need to close the fh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="perarraydict">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a><a class="headerlink" href="#perarraydict" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.PerArrayDict">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">PerArrayDict</code><span class="sig-paren">(</span><em class="sig-param">n_rows=0</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.PerArrayDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.tractogram.SliceableDataDict</span></code></p>
<p>Dictionary for which key access can do slicing on the values.</p>
<p>This container behaves like a standard dictionary but extends key access to
allow keys for key access to be indices slicing into the contained ndarray
values. The elements must also be ndarrays.</p>
<p>In addition, it makes sure the amount of data contained in those ndarrays
matches the number of streamlines given at the instantiation of this
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>n_rows</strong><span class="classifier">None or int, optional</span></dt><dd><p>Number of rows per value in each key, value pair or None for not
specified.</p>
</dd>
<dt><strong>*args :</strong></dt><dd></dd>
<dt><strong>**kwargs :</strong></dt><dd><p>Positional and keyword arguments, passed straight through the <code class="docutils literal notranslate"><span class="pre">dict</span></code>
constructor.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict.extend" title="dipy.io.stateful_tractogram.PerArrayDict.extend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extend</span></code></a>(other)</p></td>
<td><p>Appends the elements of another <a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(k[,d])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(k[,d])</p></td>
<td><p>If key is not found, d is returned if given, otherwise KeyError is raised.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>()</p></td>
<td><p>as a 2-tuple; but raise KeyError if D is empty.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(k[,d])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E present and has a .keys() method, does:     for k in E: D[k] = E[k] If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v In either case, this is followed by: for k, v in F.items(): D[k] = v</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.PerArrayDict.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">n_rows=0</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.PerArrayDict.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.PerArrayDict.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.PerArrayDict.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the elements of another <a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a>.</p>
<p>That is, for each entry in this dictionary, we append the elements
coming from the other dictionary at the corresponding entry.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a> object</span></dt><dd><p>Its data will be appended to the data of this dictionary.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The keys in both dictionaries must be the same.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="perarraysequencedict">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArraySequenceDict" title="dipy.io.stateful_tractogram.PerArraySequenceDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArraySequenceDict</span></code></a><a class="headerlink" href="#perarraysequencedict" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.PerArraySequenceDict">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">PerArraySequenceDict</code><span class="sig-paren">(</span><em class="sig-param">n_rows=0</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.PerArraySequenceDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.tractogram.PerArrayDict</span></code></p>
<p>Dictionary for which key access can do slicing on the values.</p>
<p>This container behaves like a standard dictionary but extends key access to
allow keys for key access to be indices slicing into the contained ndarray
values.  The elements must also be <code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code>.</p>
<p>In addition, it makes sure the amount of data contained in those array
sequences matches the number of elements given at the instantiation
of the instance.</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">extend</span></code>(other)</p></td>
<td><p>Appends the elements of another <a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(k[,d])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(k[,d])</p></td>
<td><p>If key is not found, d is returned if given, otherwise KeyError is raised.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>()</p></td>
<td><p>as a 2-tuple; but raise KeyError if D is empty.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(k[,d])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E present and has a .keys() method, does:     for k in E: D[k] = E[k] If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v In either case, this is followed by: for k, v in F.items(): D[k] = v</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.PerArraySequenceDict.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">n_rows=0</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.PerArraySequenceDict.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="space">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.Space" title="dipy.io.stateful_tractogram.Space"><code class="xref py py-class docutils literal notranslate"><span class="pre">Space</span></code></a><a class="headerlink" href="#space" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.Space">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">Space</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Space" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Enum to simplify future change to convention</p>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.Space.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">$self</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Space.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.io.stateful_tractogram.Space.RASMM">
<code class="sig-name descname">RASMM</code><em class="property"> = 'rasmm'</em><a class="headerlink" href="#dipy.io.stateful_tractogram.Space.RASMM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.io.stateful_tractogram.Space.VOX">
<code class="sig-name descname">VOX</code><em class="property"> = 'vox'</em><a class="headerlink" href="#dipy.io.stateful_tractogram.Space.VOX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.io.stateful_tractogram.Space.VOXMM">
<code class="sig-name descname">VOXMM</code><em class="property"> = 'voxmm'</em><a class="headerlink" href="#dipy.io.stateful_tractogram.Space.VOXMM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="statefultractogram">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram" title="dipy.io.stateful_tractogram.StatefulTractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a><a class="headerlink" href="#statefultractogram" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">StatefulTractogram</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">reference</em>, <em class="sig-param">space</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">data_per_streamline=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for stateful representation of collections of streamlines
Object designed to be identical no matter the file format
(trk, tck, vtk, fib, dpy). Facilitate transformation between space and
data manipulation for each streamline / point.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.data_per_point" title="dipy.io.stateful_tractogram.StatefulTractogram.data_per_point"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_per_point</span></code></a></dt><dd><p>Getter for data_per_point</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.data_per_streamline" title="dipy.io.stateful_tractogram.StatefulTractogram.data_per_streamline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_per_streamline</span></code></a></dt><dd><p>Getter for data_per_streamline</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.shifted_origin" title="dipy.io.stateful_tractogram.StatefulTractogram.shifted_origin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shifted_origin</span></code></a></dt><dd><p>Getter for shift</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.space" title="dipy.io.stateful_tractogram.StatefulTractogram.space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">space</span></code></a></dt><dd><p>Getter for the current space</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.space_attribute" title="dipy.io.stateful_tractogram.StatefulTractogram.space_attribute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">space_attribute</span></code></a></dt><dd><p>Getter for spatial attribute</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.streamlines" title="dipy.io.stateful_tractogram.StatefulTractogram.streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamlines</span></code></a></dt><dd><p>Partially safe getter for streamlines</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.compute_bounding_box" title="dipy.io.stateful_tractogram.StatefulTractogram.compute_bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_bounding_box</span></code></a>()</p></td>
<td><p>Compute the bounding box of the streamlines in their current state</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.get_streamlines_copy" title="dipy.io.stateful_tractogram.StatefulTractogram.get_streamlines_copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_streamlines_copy</span></code></a>()</p></td>
<td><p>Safe getter for streamlines (for slicing)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.is_bbox_in_vox_valid" title="dipy.io.stateful_tractogram.StatefulTractogram.is_bbox_in_vox_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_bbox_in_vox_valid</span></code></a>()</p></td>
<td><p>Verify that the bounding box is valid in voxel space Will transform the streamlines for OBB, slow for big tractogram</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.remove_invalid_streamlines" title="dipy.io.stateful_tractogram.StatefulTractogram.remove_invalid_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_invalid_streamlines</span></code></a>()</p></td>
<td><p>Remove streamlines with invalid coordinates from the object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_center" title="dipy.io.stateful_tractogram.StatefulTractogram.to_center"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_center</span></code></a>()</p></td>
<td><p>Safe function to shift streamlines so the center of voxel is the origin</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_corner" title="dipy.io.stateful_tractogram.StatefulTractogram.to_corner"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_corner</span></code></a>()</p></td>
<td><p>Safe function to shift streamlines so the corner of voxel is the origin</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_rasmm" title="dipy.io.stateful_tractogram.StatefulTractogram.to_rasmm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_rasmm</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_vox" title="dipy.io.stateful_tractogram.StatefulTractogram.to_vox"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_vox</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_voxmm" title="dipy.io.stateful_tractogram.StatefulTractogram.to_voxmm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_voxmm</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">reference</em>, <em class="sig-param">space</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">data_per_streamline=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a strict, state-aware, robust tractogram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list or ArraySequence</span></dt><dd><p>Streamlines of the tractogram</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header, trk.header (dict) or another Stateful Tractogram
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Current space in which the streamlines are (vox, voxmm or rasmm)
Typically after tracking the space is VOX, after nibabel loading
the space is RASMM</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (corner of the voxel)
True is NIFTI standard (center of the voxel)</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier">dict</span></dt><dd><p>Dictionary in which each key has X items, each items has Y_i items
X being the number of streamlines
Y_i being the number of points on streamlines #i</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier">dict</span></dt><dd><p>Dictionary in which each key has X items
X being the number of streamlines</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Very important to respect the convention, verify that streamlines
match the reference and are effectively in the right space.</p>
<p>Any change to the number of streamlines, data_per_point or
data_per_streamline requires particular verification.</p>
<p>In a case of manipulation not allowed by this object, use Nibabel
directly and be careful.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.compute_bounding_box">
<code class="sig-name descname">compute_bounding_box</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.compute_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the bounding box of the streamlines in their current state</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>output</strong><span class="classifier">ndarray</span></dt><dd><p>8 corners of the XYZ aligned box, all zeros if no streamlines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.data_per_point">
<em class="property">property </em><code class="sig-name descname">data_per_point</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.data_per_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for data_per_point</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.data_per_streamline">
<em class="property">property </em><code class="sig-name descname">data_per_streamline</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.data_per_streamline" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for data_per_streamline</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.get_streamlines_copy">
<code class="sig-name descname">get_streamlines_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.get_streamlines_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe getter for streamlines (for slicing)</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.is_bbox_in_vox_valid">
<code class="sig-name descname">is_bbox_in_vox_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.is_bbox_in_vox_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the bounding box is valid in voxel space
Will transform the streamlines for OBB, slow for big tractogram</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Are the streamlines within the volume of the associated reference</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.remove_invalid_streamlines">
<code class="sig-name descname">remove_invalid_streamlines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.remove_invalid_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove streamlines with invalid coordinates from the object.
Will also remove the data_per_point and data_per_streamline.
Invalid coordinates are any X,Y,Z values above the reference
dimensions or below zero
Returns
——-
output : tuple</p>
<blockquote>
<div><p>Tuple of two list, indices_to_remove, indices_to_keep</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.shifted_origin">
<em class="property">property </em><code class="sig-name descname">shifted_origin</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.shifted_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for shift</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.space">
<em class="property">property </em><code class="sig-name descname">space</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.space" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for the current space</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.space_attribute">
<em class="property">property </em><code class="sig-name descname">space_attribute</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.space_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for spatial attribute</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.streamlines">
<em class="property">property </em><code class="sig-name descname">streamlines</code><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Partially safe getter for streamlines</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.to_center">
<code class="sig-name descname">to_center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to shift streamlines so the center of voxel is
the origin</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.to_corner">
<code class="sig-name descname">to_corner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_corner" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to shift streamlines so the corner of voxel is
the origin</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.to_rasmm">
<code class="sig-name descname">to_rasmm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_rasmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.to_vox">
<code class="sig-name descname">to_vox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_vox" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.StatefulTractogram.to_voxmm">
<code class="sig-name descname">to_voxmm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.StatefulTractogram.to_voxmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id16">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.Streamlines" title="dipy.io.stateful_tractogram.Streamlines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Streamlines</span></code></a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="dipy.io.stateful_tractogram.Streamlines">
<code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">Streamlines</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>
</dd></dl>

</div>
<div class="section" id="tractogram">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a><a class="headerlink" href="#tractogram" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.Tractogram">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">Tractogram</code><span class="sig-paren">(</span><em class="sig-param">streamlines=None</em>, <em class="sig-param">data_per_streamline=None</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Container for streamlines and their data information.</p>
<p>Streamlines of a tractogram can be in any coordinate system of your
choice as long as you provide the correct <cite>affine_to_rasmm</cite> matrix, at
construction time. When applied to streamlines coordinates, that
transformation matrix should bring the streamlines back to world space
(RAS+ and mm space) <a href="#id34"><span class="problematic" id="id17">[1]_</span></a>.</p>
<p>Moreover, when streamlines are mapped back to voxel space <a href="#id35"><span class="problematic" id="id18">[2]_</span></a>, a
streamline point located at an integer coordinate (i,j,k) is considered
to be at the center of the corresponding voxel. This is in contrast with
other conventions where it might have referred to a corner.</p>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces">http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces</a>
[2] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space">http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space</a></p>
<dl class="field-list">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code> object</span></dt><dd><p>Sequence of <span class="math notranslate nohighlight">\(T\)</span> streamlines. Each streamline is an ndarray of
shape (<span class="math notranslate nohighlight">\(N_t\)</span>, 3) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points of
streamline <span class="math notranslate nohighlight">\(t\)</span>.</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArrayDict" title="dipy.io.stateful_tractogram.PerArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code></a> object</span></dt><dd><p>Dictionary where the items are (str, 2D array).  Each key represents a
piece of information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every streamline, and its
associated value is a 2D array of shape (<span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(P_i\)</span>) where <span class="math notranslate nohighlight">\(T\)</span> is the
number of streamlines and <span class="math notranslate nohighlight">\(P_i\)</span> is the number of values to store for
that particular piece of information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.PerArraySequenceDict" title="dipy.io.stateful_tractogram.PerArraySequenceDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArraySequenceDict</span></code></a> object</span></dt><dd><p>Dictionary where the items are (str, <code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code>).  Each key
represents a piece of information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every point
of every streamline, and its associated value is an iterable of
ndarrays of shape (<span class="math notranslate nohighlight">\(N_t\)</span>, <span class="math notranslate nohighlight">\(M_i\)</span>) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points
for a particular streamline <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(M_i\)</span> is the number values to store
for that particular piece of information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram.apply_affine" title="dipy.io.stateful_tractogram.Tractogram.apply_affine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_affine</span></code></a>(affine[, lazy])</p></td>
<td><p>Applies an affine transformation on the points of each streamline.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram.copy" title="dipy.io.stateful_tractogram.Tractogram.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Returns a copy of this <a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram.extend" title="dipy.io.stateful_tractogram.Tractogram.extend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extend</span></code></a>(other)</p></td>
<td><p>Appends the data of another <a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram.to_world" title="dipy.io.stateful_tractogram.Tractogram.to_world"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_world</span></code></a>([lazy])</p></td>
<td><p>Brings the streamlines to world space (i.e.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">streamlines=None</em>, <em class="sig-param">data_per_streamline=None</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier">iterable of ndarrays or <code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code>, optional</span></dt><dd><p>Sequence of <span class="math notranslate nohighlight">\(T\)</span> streamlines. Each streamline is an ndarray of
shape (<span class="math notranslate nohighlight">\(N_t\)</span>, 3) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points of
streamline <span class="math notranslate nohighlight">\(t\)</span>.</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier">dict of iterable of ndarrays, optional</span></dt><dd><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every
streamline, and its associated value is an iterable of ndarrays of
shape (<span class="math notranslate nohighlight">\(P_i\)</span>,) where <span class="math notranslate nohighlight">\(P_i\)</span> is the number of scalar values to store
for that particular information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier">dict of iterable of ndarrays, optional</span></dt><dd><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every
point of every streamline, and its associated value is an iterable
of ndarrays of shape (<span class="math notranslate nohighlight">\(N_t\)</span>, <span class="math notranslate nohighlight">\(M_i\)</span>) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of
points for a particular streamline <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(M_i\)</span> is the number
scalar values to store for that particular information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>affine_to_rasmm</strong><span class="classifier">ndarray of shape (4, 4) or None, optional</span></dt><dd><p>Transformation matrix that brings the streamlines contained in
this tractogram to <em>RAS+</em> and <em>mm</em> space where coordinate (0,0,0)
refers to the center of the voxel. By default, the streamlines
are in an unknown space, i.e. affine_to_rasmm is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.affine_to_rasmm">
<em class="property">property </em><code class="sig-name descname">affine_to_rasmm</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.affine_to_rasmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Affine bringing streamlines in this tractogram to RAS+mm.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.apply_affine">
<code class="sig-name descname">apply_affine</code><span class="sig-paren">(</span><em class="sig-param">affine</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies an affine transformation on the points of each streamline.</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>affine</strong><span class="classifier">ndarray of shape (4, 4)</span></dt><dd><p>Transformation that will be applied to every streamline.</p>
</dd>
<dt><strong>lazy</strong><span class="classifier">{False, True}, optional</span></dt><dd><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object</span></dt><dd><p>Tractogram where the streamlines have been transformed according
to the given affine transformation. If the <cite>lazy</cite> option is true,
it returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object, otherwise it returns a
reference to this <a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object with updated
streamlines.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of this <a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.data_per_point">
<em class="property">property </em><code class="sig-name descname">data_per_point</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.data_per_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.data_per_streamline">
<em class="property">property </em><code class="sig-name descname">data_per_streamline</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.data_per_streamline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the data of another <a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a>.</p>
<p>Data that will be appended includes the streamlines and the content
of both dictionaries <cite>data_per_streamline</cite> and <cite>data_per_point</cite>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object</span></dt><dd><p>Its data will be appended to the data of this tractogram.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The entries in both dictionaries <cite>self.data_per_streamline</cite> and
<cite>self.data_per_point</cite> must match respectively those contained in
the other tractogram.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.streamlines">
<em class="property">property </em><code class="sig-name descname">streamlines</code><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.streamlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.stateful_tractogram.Tractogram.to_world">
<code class="sig-name descname">to_world</code><span class="sig-paren">(</span><em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.Tractogram.to_world" title="Permalink to this definition">¶</a></dt>
<dd><p>Brings the streamlines to world space (i.e. RAS+ and mm).</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lazy</strong><span class="classifier">{False, True}, optional</span></dt><dd><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram</strong><span class="classifier"><a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object</span></dt><dd><p>Tractogram where the streamlines have been sent to world space.
If the <cite>lazy</cite> option is true, it returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code>
object, otherwise it returns a reference to this
<a class="reference internal" href="#dipy.io.stateful_tractogram.Tractogram" title="dipy.io.stateful_tractogram.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object with updated streamlines.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="itemgetter">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.itemgetter" title="dipy.io.stateful_tractogram.itemgetter"><code class="xref py py-class docutils literal notranslate"><span class="pre">itemgetter</span></code></a><a class="headerlink" href="#itemgetter" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.itemgetter">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">itemgetter</code><a class="headerlink" href="#dipy.io.stateful_tractogram.itemgetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>itemgetter(item, …) –&gt; itemgetter object</p>
<p>Return a callable object that fetches the given item(s) from its operand.
After f = itemgetter(2), the call f(r) returns r[2].
After g = itemgetter(2, 5, 3), the call g(r) returns (r[2], r[5], r[3])</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>($self, /, *args, **kwargs)</p></td>
<td><p>Call self as a function.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.itemgetter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">$self</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.itemgetter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="product">
<h3><a class="reference internal" href="#dipy.io.stateful_tractogram.product" title="dipy.io.stateful_tractogram.product"><code class="xref py py-class docutils literal notranslate"><span class="pre">product</span></code></a><a class="headerlink" href="#product" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.stateful_tractogram.product">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">product</code><a class="headerlink" href="#dipy.io.stateful_tractogram.product" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>product(<a href="#id19"><span class="problematic" id="id20">*</span></a>iterables, repeat=1) –&gt; product object</p>
<p>Cartesian product of input iterables.  Equivalent to nested for-loops.</p>
<p>For example, product(A, B) returns the same as:  ((x,y) for x in A for y in B).
The leftmost iterators are in the outermost for-loop, so the output tuples
cycle in a manner similar to an odometer (with the rightmost element changing
on every iteration).</p>
<p>To compute the product of an iterable with itself, specify the number
of repetitions with the optional repeat keyword argument. For example,
product(A, repeat=4) means the same as product(A, A, A, A).</p>
<p>product(‘ab’, range(3)) –&gt; (‘a’,0) (‘a’,1) (‘a’,2) (‘b’,0) (‘b’,1) (‘b’,2)
product((0,1), (0,1), (0,1)) –&gt; (0,0,0) (0,0,1) (0,1,0) (0,1,1) (1,0,0) …</p>
<dl class="method">
<dt id="dipy.io.stateful_tractogram.product.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">$self</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.product.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="apply-affine">
<h3>apply_affine<a class="headerlink" href="#apply-affine" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.stateful_tractogram.apply_affine">
<code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">apply_affine</code><span class="sig-paren">(</span><em class="sig-param">aff</em>, <em class="sig-param">pts</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>
<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The
coordinate dimension of <cite>pts</cite> should be the last.</p>
<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis
length 3 - maybe it will just be N by 3. The return value is the
transformed points, in this case:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">3</span><span class="p">],</span> <span class="n">pts</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="n">transformed_pts</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape
(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for
the coordinates, and is therefore length N-1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>aff</strong><span class="classifier">(N, N) array-like</span></dt><dd><p>Homogenous affine, for 3D points, will be 4 by 4. Contrary to first
appearance, the affine will be applied on the left of <cite>pts</cite>.</p>
</dd>
<dt><strong>pts</strong><span class="classifier">(…, N-1) array-like</span></dt><dd><p>Points, where the last dimension contains the coordinates of each
point.  For 3D, the last dimension will be length 3.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>transformed_pts</strong><span class="classifier">(…, N-1) array</span></dt><dd><p>transformed points</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_affine</span><span class="p">(</span><span class="n">aff</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">array([[14, 14, 24],</span>
<span class="go">       [16, 17, 28],</span>
<span class="go">       [20, 23, 36],</span>
<span class="go">       [24, 29, 44]]...)</span>
</pre></div>
</div>
<p>Just to show that in the simple 3D case, it is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">3</span><span class="p">],</span> <span class="n">pts</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="n">aff</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">T</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">array([[14, 14, 24],</span>
<span class="go">       [16, 17, 28],</span>
<span class="go">       [20, 23, 36],</span>
<span class="go">       [24, 29, 44]]...)</span>
</pre></div>
</div>
<p>But <cite>pts</cite> can be a more complicated shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pts</span> <span class="o">=</span> <span class="n">pts</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">apply_affine</span><span class="p">(</span><span class="n">aff</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span> <span class="c1">#doctest: +ELLIPSIS</span>
<span class="go">array([[[14, 14, 24],</span>
<span class="go">        [16, 17, 28]],</span>
<span class="go">&lt;BLANKLINE&gt;</span>
<span class="go">       [[20, 23, 36],</span>
<span class="go">        [24, 29, 44]]]...)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="bisect">
<h3>bisect<a class="headerlink" href="#bisect" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.stateful_tractogram.bisect">
<code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">bisect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.bisect" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for bisect_right().</p>
</dd></dl>

</div>
<div class="section" id="deepcopy">
<h3>deepcopy<a class="headerlink" href="#deepcopy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.stateful_tractogram.deepcopy">
<code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">memo=None</em>, <em class="sig-param">_nil=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy operation on arbitrary Python objects.</p>
<p>See the module’s __doc__ string for more info.</p>
</dd></dl>

</div>
<div class="section" id="get-reference-info">
<h3>get_reference_info<a class="headerlink" href="#get-reference-info" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.stateful_tractogram.get_reference_info">
<code class="sig-prename descclassname">dipy.io.stateful_tractogram.</code><code class="sig-name descname">get_reference_info</code><span class="sig-paren">(</span><em class="sig-param">reference</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.stateful_tractogram.get_reference_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Will compare the spatial attribute of 2 references</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">tuple</span></dt><dd><ul class="simple">
<li><p>affine ndarray (4,4), np.float32, tranformation of VOX to RASMM</p></li>
<li><p>dimensions list (3), int, volume shape for each axis</p></li>
<li><p>voxel_sizes  list (3), float, size of voxel for each axis</p></li>
<li><p>voxel_order, string, Typically ‘RAS’ or ‘LPS’</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id21">
<h3><a class="reference internal" href="#dipy.io.streamline.Dpy" title="dipy.io.streamline.Dpy"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dpy</span></code></a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.streamline.Dpy">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">Dpy</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy.read_track" title="dipy.io.streamline.Dpy.read_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_track</span></code></a>()</p></td>
<td><p>read one track each time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy.read_tracks" title="dipy.io.streamline.Dpy.read_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracks</span></code></a>()</p></td>
<td><p>read the entire tractography</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy.read_tracksi" title="dipy.io.streamline.Dpy.read_tracksi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_tracksi</span></code></a>(indices)</p></td>
<td><p>read tracks with specific indices</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy.write_track" title="dipy.io.streamline.Dpy.write_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_track</span></code></a>(track)</p></td>
<td><p>write on track each time</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Dpy.write_tracks" title="dipy.io.streamline.Dpy.write_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_tracks</span></code></a>(tracks)</p></td>
<td><p>write many tracks together</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" />
<col style="width: 48%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>close</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>version</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.streamline.Dpy.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">mode='r'</em>, <em class="sig-param">compression=0</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced storage system for tractography based on HDF5</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fname</strong><span class="classifier">str, full filename</span></dt><dd></dd>
<dt><strong>mode</strong><span class="classifier">‘r’ read</span></dt><dd><p>‘w’ write
‘r+’ read and write only if file already exists</p>
</dd>
<dt><strong>compression</strong><span class="classifier">0 no compression to 9 maximum compression</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tempfile</span> <span class="k">import</span> <span class="n">mkstemp</span> <span class="c1">#temp file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.io.dpy</span> <span class="k">import</span> <span class="n">Dpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">dpy_example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">fd</span><span class="p">,</span><span class="n">fname</span> <span class="o">=</span> <span class="n">mkstemp</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">fname</span> <span class="o">+=</span> <span class="s1">&#39;.dpy&#39;</span><span class="c1">#add correct extension</span>
<span class="gp">... </span>    <span class="n">dpw</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">B</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">C</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="n">A</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">write_track</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpw</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span> <span class="o">=</span> <span class="n">Dpy</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_track</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">read_tracksi</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">dpr</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="c1">#delete file from disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dpy_example</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.read_track">
<code class="sig-name descname">read_track</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.read_track" title="Permalink to this definition">¶</a></dt>
<dd><p>read one track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.read_tracks">
<code class="sig-name descname">read_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.read_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>read the entire tractography</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.read_tracksi">
<code class="sig-name descname">read_tracksi</code><span class="sig-paren">(</span><em class="sig-param">indices</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.read_tracksi" title="Permalink to this definition">¶</a></dt>
<dd><p>read tracks with specific indices</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.write_track">
<code class="sig-name descname">write_track</code><span class="sig-paren">(</span><em class="sig-param">track</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.write_track" title="Permalink to this definition">¶</a></dt>
<dd><p>write on track each time</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Dpy.write_tracks">
<code class="sig-name descname">write_tracks</code><span class="sig-paren">(</span><em class="sig-param">tracks</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Dpy.write_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>write many tracks together</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id22">
<h3><a class="reference internal" href="#dipy.io.streamline.Space" title="dipy.io.streamline.Space"><code class="xref py py-class docutils literal notranslate"><span class="pre">Space</span></code></a><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.streamline.Space">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">Space</code><a class="headerlink" href="#dipy.io.streamline.Space" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>Enum to simplify future change to convention</p>
<dl class="method">
<dt id="dipy.io.streamline.Space.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">$self</em>, <em class="sig-param">/</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Space.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.io.streamline.Space.RASMM">
<code class="sig-name descname">RASMM</code><em class="property"> = 'rasmm'</em><a class="headerlink" href="#dipy.io.streamline.Space.RASMM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.io.streamline.Space.VOX">
<code class="sig-name descname">VOX</code><em class="property"> = 'vox'</em><a class="headerlink" href="#dipy.io.streamline.Space.VOX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.io.streamline.Space.VOXMM">
<code class="sig-name descname">VOXMM</code><em class="property"> = 'voxmm'</em><a class="headerlink" href="#dipy.io.streamline.Space.VOXMM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="id23">
<h3><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram" title="dipy.io.streamline.StatefulTractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">StatefulTractogram</span></code></a><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.streamline.StatefulTractogram">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">StatefulTractogram</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">reference</em>, <em class="sig-param">space</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">data_per_streamline=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for stateful representation of collections of streamlines
Object designed to be identical no matter the file format
(trk, tck, vtk, fib, dpy). Facilitate transformation between space and
data manipulation for each streamline / point.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.data_per_point" title="dipy.io.streamline.StatefulTractogram.data_per_point"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_per_point</span></code></a></dt><dd><p>Getter for data_per_point</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.data_per_streamline" title="dipy.io.streamline.StatefulTractogram.data_per_streamline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_per_streamline</span></code></a></dt><dd><p>Getter for data_per_streamline</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.shifted_origin" title="dipy.io.streamline.StatefulTractogram.shifted_origin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shifted_origin</span></code></a></dt><dd><p>Getter for shift</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.space" title="dipy.io.streamline.StatefulTractogram.space"><code class="xref py py-obj docutils literal notranslate"><span class="pre">space</span></code></a></dt><dd><p>Getter for the current space</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.space_attribute" title="dipy.io.streamline.StatefulTractogram.space_attribute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">space_attribute</span></code></a></dt><dd><p>Getter for spatial attribute</p>
</dd>
<dt><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.streamlines" title="dipy.io.streamline.StatefulTractogram.streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">streamlines</span></code></a></dt><dd><p>Partially safe getter for streamlines</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.compute_bounding_box" title="dipy.io.streamline.StatefulTractogram.compute_bounding_box"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_bounding_box</span></code></a>()</p></td>
<td><p>Compute the bounding box of the streamlines in their current state</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.get_streamlines_copy" title="dipy.io.streamline.StatefulTractogram.get_streamlines_copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_streamlines_copy</span></code></a>()</p></td>
<td><p>Safe getter for streamlines (for slicing)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.is_bbox_in_vox_valid" title="dipy.io.streamline.StatefulTractogram.is_bbox_in_vox_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_bbox_in_vox_valid</span></code></a>()</p></td>
<td><p>Verify that the bounding box is valid in voxel space Will transform the streamlines for OBB, slow for big tractogram</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.remove_invalid_streamlines" title="dipy.io.streamline.StatefulTractogram.remove_invalid_streamlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_invalid_streamlines</span></code></a>()</p></td>
<td><p>Remove streamlines with invalid coordinates from the object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.to_center" title="dipy.io.streamline.StatefulTractogram.to_center"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_center</span></code></a>()</p></td>
<td><p>Safe function to shift streamlines so the center of voxel is the origin</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.to_corner" title="dipy.io.streamline.StatefulTractogram.to_corner"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_corner</span></code></a>()</p></td>
<td><p>Safe function to shift streamlines so the corner of voxel is the origin</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.to_rasmm" title="dipy.io.streamline.StatefulTractogram.to_rasmm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_rasmm</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.to_vox" title="dipy.io.streamline.StatefulTractogram.to_vox"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_vox</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.StatefulTractogram.to_voxmm" title="dipy.io.streamline.StatefulTractogram.to_voxmm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_voxmm</span></code></a>()</p></td>
<td><p>Safe function to transform streamlines and update state</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">reference</em>, <em class="sig-param">space</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">data_per_streamline=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a strict, state-aware, robust tractogram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list or ArraySequence</span></dt><dd><p>Streamlines of the tractogram</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header, trk.header (dict) or another Stateful Tractogram
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Current space in which the streamlines are (vox, voxmm or rasmm)
Typically after tracking the space is VOX, after nibabel loading
the space is RASMM</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (corner of the voxel)
True is NIFTI standard (center of the voxel)</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier">dict</span></dt><dd><p>Dictionary in which each key has X items, each items has Y_i items
X being the number of streamlines
Y_i being the number of points on streamlines #i</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier">dict</span></dt><dd><p>Dictionary in which each key has X items
X being the number of streamlines</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Very important to respect the convention, verify that streamlines
match the reference and are effectively in the right space.</p>
<p>Any change to the number of streamlines, data_per_point or
data_per_streamline requires particular verification.</p>
<p>In a case of manipulation not allowed by this object, use Nibabel
directly and be careful.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.compute_bounding_box">
<code class="sig-name descname">compute_bounding_box</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.compute_bounding_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the bounding box of the streamlines in their current state</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>output</strong><span class="classifier">ndarray</span></dt><dd><p>8 corners of the XYZ aligned box, all zeros if no streamlines</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.data_per_point">
<em class="property">property </em><code class="sig-name descname">data_per_point</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.data_per_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for data_per_point</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.data_per_streamline">
<em class="property">property </em><code class="sig-name descname">data_per_streamline</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.data_per_streamline" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for data_per_streamline</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.get_streamlines_copy">
<code class="sig-name descname">get_streamlines_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.get_streamlines_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe getter for streamlines (for slicing)</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.is_bbox_in_vox_valid">
<code class="sig-name descname">is_bbox_in_vox_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.is_bbox_in_vox_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the bounding box is valid in voxel space
Will transform the streamlines for OBB, slow for big tractogram</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Are the streamlines within the volume of the associated reference</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.remove_invalid_streamlines">
<code class="sig-name descname">remove_invalid_streamlines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.remove_invalid_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove streamlines with invalid coordinates from the object.
Will also remove the data_per_point and data_per_streamline.
Invalid coordinates are any X,Y,Z values above the reference
dimensions or below zero
Returns
——-
output : tuple</p>
<blockquote>
<div><p>Tuple of two list, indices_to_remove, indices_to_keep</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.shifted_origin">
<em class="property">property </em><code class="sig-name descname">shifted_origin</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.shifted_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for shift</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.space">
<em class="property">property </em><code class="sig-name descname">space</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.space" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for the current space</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.space_attribute">
<em class="property">property </em><code class="sig-name descname">space_attribute</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.space_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter for spatial attribute</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.streamlines">
<em class="property">property </em><code class="sig-name descname">streamlines</code><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Partially safe getter for streamlines</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.to_center">
<code class="sig-name descname">to_center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.to_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to shift streamlines so the center of voxel is
the origin</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.to_corner">
<code class="sig-name descname">to_corner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.to_corner" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to shift streamlines so the corner of voxel is
the origin</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.to_rasmm">
<code class="sig-name descname">to_rasmm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.to_rasmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.to_vox">
<code class="sig-name descname">to_vox</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.to_vox" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.StatefulTractogram.to_voxmm">
<code class="sig-name descname">to_voxmm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.StatefulTractogram.to_voxmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe function to transform streamlines and update state</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id24">
<h3><a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.streamline.Tractogram">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">Tractogram</code><span class="sig-paren">(</span><em class="sig-param">streamlines=None</em>, <em class="sig-param">data_per_streamline=None</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Container for streamlines and their data information.</p>
<p>Streamlines of a tractogram can be in any coordinate system of your
choice as long as you provide the correct <cite>affine_to_rasmm</cite> matrix, at
construction time. When applied to streamlines coordinates, that
transformation matrix should bring the streamlines back to world space
(RAS+ and mm space) <a href="#id36"><span class="problematic" id="id25">[1]_</span></a>.</p>
<p>Moreover, when streamlines are mapped back to voxel space <a href="#id37"><span class="problematic" id="id26">[2]_</span></a>, a
streamline point located at an integer coordinate (i,j,k) is considered
to be at the center of the corresponding voxel. This is in contrast with
other conventions where it might have referred to a corner.</p>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces">http://nipy.org/nibabel/coordinate_systems.html#naming-reference-spaces</a>
[2] <a class="reference external" href="http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space">http://nipy.org/nibabel/coordinate_systems.html#voxel-coordinates-are-in-voxel-space</a></p>
<dl class="field-list">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code> object</span></dt><dd><p>Sequence of <span class="math notranslate nohighlight">\(T\)</span> streamlines. Each streamline is an ndarray of
shape (<span class="math notranslate nohighlight">\(N_t\)</span>, 3) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points of
streamline <span class="math notranslate nohighlight">\(t\)</span>.</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArrayDict</span></code> object</span></dt><dd><p>Dictionary where the items are (str, 2D array).  Each key represents a
piece of information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every streamline, and its
associated value is a 2D array of shape (<span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(P_i\)</span>) where <span class="math notranslate nohighlight">\(T\)</span> is the
number of streamlines and <span class="math notranslate nohighlight">\(P_i\)</span> is the number of values to store for
that particular piece of information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">PerArraySequenceDict</span></code> object</span></dt><dd><p>Dictionary where the items are (str, <code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code>).  Each key
represents a piece of information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every point
of every streamline, and its associated value is an iterable of
ndarrays of shape (<span class="math notranslate nohighlight">\(N_t\)</span>, <span class="math notranslate nohighlight">\(M_i\)</span>) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points
for a particular streamline <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(M_i\)</span> is the number values to store
for that particular piece of information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Tractogram.apply_affine" title="dipy.io.streamline.Tractogram.apply_affine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_affine</span></code></a>(affine[, lazy])</p></td>
<td><p>Applies an affine transformation on the points of each streamline.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Tractogram.copy" title="dipy.io.streamline.Tractogram.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Returns a copy of this <a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dipy.io.streamline.Tractogram.extend" title="dipy.io.streamline.Tractogram.extend"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extend</span></code></a>(other)</p></td>
<td><p>Appends the data of another <a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.streamline.Tractogram.to_world" title="dipy.io.streamline.Tractogram.to_world"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_world</span></code></a>([lazy])</p></td>
<td><p>Brings the streamlines to world space (i.e.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.streamline.Tractogram.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">streamlines=None</em>, <em class="sig-param">data_per_streamline=None</em>, <em class="sig-param">data_per_point=None</em>, <em class="sig-param">affine_to_rasmm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>streamlines</strong><span class="classifier">iterable of ndarrays or <code class="xref py py-class docutils literal notranslate"><span class="pre">ArraySequence</span></code>, optional</span></dt><dd><p>Sequence of <span class="math notranslate nohighlight">\(T\)</span> streamlines. Each streamline is an ndarray of
shape (<span class="math notranslate nohighlight">\(N_t\)</span>, 3) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of points of
streamline <span class="math notranslate nohighlight">\(t\)</span>.</p>
</dd>
<dt><strong>data_per_streamline</strong><span class="classifier">dict of iterable of ndarrays, optional</span></dt><dd><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every
streamline, and its associated value is an iterable of ndarrays of
shape (<span class="math notranslate nohighlight">\(P_i\)</span>,) where <span class="math notranslate nohighlight">\(P_i\)</span> is the number of scalar values to store
for that particular information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>data_per_point</strong><span class="classifier">dict of iterable of ndarrays, optional</span></dt><dd><p>Dictionary where the items are (str, iterable).
Each key represents an information <span class="math notranslate nohighlight">\(i\)</span> to be kept alongside every
point of every streamline, and its associated value is an iterable
of ndarrays of shape (<span class="math notranslate nohighlight">\(N_t\)</span>, <span class="math notranslate nohighlight">\(M_i\)</span>) where <span class="math notranslate nohighlight">\(N_t\)</span> is the number of
points for a particular streamline <span class="math notranslate nohighlight">\(t\)</span> and <span class="math notranslate nohighlight">\(M_i\)</span> is the number
scalar values to store for that particular information <span class="math notranslate nohighlight">\(i\)</span>.</p>
</dd>
<dt><strong>affine_to_rasmm</strong><span class="classifier">ndarray of shape (4, 4) or None, optional</span></dt><dd><p>Transformation matrix that brings the streamlines contained in
this tractogram to <em>RAS+</em> and <em>mm</em> space where coordinate (0,0,0)
refers to the center of the voxel. By default, the streamlines
are in an unknown space, i.e. affine_to_rasmm is None.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.affine_to_rasmm">
<em class="property">property </em><code class="sig-name descname">affine_to_rasmm</code><a class="headerlink" href="#dipy.io.streamline.Tractogram.affine_to_rasmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Affine bringing streamlines in this tractogram to RAS+mm.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.apply_affine">
<code class="sig-name descname">apply_affine</code><span class="sig-paren">(</span><em class="sig-param">affine</em>, <em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies an affine transformation on the points of each streamline.</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>affine</strong><span class="classifier">ndarray of shape (4, 4)</span></dt><dd><p>Transformation that will be applied to every streamline.</p>
</dd>
<dt><strong>lazy</strong><span class="classifier">{False, True}, optional</span></dt><dd><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram</strong><span class="classifier"><a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object</span></dt><dd><p>Tractogram where the streamlines have been transformed according
to the given affine transformation. If the <cite>lazy</cite> option is true,
it returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object, otherwise it returns a
reference to this <a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object with updated
streamlines.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of this <a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.data_per_point">
<em class="property">property </em><code class="sig-name descname">data_per_point</code><a class="headerlink" href="#dipy.io.streamline.Tractogram.data_per_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.data_per_streamline">
<em class="property">property </em><code class="sig-name descname">data_per_streamline</code><a class="headerlink" href="#dipy.io.streamline.Tractogram.data_per_streamline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the data of another <a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a>.</p>
<p>Data that will be appended includes the streamlines and the content
of both dictionaries <cite>data_per_streamline</cite> and <cite>data_per_point</cite>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>other</strong><span class="classifier"><a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object</span></dt><dd><p>Its data will be appended to the data of this tractogram.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The entries in both dictionaries <cite>self.data_per_streamline</cite> and
<cite>self.data_per_point</cite> must match respectively those contained in
the other tractogram.</p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.streamlines">
<em class="property">property </em><code class="sig-name descname">streamlines</code><a class="headerlink" href="#dipy.io.streamline.Tractogram.streamlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dipy.io.streamline.Tractogram.to_world">
<code class="sig-name descname">to_world</code><span class="sig-paren">(</span><em class="sig-param">lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.Tractogram.to_world" title="Permalink to this definition">¶</a></dt>
<dd><p>Brings the streamlines to world space (i.e. RAS+ and mm).</p>
<p>If <cite>lazy</cite> is not specified, this is performed <em>in-place</em>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lazy</strong><span class="classifier">{False, True}, optional</span></dt><dd><p>If True, streamlines are <em>not</em> transformed in-place and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object is returned. Otherwise, streamlines
are modified in-place.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram</strong><span class="classifier"><a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code> object</span></dt><dd><p>Tractogram where the streamlines have been sent to world space.
If the <cite>lazy</cite> option is true, it returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">LazyTractogram</span></code>
object, otherwise it returns a reference to this
<a class="reference internal" href="#dipy.io.streamline.Tractogram" title="dipy.io.streamline.Tractogram"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tractogram</span></code></a> object with updated streamlines.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="create-tractogram-header">
<h3>create_tractogram_header<a class="headerlink" href="#create-tractogram-header" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.create_tractogram_header">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">create_tractogram_header</code><span class="sig-paren">(</span><em class="sig-param">tractogram_type</em>, <em class="sig-param">affine</em>, <em class="sig-param">dimensions</em>, <em class="sig-param">voxel_sizes</em>, <em class="sig-param">voxel_order</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.create_tractogram_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a standard trk/tck header from spatial attribute</p>
</dd></dl>

</div>
<div class="section" id="id27">
<h3>deepcopy<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.deepcopy">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">memo=None</em>, <em class="sig-param">_nil=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy operation on arbitrary Python objects.</p>
<p>See the module’s __doc__ string for more info.</p>
</dd></dl>

</div>
<div class="section" id="detect-format">
<h3>detect_format<a class="headerlink" href="#detect-format" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.detect_format">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">detect_format</code><span class="sig-paren">(</span><em class="sig-param">fileobj</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.detect_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the StreamlinesFile object guessed from the file-like object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fileobj</strong><span class="classifier">string or file-like object</span></dt><dd><p>If string, a filename; otherwise an open file-like object pointing
to a tractogram file (and ready to read from the beginning of the
header)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram_file</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">TractogramFile</span></code> class</span></dt><dd><p>The class type guessed from the content of <cite>fileobj</cite>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="is-header-compatible">
<h3>is_header_compatible<a class="headerlink" href="#is-header-compatible" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.is_header_compatible">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">is_header_compatible</code><span class="sig-paren">(</span><em class="sig-param">reference_1</em>, <em class="sig-param">reference_2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.is_header_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Will compare the spatial attribute of 2 references</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference_1</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header or trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
<dt><strong>reference_2</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header or trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Does all the spatial attribute match</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-dpy">
<h3>load_dpy<a class="headerlink" href="#load-dpy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_dpy">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_dpy</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_dpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram of the dpy format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-fib">
<h3>load_fib<a class="headerlink" href="#load-fib" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_fib">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_fib</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_fib" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram of the fib format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-tck">
<h3>load_tck<a class="headerlink" href="#load-tck" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_tck">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_tck</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_tck" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram of the tck format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-tractogram">
<h3>load_tractogram<a class="headerlink" href="#load-tractogram" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_tractogram">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_tractogram</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_tractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram from any format (trk, tck, fib, dpy)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-trk">
<h3>load_trk<a class="headerlink" href="#load-trk" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_trk">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_trk</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_trk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram of the trk format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-vtk">
<h3>load_vtk<a class="headerlink" href="#load-vtk" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_vtk">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_vtk</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">reference</em>, <em class="sig-param">to_space=&lt;Space.RASMM: 'rasmm'&gt;</em>, <em class="sig-param">shifted_origin=False</em>, <em class="sig-param">bbox_valid_check=True</em>, <em class="sig-param">trk_header_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stateful tractogram of the vtk format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict), or ‘same’ if the input is a trk file.
Reference that provides the spatial attribute.
Typically a nifti-related object from the native diffusion used for
streamlines generation</p>
</dd>
<dt><strong>space</strong><span class="classifier">string</span></dt><dd><p>Space in which the streamlines will be transformed after loading
(vox, voxmm or rasmm)</p>
</dd>
<dt><strong>shifted_origin</strong><span class="classifier">bool</span></dt><dd><p>Information on the position of the origin,
False is Trackvis standard, default (center of the voxel)
True is NIFTI standard (corner of the voxel)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The tractogram to load (must have been saved properly)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-vtk-streamlines">
<h3>load_vtk_streamlines<a class="headerlink" href="#load-vtk-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.load_vtk_streamlines">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">load_vtk_streamlines</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">to_lps=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.load_vtk_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Load streamlines from vtk polydata.</p>
<p>Load formats can be VTK, FIB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>input filename (.vtk or .fib)</p>
</dd>
<dt><strong>to_lps</strong><span class="classifier">bool</span></dt><dd><p>Default to True, will follow the vtk file convention for streamlines
Will be supported by MITKDiffusion and MI-Brain</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">list</span></dt><dd><p>list of 2D arrays</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-dpy">
<h3>save_dpy<a class="headerlink" href="#save-dpy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_dpy">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_dpy</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_dpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in dpy format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-fib">
<h3>save_fib<a class="headerlink" href="#save-fib" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_fib">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_fib</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_fib" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in fib format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-tck">
<h3>save_tck<a class="headerlink" href="#save-tck" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_tck">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_tck</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_tck" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in tck format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-tractogram">
<h3>save_tractogram<a class="headerlink" href="#save-tractogram" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_tractogram">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_tractogram</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_tractogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in any format (trk, tck, vtk, fib, dpy)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-trk">
<h3>save_trk<a class="headerlink" href="#save-trk" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_trk">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_trk</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_trk" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in trk format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-vtk">
<h3>save_vtk<a class="headerlink" href="#save-vtk" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_vtk">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_vtk</code><span class="sig-paren">(</span><em class="sig-param">sft</em>, <em class="sig-param">filename</em>, <em class="sig-param">bbox_valid_check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the stateful tractogram in vtk format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sft</strong><span class="classifier">StatefulTractogram</span></dt><dd><p>The stateful tractogram to save</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>Filename with valid extension</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Did the saving work properly</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="save-vtk-streamlines">
<h3>save_vtk_streamlines<a class="headerlink" href="#save-vtk-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.streamline.save_vtk_streamlines">
<code class="sig-prename descclassname">dipy.io.streamline.</code><code class="sig-name descname">save_vtk_streamlines</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">filename</em>, <em class="sig-param">to_lps=True</em>, <em class="sig-param">binary=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.streamline.save_vtk_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Save streamlines as vtk polydata to a supported format file.</p>
<p>File formats can be VTK, FIB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>list of 2D arrays or ArraySequence</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>output filename (.vtk or .fib)</p>
</dd>
<dt><strong>to_lps</strong><span class="classifier">bool</span></dt><dd><p>Default to True, will follow the vtk file convention for streamlines
Will be supported by MITKDiffusion and MI-Brain</p>
</dd>
<dt><strong>binary</strong><span class="classifier">bool</span></dt><dd><p>save the file as binary</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="nifti1image">
<h3><a class="reference internal" href="#dipy.io.utils.Nifti1Image" title="dipy.io.utils.Nifti1Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Nifti1Image</span></code></a><a class="headerlink" href="#nifti1image" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="dipy.io.utils.Nifti1Image">
<em class="property">class </em><code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">Nifti1Image</code><span class="sig-paren">(</span><em class="sig-param">dataobj</em>, <em class="sig-param">affine</em>, <em class="sig-param">header=None</em>, <em class="sig-param">extra=None</em>, <em class="sig-param">file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.Nifti1Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.nifti1.Nifti1Pair</span></code></p>
<p>Class for single file NIfTI1 format image</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>affine</strong></dt><dd></dd>
<dt><strong>dataobj</strong></dt><dd></dd>
<dt><strong>header</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">in_memory</span></code></dt><dd><p>True when any array data is in memory cache</p>
</dd>
<dt><strong>ndim</strong></dt><dd></dd>
<dt><strong>shape</strong></dt><dd></dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">slicer</span></code></dt><dd><p>Slicer object that returns cropped and subsampled images</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageArrayProxy</span></code></p></td>
<td><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.arrayproxy.ArrayProxy</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ImageSlicer</span></code></p></td>
<td><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nibabel.spatialimages.SpatialFirstSlicer</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_reoriented</span></code>(ornt)</p></td>
<td><p>Apply an orientation change and return a new image</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">filespec_to_file_map</span></code>(filespec)</p></td>
<td><p>Make <cite>file_map</cite> for this class from filename <cite>filespec</cite></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">filespec_to_files</span></code>(filespec)</p></td>
<td><p>filespec_to_files class method is deprecated.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_file_map</span></code>(file_map[, mmap, keep_file_open])</p></td>
<td><p>class method to create image from mapping in <cite>file_map `</cite></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_filename</span></code>(filename[, mmap, keep_file_open])</p></td>
<td><p>class method to create image from filename <cite>filename</cite></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_files</span></code>(file_map)</p></td>
<td><p>from_files class method is deprecated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_image</span></code>(img)</p></td>
<td><p>Class method to create new instance of own class from <cite>img</cite></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_affine</span></code>()</p></td>
<td><p>Get affine from image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data</span></code>([caching])</p></td>
<td><p>Return image data from image with any necessary scaling applied</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fdata</span></code>([caching, dtype])</p></td>
<td><p>Return floating point image data with necessary scaling applied</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_filename</span></code>()</p></td>
<td><p>Fetch the image filename</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_header</span></code>()</p></td>
<td><p>Get header from image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_qform</span></code>([coded])</p></td>
<td><p>Return 4x4 affine matrix from qform parameters in header</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_sform</span></code>([coded])</p></td>
<td><p>Return 4x4 affine matrix from sform parameters in header</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_shape</span></code>()</p></td>
<td><p>Return shape for image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.Nifti1Image.header_class" title="dipy.io.utils.Nifti1Image.header_class"><code class="xref py py-obj docutils literal notranslate"><span class="pre">header_class</span></code></a></p></td>
<td><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Nifti1Header</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">instance_to_filename</span></code>(img, filename)</p></td>
<td><p>Save <cite>img</cite> in our own format, to name implied by <cite>filename</cite></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code>(filename[, mmap, keep_file_open])</p></td>
<td><p>class method to create image from filename <cite>filename</cite></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_file_map</span></code>([mapping])</p></td>
<td><p>Class method to make files holder for this image type</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">orthoview</span></code>()</p></td>
<td><p>Plot the image using OrthoSlicer3D</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">path_maybe_image</span></code>(filename[, sniff, sniff_max])</p></td>
<td><p>Return True if <cite>filename</cite> may be image matching this class</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_filename</span></code>(filename)</p></td>
<td><p>Sets the files in the object from a given filename</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_qform</span></code>(affine[, code, strip_shears])</p></td>
<td><p>Set qform header values from 4x4 affine</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_sform</span></code>(affine[, code])</p></td>
<td><p>Set sform transform from 4x4 affine</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_file_map</span></code>([file_map])</p></td>
<td><p>Write image to <cite>file_map</cite> or contained <code class="docutils literal notranslate"><span class="pre">self.file_map</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_filename</span></code>(filename)</p></td>
<td><p>Write image to files implied by filename string</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_files</span></code>([file_map])</p></td>
<td><p>to_files method is deprecated.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_filespec</span></code>(filename)</p></td>
<td><p>to_filespec method is deprecated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">uncache</span></code>()</p></td>
<td><p>Delete any cached read of data from proxied data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#dipy.io.utils.Nifti1Image.update_header" title="dipy.io.utils.Nifti1Image.update_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_header</span></code></a>()</p></td>
<td><p>Harmonize header with image data and affine</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 64%" />
<col style="width: 36%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>get_data_dtype</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>set_data_dtype</strong></p></td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="dipy.io.utils.Nifti1Image.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">dataobj</em>, <em class="sig-param">affine</em>, <em class="sig-param">header=None</em>, <em class="sig-param">extra=None</em>, <em class="sig-param">file_map=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.Nifti1Image.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize image</p>
<blockquote>
<div><p>The image is a combination of (array-like, affine matrix, header), with
optional metadata in <cite>extra</cite>, and filename / file-like objects
contained in the <cite>file_map</cite> mapping.</p>
</div></blockquote>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>dataobj</strong><span class="classifier">object</span></dt><dd><blockquote>
<div><p>Object containg image data.  It should be some object that retuns an
array from <code class="docutils literal notranslate"><span class="pre">np.asanyarray</span></code>.  It should have a <code class="docutils literal notranslate"><span class="pre">shape</span></code> attribute
or property</p>
</div></blockquote>
<dl class="simple">
<dt>affine<span class="classifier">None or (4,4) array-like</span></dt><dd><p>homogenous affine giving relationship between voxel coordinates and
world coordinates.  Affine can also be None.  In this case,
<code class="docutils literal notranslate"><span class="pre">obj.affine</span></code> also returns None, and the affine as written to disk
will depend on the file format.</p>
</dd>
<dt>header<span class="classifier">None or mapping or header instance, optional</span></dt><dd><p>metadata for this image format</p>
</dd>
<dt>extra<span class="classifier">None or mapping, optional</span></dt><dd><p>metadata to associate with image that cannot be stored in the
metadata of this image type</p>
</dd>
<dt>file_map<span class="classifier">mapping, optional</span></dt><dd><p>mapping giving file information for this image format</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If both a <cite>header</cite> and an <cite>affine</cite> are specified, and the <cite>affine</cite> does
not match the affine that is in the <cite>header</cite>, the <cite>affine</cite> will be used,
but the <code class="docutils literal notranslate"><span class="pre">sform_code</span></code> and <code class="docutils literal notranslate"><span class="pre">qform_code</span></code> fields in the header will be
re-initialised to their default values. This is performed on the basis
that, if you are changing the affine, you are likely to be changing the
space to which the affine is pointing.  The <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_sform()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">set_qform()</span></code> methods can be used to update the codes after an image
has been created - see those methods, and the <span class="xref std std-ref">manual</span> for more details.</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.io.utils.Nifti1Image.files_types">
<code class="sig-name descname">files_types</code><em class="property"> = (('image', '.nii'),)</em><a class="headerlink" href="#dipy.io.utils.Nifti1Image.files_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="dipy.io.utils.Nifti1Image.header_class">
<code class="sig-name descname">header_class</code><a class="headerlink" href="#dipy.io.utils.Nifti1Image.header_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Nifti1Header</span></code></p>
</dd></dl>

<dl class="method">
<dt id="dipy.io.utils.Nifti1Image.update_header">
<code class="sig-name descname">update_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.Nifti1Image.update_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Harmonize header with image data and affine</p>
</dd></dl>

<dl class="attribute">
<dt id="dipy.io.utils.Nifti1Image.valid_exts">
<code class="sig-name descname">valid_exts</code><em class="property"> = ('.nii',)</em><a class="headerlink" href="#dipy.io.utils.Nifti1Image.valid_exts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="create-nifti-header">
<h3>create_nifti_header<a class="headerlink" href="#create-nifti-header" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.create_nifti_header">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">create_nifti_header</code><span class="sig-paren">(</span><em class="sig-param">affine</em>, <em class="sig-param">dimensions</em>, <em class="sig-param">voxel_sizes</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.create_nifti_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a standard nifti header from spatial attribute</p>
</dd></dl>

</div>
<div class="section" id="id28">
<h3>create_tractogram_header<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.create_tractogram_header">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">create_tractogram_header</code><span class="sig-paren">(</span><em class="sig-param">tractogram_type</em>, <em class="sig-param">affine</em>, <em class="sig-param">dimensions</em>, <em class="sig-param">voxel_sizes</em>, <em class="sig-param">voxel_order</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.create_tractogram_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a standard trk/tck header from spatial attribute</p>
</dd></dl>

</div>
<div class="section" id="decfa">
<h3>decfa<a class="headerlink" href="#decfa" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.decfa">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">decfa</code><span class="sig-paren">(</span><em class="sig-param">img_orig</em>, <em class="sig-param">scale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.decfa" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a nifti-compliant directional-encoded color FA image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>img_orig</strong><span class="classifier">Nifti1Image class instance.</span></dt><dd><p>Contains encoding of the DEC FA image with a 4D volume of data, where
the elements on the last dimension represent R, G and B components.</p>
</dd>
<dt><strong>scale: bool.</strong></dt><dd><p>Whether to scale the incoming data from the 0-1 to the 0-255 range
expected in the output.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>img</strong><span class="classifier">Nifti1Image class instance with dtype set to store tuples of</span></dt><dd><p>uint8 in (R, G, B) order.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For a description of this format, see:</p>
<p><a class="reference external" href="https://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/nifti1fields_pages/datatype.html">https://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/nifti1fields_pages/datatype.html</a></p>
</dd></dl>

</div>
<div class="section" id="decfa-to-float">
<h3>decfa_to_float<a class="headerlink" href="#decfa-to-float" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.decfa_to_float">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">decfa_to_float</code><span class="sig-paren">(</span><em class="sig-param">img_orig</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.decfa_to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a nifti-compliant directional-encoded color FA image into a
nifti image with RGB encoded in floating point resolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>img_orig</strong><span class="classifier">Nifti1Image class instance.</span></dt><dd><p>Contains encoding of the DEC FA image with a 3D volume of data, where
each element is a (R, G, B) tuple in uint8.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>img</strong><span class="classifier">Nifti1Image class instance with float dtype.</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>For a description of this format, see:</p>
<p><a class="reference external" href="https://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/nifti1fields_pages/datatype.html">https://nifti.nimh.nih.gov/nifti-1/documentation/nifti1fields/nifti1fields_pages/datatype.html</a></p>
</dd></dl>

</div>
<div class="section" id="id29">
<h3>detect_format<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.detect_format">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">detect_format</code><span class="sig-paren">(</span><em class="sig-param">fileobj</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.detect_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the StreamlinesFile object guessed from the file-like object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fileobj</strong><span class="classifier">string or file-like object</span></dt><dd><p>If string, a filename; otherwise an open file-like object pointing
to a tractogram file (and ready to read from the beginning of the
header)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>tractogram_file</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">TractogramFile</span></code> class</span></dt><dd><p>The class type guessed from the content of <cite>fileobj</cite>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id30">
<h3>get_reference_info<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.get_reference_info">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">get_reference_info</code><span class="sig-paren">(</span><em class="sig-param">reference</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.get_reference_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Will compare the spatial attribute of 2 references</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile, Nifti1Header or</span></dt><dd><p>trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">tuple</span></dt><dd><ul class="simple">
<li><p>affine ndarray (4,4), np.float32, tranformation of VOX to RASMM</p></li>
<li><p>dimensions list (3), int, volume shape for each axis</p></li>
<li><p>voxel_sizes  list (3), float, size of voxel for each axis</p></li>
<li><p>voxel_order, string, Typically ‘RAS’ or ‘LPS’</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id31">
<h3>is_header_compatible<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.is_header_compatible">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">is_header_compatible</code><span class="sig-paren">(</span><em class="sig-param">reference_1</em>, <em class="sig-param">reference_2</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.is_header_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Will compare the spatial attribute of 2 references</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>reference_1</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header or trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
<dt><strong>reference_2</strong><span class="classifier">Nifti or Trk filename, Nifti1Image or TrkFile,</span></dt><dd><p>Nifti1Header or trk.header (dict)
Reference that provides the spatial attribute.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">bool</span></dt><dd><p>Does all the spatial attribute match</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="make5d">
<h3>make5d<a class="headerlink" href="#make5d" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.make5d">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">make5d</code><span class="sig-paren">(</span><em class="sig-param">input</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.make5d" title="Permalink to this definition">¶</a></dt>
<dd><p>reshapes the input to have 5 dimensions, adds extra dimensions just
before the last dimession</p>
</dd></dl>

</div>
<div class="section" id="nifti1-symmat">
<h3>nifti1_symmat<a class="headerlink" href="#nifti1-symmat" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.utils.nifti1_symmat">
<code class="sig-prename descclassname">dipy.io.utils.</code><code class="sig-name descname">nifti1_symmat</code><span class="sig-paren">(</span><em class="sig-param">image_data</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.utils.nifti1_symmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Nifti1Image with a symmetric matrix intent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image_data</strong><span class="classifier">array-like</span></dt><dd><p>should have lower triangular elements of a symmetric matrix along the
last dimension</p>
</dd>
<dt><strong>all other arguments and keywords are passed to Nifti1Image</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>image</strong><span class="classifier">Nifti1Image</span></dt><dd><p>5d, extra dimensions addes before the last. Has symmetric matrix intent
code</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="load-polydata">
<h3>load_polydata<a class="headerlink" href="#load-polydata" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.load_polydata">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">load_polydata</code><span class="sig-paren">(</span><em class="sig-param">file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.load_polydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a vtk polydata to a supported format file.</p>
<p>Supported file formats are OBJ, VTK, FIB, PLY, STL and XML</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_name</strong><span class="classifier">string</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">vtkPolyData</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id32">
<h3>load_vtk_streamlines<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.load_vtk_streamlines">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">load_vtk_streamlines</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">to_lps=True</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.load_vtk_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Load streamlines from vtk polydata.</p>
<p>Load formats can be VTK, FIB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>input filename (.vtk or .fib)</p>
</dd>
<dt><strong>to_lps</strong><span class="classifier">bool</span></dt><dd><p>Default to True, will follow the vtk file convention for streamlines
Will be supported by MITKDiffusion and MI-Brain</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>output</strong><span class="classifier">list</span></dt><dd><p>list of 2D arrays</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="optional-package">
<h3>optional_package<a class="headerlink" href="#optional-package" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.optional_package">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">optional_package</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">trip_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.optional_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Return package-like thing and module setup for package <cite>name</cite></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>package name</p>
</dd>
<dt><strong>trip_msg</strong><span class="classifier">None or str</span></dt><dd><p>message to give when someone tries to use the return package, but we
could not import it, and have returned a TripWire object instead.
Default message if None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>pkg_like</strong><span class="classifier">module or <code class="docutils literal notranslate"><span class="pre">TripWire</span></code> instance</span></dt><dd><p>If we can import the package, return it.  Otherwise return an object
raising an error when accessed</p>
</dd>
<dt><strong>have_pkg</strong><span class="classifier">bool</span></dt><dd><p>True if import for package was successful, false otherwise</p>
</dd>
<dt><strong>module_setup</strong><span class="classifier">function</span></dt><dd><p>callable usually set as <code class="docutils literal notranslate"><span class="pre">setup_module</span></code> in calling namespace, to allow
skipping tests.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Typical use would be something like this at the top of a module using an
optional package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dipy.utils.optpkg</span> <span class="k">import</span> <span class="n">optional_package</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pkg</span><span class="p">,</span> <span class="n">have_pkg</span><span class="p">,</span> <span class="n">setup_module</span> <span class="o">=</span> <span class="n">optional_package</span><span class="p">(</span><span class="s1">&#39;not_a_package&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course in this case the package doesn’t exist, and so, in the module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">have_pkg</span>
<span class="go">False</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pkg</span><span class="o">.</span><span class="n">some_function</span><span class="p">()</span> <span class="c1">#doctest: +IGNORE_EXCEPTION_DETAIL</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">TripWireError</span>: <span class="n">We need package not_a_package for these functions, but</span>
<span class="go">``import not_a_package`` raised an ImportError</span>
</pre></div>
</div>
<p>If the module does exist - we get the module</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pkg</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">optional_package</span><span class="p">(</span><span class="s1">&#39;os&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">pkg</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Or a submodule if that’s what we asked for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">subpkg</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">optional_package</span><span class="p">(</span><span class="s1">&#39;os.path&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">subpkg</span><span class="p">,</span> <span class="s1">&#39;dirname&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="save-polydata">
<h3>save_polydata<a class="headerlink" href="#save-polydata" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.save_polydata">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">save_polydata</code><span class="sig-paren">(</span><em class="sig-param">polydata</em>, <em class="sig-param">file_name</em>, <em class="sig-param">binary=False</em>, <em class="sig-param">color_array_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.save_polydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a vtk polydata to a supported format file.</p>
<p>Save formats can be VTK, FIB, PLY, STL and XML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>polydata</strong><span class="classifier">vtkPolyData</span></dt><dd></dd>
<dt><strong>file_name</strong><span class="classifier">string</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id33">
<h3>save_vtk_streamlines<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.save_vtk_streamlines">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">save_vtk_streamlines</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">filename</em>, <em class="sig-param">to_lps=True</em>, <em class="sig-param">binary=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.save_vtk_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Save streamlines as vtk polydata to a supported format file.</p>
<p>File formats can be VTK, FIB</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">list</span></dt><dd><p>list of 2D arrays or ArraySequence</p>
</dd>
<dt><strong>filename</strong><span class="classifier">string</span></dt><dd><p>output filename (.vtk or .fib)</p>
</dd>
<dt><strong>to_lps</strong><span class="classifier">bool</span></dt><dd><p>Default to True, will follow the vtk file convention for streamlines
Will be supported by MITKDiffusion and MI-Brain</p>
</dd>
<dt><strong>binary</strong><span class="classifier">bool</span></dt><dd><p>save the file as binary</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="setup-module">
<h3>setup_module<a class="headerlink" href="#setup-module" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.setup_module">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">setup_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.setup_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="transform-streamlines">
<h3>transform_streamlines<a class="headerlink" href="#transform-streamlines" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="dipy.io.vtk.transform_streamlines">
<code class="sig-prename descclassname">dipy.io.vtk.</code><code class="sig-name descname">transform_streamlines</code><span class="sig-paren">(</span><em class="sig-param">streamlines</em>, <em class="sig-param">mat</em>, <em class="sig-param">in_place=False</em><span class="sig-paren">)</span><a class="headerlink" href="#dipy.io.vtk.transform_streamlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply affine transformation to streamlines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Streamlines object</p>
</dd>
<dt><strong>mat</strong><span class="classifier">array, (4, 4)</span></dt><dd><p>transformation matrix</p>
</dd>
<dt><strong>in_place</strong><span class="classifier">bool</span></dt><dd><p>If True then change data in place.
Be careful changes input streamlines.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>new_streamlines</strong><span class="classifier">Streamlines</span></dt><dd><p>Sequence transformed 2D ndarrays of shape[-1]==3</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dipy.reconst.html" title="reconst"
             >next</a> |</li>
        <li class="right" >
          <a href="dipy.direction.html" title="direction"
             >previous</a> |</li>
  <li><a href="../index.html">Home</a> |&nbsp;</li>
  <li><a href="../stateoftheart.html">Overview</a> |&nbsp;</li>
  <li><a href="../examples_index.html">Gallery</a> |&nbsp;</li>
  <li><a href="../installation.html">Download</a> |&nbsp;</li>
  <li><a href="../subscribe.html">Subscribe</a> |&nbsp;</li>
  <li><a href="../developers.html">Developers</a> |&nbsp;</li>
  <li><a href="../cite.html">Cite</a> &nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >API Reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2019, dipy developers &lt;neuroimaging@python.org&gt;.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>